{"cacheVersion":75,"page":{"id":"aa9bc985-63ed-4aea-84c1-56259e85c983","paths":{"de":"dashboard-parent","en":"dashboard-parent","default":"dashboard-parent"},"cmsDataSetPath":null,"workflows":[{"id":"4e2752a8-b93b-4bd5-a1b1-042d53c2e2ca","name":"Initialize Dashboard","actions":{"18cfa888-c854-4c46-a4a9-74a7e62cc701":{"id":"18cfa888-c854-4c46-a4a9-74a7e62cc701","code":"// This script would normally fetch data from an API\n// For now, we're using the predefined variables\n\n// Ensure the teacher data is loaded\nconsole.log(\"Teacher dashboard initialized for:\", variables['bbc35947-6667-4487-8fa5-935a51215870'].firstName);\n\n// Set up the current class based on time\nconst currentTime = variables['6984db79-fffd-4316-8f6b-847592026bf1'];\nconst schedule = variables['cf2dcde9-9a9d-4539-81e4-445157bbd67a'];\n\n// In a real implementation, we would determine the current class based on the time\n// and update the currentTeacher.currentClass accordingly\n\n// Initialize the view mode if not already set\nif (!variables['9f567e70-e20b-44ac-8c59-0dc1fc75a8e0']) {\n  variables['9f567e70-e20b-44ac-8c59-0dc1fc75a8e0'] = 'list';\n}","next":null,"type":"custom-js"}},"trigger":"onload","description":"Fetches initial teacher data and schedule on page load","firstAction":"18cfa888-c854-4c46-a4a9-74a7e62cc701","firstErrorAction":null},{"id":"5bc31707-9202-4d97-8a7a-a879bd49a0b1","name":"Update Current Time","actions":{"997f12ac-14c0-4e3b-bb92-b2e152c209f7":{"id":"997f12ac-14c0-4e3b-bb92-b2e152c209f7","code":"// In a real implementation, this would update the time every minute\n// and determine the current period based on the schedule\n\n// Set up an interval to update the time\nconst updateTimeInterval = setInterval(() => {\n  // Get the current time\n  const now = new Date();\n  \n  // Format the time as HH:MM\n  const hours = now.getHours().toString().padStart(2, '0');\n  const minutes = now.getMinutes().toString().padStart(2, '0');\n  const formattedTime = `${hours}:${minutes}`;\n  \n  // Update the current time object\n  const updatedTime = { ...variables['6984db79-fffd-4316-8f6b-847592026bf1'] };\n  updatedTime.time = formattedTime;\n  \n  // In a real implementation, we would also update the period and dayStatus\n  // based on the current time and schedule\n  \n  // Update the time variable\n  variables['6984db79-fffd-4316-8f6b-847592026bf1'] = updatedTime;\n  \n}, 60000); // Update every minute\n\n// Clean up the interval when the page is unloaded\nwwLib.getFrontWindow().addEventListener('beforeunload', () => {\n  clearInterval(updateTimeInterval);\n});","next":null,"type":"custom-js"}},"trigger":"onload","description":"Updates current time and period information every minute","firstAction":"997f12ac-14c0-4e3b-bb92-b2e152c209f7","firstErrorAction":null},{"id":"47f10800-ec6f-4945-a531-0a053b8e3da9","name":"Initialize Parent Portal","actions":{"35ad0cdc-8c98-42b2-aa98-93503505c52b":{"id":"35ad0cdc-8c98-42b2-aa98-93503505c52b","code":"// Set initial loading state\nvariables['235f2438-9f0b-412f-866c-d350e65024ad'] = true;\n\n// Initialize language if not already set\nif (!variables['a978df6a-4a73-46dd-bf3e-3cf6295bcd65']) {\n  variables['a978df6a-4a73-46dd-bf3e-3cf6295bcd65'] = 'en';\n}\n\n// Fetch all required data for the parent portal\nutilsFunctions.executeGlobalFunction['bd146d7b-c64b-4b47-b018-1b48203d1681']();","next":null,"type":"custom-js"}},"trigger":"onload","description":"Fetches initial data for parent portal on page load including linked children, announcements and events","firstAction":"35ad0cdc-8c98-42b2-aa98-93503505c52b","firstErrorAction":null},{"id":"d4d3cdc0-6915-4939-a8b3-ea0f7ffdf955","actions":{"4d474f2c-bf5e-44c1-ba21-d67ec840075e":{"id":"4d474f2c-bf5e-44c1-ba21-d67ec840075e","next":"c0b3da5b-b161-4459-80ac-d28515fe7d61","type":"filter","value":{"code":"pluginVariables['1fa0dd68-5069-436c-9a7d-3b54c340f1fa']['isAuthenticated']==false","__wwtype":"f"}},"c0b3da5b-b161-4459-80ac-d28515fe7d61":{"id":"c0b3da5b-b161-4459-80ac-d28515fe7d61","type":"change-page","pageId":"043a5ae1-7e01-4e2f-b0fb-f5335c74f137","navigateMode":"internal"}},"trigger":"onload","firstAction":"4d474f2c-bf5e-44c1-ba21-d67ec840075e"}]},"sections":{"2026f08e-31d3-4195-9182-0cdeca385266":{"uid":"2026f08e-31d3-4195-9182-0cdeca385266","linkId":"81fbb6cd-a4ec-4211-ad43-8733b14aeb58","_state":{"style":{"default":{"margin":"100px 0 0 0","display":{"code":"variables['461d0f2f-dc00-49e1-9e80-a8921a1df303']==\"module_interview\"","__wwtype":"f","defaultValue":true},"maxWidth":"1200px"}}},"content":{"default":{"wwObjects":[{"uid":"cf4896be-972f-44cc-94c6-f6a32a59ced7","isWwObject":true},{"uid":"64f3cf7a-2203-4a44-93af-9e8a8a25e523","isWwObject":true},{"uid":"1d9340a0-2266-486f-91f4-284dd5dc0f5c","isWwObject":true},{"uid":"e29b35f9-a5c8-434c-86a0-6e5fd623e267","isWwObject":true},{"uid":"dad9d085-e0f2-4388-aed5-06ec86a3b4ca","isWwObject":true}],"_ww-layout_alignItems":"center","_ww-layout_flexDirection":"column"}},"sectionBaseId":"99586bd3-2b15-4d6b-a025-6a50d07ca845","sectionTitle":"Modul Interview "},"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970":{"uid":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970","linkId":"d6331c17-97d8-4ddf-9599-86aa2910d25e","_state":{"style":{"default":{"top":"0px","left":"0px","width":"100%","height":"80px","zIndex":"100","display":{"code":"pluginVariables['1fa0dd68-5069-436c-9a7d-3b54c340f1fa']['isAuthenticated']==true","__wwtype":"f","defaultValue":"flex"},"padding":"0 24px","position":"fixed","borderTop":"0px","boxShadow":"0 10px 10px 0px #E0E0E0","borderLeft":"0px","borderRight":"0px","borderBottom":"8px inset #015fc1","backgroundColor":"#FFFFFF"}},"states":[],"interactions":[]},"content":{"default":{"wwObjects":[{"uid":"4e507b7a-59d8-4cfa-873c-52d4f6bd6de7","isWwObject":true}],"_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"center"}},"sectionBaseId":"99586bd3-2b15-4d6b-a025-6a50d07ca845","sectionTitle":"Header Section"},"42bab14c-4fde-4a6b-85ef-58a849b10625":{"uid":"42bab14c-4fde-4a6b-85ef-58a849b10625","linkId":"da097a50-4b17-4907-8182-5b767e783a5f","_state":{"style":{"mobile":{"padding":"10px"},"default":{"margin":"100px 0 0 0","display":{"code":"variables['461d0f2f-dc00-49e1-9e80-a8921a1df303']==\"home\"","__wwtype":"f","defaultValue":"flex"},"padding":"20px","maxWidth":"1200px","minHeight":{"code":"\"calc(100vh - 100px)\"","__wwtype":"f","defaultValue":""},"backgroundColor":"#f8fafc"},"tNPGal_default":{"display":{"code":"variables['461d0f2f-dc00-49e1-9e80-a8921a1df303']==\"home\"","__wwtype":"f","defaultValue":"flex"}}},"states":[{"id":"tNPGal","label":"New state"}],"interactions":[]},"content":{"mobile":{"_ww-layout_flexDirection":"column"},"default":{"wwObjects":[{"uid":"29c29b74-ddbe-4d85-b6ce-fca8abebeaaa","isWwObject":true},{"uid":"21254430-61c1-4cfa-bd46-8ba1f00ab64e","isWwObject":true}],"_ww-layout_rowGap":"24px","_ww-layout_columnGap":"24px","_ww-layout_flexDirection":"row"}},"sectionBaseId":"99586bd3-2b15-4d6b-a025-6a50d07ca845","sectionTitle":"Main Content Section"},"54d59611-7e52-4676-968e-ada91063d298":{"uid":"54d59611-7e52-4676-968e-ada91063d298","linkId":"f43239ee-f665-47bb-b3b6-98e1202da7ce","_state":{"style":{"default":{"margin":"100px 0 0 0","display":{"code":"variables['461d0f2f-dc00-49e1-9e80-a8921a1df303']==\"Datenschutz\"","__wwtype":"f","defaultValue":true},"padding":"0","maxWidth":"800px"}}},"content":{"default":{"wwObjects":[{"uid":"d26e519b-9aa3-4af0-b5d0-c848c88de893","isWwObject":true},{"uid":"227867e1-ee14-4e25-8c21-a8f675031a81","isWwObject":true},{"uid":"27e91642-c8dc-43c3-b003-bb9640068acb","isWwObject":true}],"_ww-layout_rowGap":"40px","_ww-layout_columnGap":"10px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"column","_ww-layout_justifyContent":null}},"sectionBaseId":"99586bd3-2b15-4d6b-a025-6a50d07ca845","sectionTitle":"Datenschutz"},"b9afb4b5-b305-4720-adad-0be3e44d9641":{"uid":"b9afb4b5-b305-4720-adad-0be3e44d9641","linkId":"e9bb4d0c-ffa4-4673-b0d7-c7df7caa931a","_state":{"style":{"default":{"margin":"100px 0 0 0","display":{"code":"variables['461d0f2f-dc00-49e1-9e80-a8921a1df303']==\"Impressum\"","__wwtype":"f","defaultValue":true},"maxWidth":"800px"}}},"content":{"default":{"wwObjects":[{"uid":"a8e01af2-703a-401a-9421-b0900e2b5557","isWwObject":true},{"uid":"9376c3c5-4fb9-406e-8fae-bbbd79d3db71","isWwObject":true},{"uid":"cd156d06-d476-45ab-be34-99f1b7b41f0b","isWwObject":true}],"_ww-layout_rowGap":"20px","_ww-layout_columnGap":"20px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"column"}},"sectionBaseId":"99586bd3-2b15-4d6b-a025-6a50d07ca845","sectionTitle":"Impressum"}},"wwObjects":{"aaa365b9-4fed-4ac2-8840-d652085cef7e":{"uid":"aaa365b9-4fed-4ac2-8840-d652085cef7e","_state":{"style":{"default":{"cursor":"pointer","display":"flex","padding":"16px","boxShadow":"0 1px 3px rgba(0,0,0,0.1)","transition":"transform 0.2s ease, box-shadow 0.2s ease","borderRadius":"12px","backgroundColor":"white"},"D84lJK_default":{"backgroundColor":"#75FF9A"},"_wwHover_default":{"display":"flex","boxShadow":"0 4px 6px rgba(0,0,0,0.1)","transform":"translateY(-2px)"}},"states":[{"id":"_wwHover","label":"hover"},{"id":"D84lJK","label":"Selected","condition":{"code":"variables['91a37c0c-4675-4e88-938b-55f2b193e266']?.['student_id']==context.item.data?.['student_id']","__wwtype":"f"}}],"interactions":[{"id":"5d86728c-cde5-490f-a6f9-4711b55b71c2","name":"Open Child Details","actions":{"71e8ddf5-39c5-462d-8e46-a3de0eb07c62":{"id":"71e8ddf5-39c5-462d-8e46-a3de0eb07c62","type":"variable","varId":"91a37c0c-4675-4e88-938b-55f2b193e266","internal":false,"varValue":{"code":"context.item.data","__wwtype":"f"}}},"trigger":"click","description":"Opens detailed view for the selected child","firstAction":"71e8ddf5-39c5-462d-8e46-a3de0eb07c62"}]},"content":{"default":{"children":[{"uid":"24e63c1e-4e2c-46eb-87ab-a5c842a0bcd1","isWwObject":true},{"uid":"cb889f3e-62bd-46e6-86ce-6ac37861c24c","isWwObject":true},{"uid":"cbc74585-cdfd-4a14-b625-6ae5a0ddede6","isWwObject":true}],"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row"},"_wwHover_default":{}},"name":"Child Card","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"015a3581-e456-4492-880f-452e56c31643":{"uid":"015a3581-e456-4492-880f-452e56c31643","_state":{"style":{"default":{},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"tag":"span","text":{"en":{"code":"return context.item.data.attendanceStatus || 'No Check-in'","__wwtype":"js"}},"_ww-text_text":{"de":{"code":"const status = (context.item.data?.['presence_status'] || '').trim().toLowerCase();\r\n\r\nswitch (status) {\r\n  case 'present':\r\n    return '‚úÖ Anwesend';\r\n  case 'released': // assuming this is the code for leaving early\r\n    return 'üèÅ Entlassen (14:35 Uhr)'; // time could be dynamic if available\r\n  case 'absent_excused':\r\n    return 'üìù Entschuldigt (abwesend)';\r\n  case 'absent_unexcused':\r\n    return '‚ùå Unentschuldigt (abwesend)';\r\n  case 'partial':\r\n    return '‚è≥ Teilweise anwesend';\r\n  case 'special_rule': // if Sonderregelung is a separate code\r\n    return '‚ùó Sonderregelung: allein entlassen / XY holt ab‚Ä¶';\r\n  default:\r\n    return '‚è∫Ô∏è Check-in ausstehend';\r\n}\r\n","__wwtype":"js"},"en":{"code":"const status = (context.item.data?.['presence_status'] || '').trim().toLowerCase();\r\n\r\nswitch (status) {\r\n  case 'present':\r\n    return 'Present';\r\n  case 'absent_excused':\r\n    return 'Absent Excused';\r\n  case 'absent_unexcused':\r\n    return 'Absent Unexcused';\r\n  case 'partial':\r\n    return 'Partial';\r\n  default:\r\n    return 'Check-in pending';\r\n}\r\n","__wwtype":"js"}},"_ww-text_color":{"code":"const status = context.item.data?.['presence_status']?.trim()?.toLowerCase();\n\nswitch (status) {\n  case 'present':             // #3CCB7F (light green)\n    return '#065F46';         // dark green-800\n  case 'absent_unexcused':    // #F87171 (light red)\n    return '#7F1D1D';         // dark red-800\n  case 'absent_excused':      // #FDBA74 (light orange)\n    return '#78350F';         // dark orange-800\n  case 'partial':             // #FCD34D (light yellow)\n    return '#92400E';         // dark amber-800\n  default:                    // #E2E8F0 (slate-200)\n    return '#1E293B';         // dark slate-800\n}\n","__wwtype":"js"},"_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"},"_wwHover_default":{}},"name":"Attendance Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"43792efc-d08e-47ca-afdd-44433709ee08":{"uid":"43792efc-d08e-47ca-afdd-44433709ee08","_state":{"style":{"mobile":{"display":"none"},"default":{"border":"1px solid #e2e8f0","cursor":"pointer","height":"40px","padding":"8px 16px","boxShadow":{"code":"return formulas['044f006f-a0c2-4883-b031-8ede0491a67d']('Tages√ºbersicht') ? '0 1px 2px rgba(0, 0, 0, 0.05)' : 'none'","__wwtype":"js"},"transition":"all 0.2s ease","aspectRatio":"unset","borderRadius":"6px","backgroundColor":{"code":"return formulas['044f006f-a0c2-4883-b031-8ede0491a67d']('Tages√ºbersicht') ? '#f1f5f9' : '#f8fafc'","__wwtype":"js"}},"_wwHover_default":{"customCss":{"border-color":"#cbd5e1"},"backgroundColor":"#f1f5f9"}},"states":[{"id":"_wwHover","label":"hover"}],"interactions":[{"id":"e6188458-8edd-40cd-8c5a-ac182063c148","icon":"cursor","name":"Open Quick Entry Popup","index":0,"actions":{"action_ia_id":{"id":"action_ia_id","code":"await utilsFunctions.openPopup('e6cbe8d0-7924-426d-b481-36d28125d935', {});","type":"custom-js","disabled":true}},"trigger":"click","isSearched":false,"description":"On click","firstAction":"action_ia_id"},{"id":"d25b51a1-e034-4e49-9898-5b87f8973a68","icon":"cursor","name":"Open Quick Entry Popup","index":0,"actions":{"action_ia_id":{"id":"action_ia_id","code":"await utilsFunctions.openPopup('e6cbe8d0-7924-426d-b481-36d28125d935', {});","type":"custom-js","disabled":true},"cfadd9ce-7c1c-4d85-98b4-2696e033d9f6":{"id":"cfadd9ce-7c1c-4d85-98b4-2696e033d9f6","next":"action_ia_id","type":"open-popup","content":{"default":{"mode_arg":"1"}},"libraryComponentBaseId":"e6cbe8d0-7924-426d-b481-36d28125d935"}},"trigger":"click","isSearched":false,"description":"On click","firstAction":"cfadd9ce-7c1c-4d85-98b4-2696e033d9f6"}]},"content":{"default":{"text":{"en":"Home"},"disabled":false,"buttonType":"button","_ww-text_text":{"de":"<div>Abholung / Sonderregelung</div>","en":"<div>Quick Input</div>"},"_ww-text_color":{"code":"return formulas['044f006f-a0c2-4883-b031-8ede0491a67d']('Tages√ºbersicht') ? '#0f172a' : '#475569'","__wwtype":"js"},"_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"},"_wwHover_default":{"_ww-text_color":"#334155"}},"name":"Home Button","wwObjectBaseId":"59dca300-db78-42e4-a7a6-0cbf22d3cc82","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"a4b627bc-d8eb-4ade-a2d0-13ff69c7cb79":{"uid":"a4b627bc-d8eb-4ade-a2d0-13ff69c7cb79","_state":{"style":{"default":{"width":"100%","display":"flex","maxWidth":"940px"}}},"content":{"default":{"children":[{"uid":"a9686bdb-d01a-4a28-aa18-2e56342934b4","isWwObject":true}],"_ww-layout_flexDirection":"column"}},"name":"Container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"cbc74585-cdfd-4a14-b625-6ae5a0ddede6":{"uid":"cbc74585-cdfd-4a14-b625-6ae5a0ddede6","_state":{"style":{"default":{"display":"flex","padding":"6px 12px","borderRadius":"16px","backgroundColor":{"code":"const status = context.item.data?.['presence_status']?.trim()?.toLowerCase();\n\nswitch (status) {\n  case 'present':\n    return '#3CCB7F';     // Green\n  case 'absent_unexcused':\n    return '#F87171';     // Red\n  case 'absent_excused':\n    return '#FDBA74';     // Orange\n  case 'partial':\n    return '#FCD34D';     // Yellow\n  default:\n    return '#E2E8F0';     // Grey (Pending)\n}\n","__wwtype":"js"}},"_wwHover_default":{"display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"015a3581-e456-4492-880f-452e56c31643","isWwObject":true}],"_ww-layout_rowGap":"6px","_ww-layout_columnGap":"6px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row"},"_wwHover_default":{}},"name":"Attendance Badge","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"bb4b9767-ea2e-4bb2-9fa4-e363ff026e01":{"uid":"bb4b9767-ea2e-4bb2-9fa4-e363ff026e01","_state":{"style":{"default":{"width":"100%","display":"flex","maxWidth":"940px"}},"dynamicConfiguration":{"content":{"children":[{"key":"label","type":"Text"},{"key":"value","type":"Text"}]}}},"content":{"default":{"children":{"code":"collections['cc215fad-c61a-4270-9a1b-b50c3b1bfcc9']?.['data']","sort":[{"key":"block_number","direction":"ASC"}],"filter":{"link":"$and","conditions":[{"field":"block_number","value":999,"operator":"$ne"},{"link":"$or","conditions":[{"field":"block_type","value":"instructional","operator":"$eq"},{"field":"block_type","value":"flex","operator":"$eq"}]}]},"__wwtype":"f","repeatable":[{"uid":"30bf7840-8c7c-497d-996b-60592aaa06dc","isWwObject":true}],"defaultValue":[]},"_ww-layout_flexDirection":"column"}},"name":"Container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"2072b9da-9ca3-4156-b90a-0b9638c0e206":{"uid":"2072b9da-9ca3-4156-b90a-0b9638c0e206","_state":{"style":{}},"content":{"default":{"children":[{"uid":"eb843f33-4d21-455a-8c3f-b013dd161b92","isWwObject":true},{"uid":"7db8fd4b-d4a6-42b3-9dfd-e8bc7fa5e982","isWwObject":true}],"_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"space-between"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"3e5df9d8-07bd-4104-bc58-bda6dbd6553c":{"uid":"3e5df9d8-07bd-4104-bc58-bda6dbd6553c","_state":{"style":{"mobile":{"align":"flex-start","textAlign":"start"},"default":{"flex":"1 0 auto","align":"center","border":"1px solid #85B9FA","padding":"6px","textAlign":"center","borderRadius":"12px","backgroundColor":"#E8F2FE"}}},"content":{"mobile":{"_ww-text_textAlign":"left"},"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_text":{"de":{"code":"return context.item.data?.['name']","filter":{"link":"$and"},"__wwtype":"js"},"en":{"code":"return context.item.data?.['name']","__wwtype":"js","defaultValue":"<p>This is some text</p>"}},"transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false,"_ww-text_textAlign":"center"}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"c5f5e311-941d-47be-af57-f7103b1ae4c9":{"uid":"c5f5e311-941d-47be-af57-f7103b1ae4c9","_state":{"style":{"default":{}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_text":{"de":{"code":"\"Wie soll \"+variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62']?.['student']?.['first_name']+\" nach Unterrichtsschluss nach Hause kommen?\"","__wwtype":"f","defaultValue":"<div>Wie soll </div>"},"en":{"code":"\"Wie soll \"+variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62']?.['student']?.['first_name']+\" nach Unterrichtsschluss nach Hause kommen?\"","__wwtype":"f","defaultValue":"<p>This is some text</p>"}},"transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"cf4896be-972f-44cc-94c6-f6a32a59ced7":{"uid":"cf4896be-972f-44cc-94c6-f6a32a59ced7","_state":{"style":{"mobile":{"width":"auto","display":{"code":"variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62']?.['step']==1","__wwtype":"f","defaultValue":"none"},"padding":"15px"},"default":{"display":{"code":"variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62']?.['step']==1","__wwtype":"f","defaultValue":"flex"}}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"bddcea23-60fe-4bef-9b0e-7c3065599cfc","isWwObject":true},{"uid":"37ada8e5-db02-4572-adfe-05bc8170cd85","isWwObject":true},{"uid":"2fbdaa41-1bf5-431b-a5f5-2cf66895be43","isWwObject":true}],"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"column"}},"name":"Choose child","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"61d92ab9-744c-4161-a4a3-3471d78cfc6a":{"uid":"61d92ab9-744c-4161-a4a3-3471d78cfc6a","_state":{"style":{"default":{"width":"100%","display":{"code":"variables['235f2438-9f0b-412f-866c-d350e65024ad'] ? 'none' : 'flex'","__wwtype":"f"}}},"states":[],"interactions":[],"dynamicConfiguration":{"content":{"children":[{"key":"label","type":"Text"},{"key":"value","type":"Text"}]}}},"content":{"default":{"children":{"code":"// Helper\r\nconst toArray = v => Array.isArray(v) ? v : (v && typeof v === 'object' ? Object.values(v) : []);\r\n\r\n// 1) Current profile\r\nconst currentProfileId = collections['a3bd1e48-4a7d-4146-94db-4cb1320be5a7']?.data?.[0]?.id;\r\nif (!currentProfileId) return [];\r\n\r\n// 2) Family members\r\nconst familyMembers = toArray(collections['b2401a50-b8b7-4e37-a9fd-94c2e3722469']?.data);\r\n\r\n// 3) Current member + family_id\r\nconst currentMember = familyMembers.find(m => m?.profile_id === currentProfileId);\r\nconst currentFamilyId = currentMember?.family_id;\r\nif (!currentFamilyId) return [];\r\n\r\n// 4) Other student members in the same family\r\nconst studentFamilyMembers = familyMembers.filter(m =>\r\n  m?.family_id === currentFamilyId &&\r\n  m?.profile_id !== currentProfileId &&\r\n  String(m?.role || '').toLowerCase() === 'student'\r\n);\r\n\r\n// 5) Students (FIXED collection ID)\r\nconst students = toArray(collections['881b151d-4f64-4d96-a74b-812bb9282cb8']?.data);\r\n\r\n// 6) Match students to family members by profile_id = student_id\r\nconst matchingStudents = students.filter(s =>\r\n  studentFamilyMembers.some(m => m?.profile_id === s?.student_id)\r\n);\r\n\r\n// 7) Classes (for grade_level, etc.)\r\nconst classes = toArray(collections['b8d0c0e2-1e1a-49c1-b2e7-6d468ab46eb2']?.data);\r\nconst classById = new Map(classes.map(c => [c.id, c]));\r\nconst classByName = new Map(classes.map(c => [String(c?.name || '').trim().toUpperCase(), c]));\r\n\r\n// 8) Enrich with class + grade\r\nconst enriched = matchingStudents.map(s => {\r\n  const classId = s.class_id ?? s.classId ?? s.structure_class_id ?? null;\r\n  const className = s.class_name ?? s.className ?? null;\r\n\r\n  let cls = classId ? classById.get(classId) : undefined;\r\n  if (!cls && className) cls = classByName.get(String(className).trim().toUpperCase());\r\n\r\n  let grade = cls?.grade_level;\r\n  if (!Number.isFinite(grade) && className) {\r\n    const m = String(className).match(/^(\\d+)/);\r\n    if (m) grade = parseInt(m[1], 10);\r\n  }\r\n  if (!Number.isFinite(grade) && Number.isFinite(s?.grade_level)) grade = s.grade_level;\r\n  if (!Number.isFinite(grade) && s?.grade_level != null && !Number.isNaN(Number(s.grade_level))) {\r\n    grade = Number(s.grade_level);\r\n  }\r\n\r\n  return {\r\n    ...s,\r\n    class_id: cls?.id ?? classId ?? null,\r\n    class_name: cls?.name ?? className ?? null,\r\n    grade_level: Number.isFinite(grade) ? grade : null,\r\n    class_year: cls?.year ?? null,\r\n    class_color: cls?.color ?? null,\r\n  };\r\n});\r\n\r\nreturn enriched;","__wwtype":"js","repeatable":[{"uid":"aaa365b9-4fed-4ac2-8840-d652085cef7e","isWwObject":true}]},"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"column"}},"name":"Children List","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"ac1d4e33-3456-4d8c-af35-061ecf352bec":{"uid":"ac1d4e33-3456-4d8c-af35-061ecf352bec","_state":{"style":{"default":{"width":"100%","display":"flex"}},"states":[],"interactions":[]},"content":{"mobile":{"_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"flex-end"},"default":{"children":[{"uid":"aa9e9289-af96-45ad-aa5a-02d074b053ef","isWwObject":true},{"uid":"2a19dc72-ba3d-4725-b2f3-157737c5ab8e","isWwObject":true}],"_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"space-between"}},"name":"Header Content","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"2a19dc72-ba3d-4725-b2f3-157737c5ab8e":{"uid":"2a19dc72-ba3d-4725-b2f3-157737c5ab8e","_state":{"style":{"mobile":{"display":"flex"},"default":{"display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"2dda2c04-9dd8-428c-a78c-027c6de1e427","isWwObject":true},{"uid":"43792efc-d08e-47ca-afdd-44433709ee08","isWwObject":true},{"uid":"35a37143-bf7f-430e-9d1d-d617140eec22","isWwObject":true}],"_ww-layout_rowGap":"24px","_ww-layout_columnGap":"24px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row"}},"name":"Header Controls","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"7bbe146b-af92-41f5-83be-2b66d45cb4ed":{"uid":"7bbe146b-af92-41f5-83be-2b66d45cb4ed","_state":{"style":{"default":{"width":"24px","height":"24px"}},"states":[],"interactions":[]},"content":{"default":{"icon":"lucide/users","color":"#2563eb"}},"name":"Children Icon","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"01b4bcea-50fe-405d-99b9-7be5dcff241e":{"uid":"01b4bcea-50fe-405d-99b9-7be5dcff241e","_state":{"style":{"default":{"margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"p","text":{"en":{"code":"context.item.data.message","__wwtype":"f"}},"_ww-text_text":{"en":{"code":"context.item.data?.['post_body']","__wwtype":"f"}},"_ww-text_color":"#64748b","_ww-text_fontSize":"14px"}},"name":"Announcement Message","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"dffea6f7-3825-48fe-808e-5db4768a0456":{"uid":"dffea6f7-3825-48fe-808e-5db4768a0456","_state":{"style":{"default":{"margin":"0 0 8px 0","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"7bbe146b-af92-41f5-83be-2b66d45cb4ed","isWwObject":true},{"uid":"0fe687a6-4810-4adf-855b-7669cd2672b9","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row"}},"name":"Children List Title","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"74b77ab7-dd49-44ab-afd3-08291ae679c5":{"uid":"74b77ab7-dd49-44ab-afd3-08291ae679c5","_state":{"style":{"default":{"margin":"0 0 16px 0"}},"states":[],"interactions":[]},"content":{"default":{"size":"40px","color":"#2563eb","spinner":"circle"}},"name":"Loading Spinner","wwObjectBaseId":"aa27b26f-0686-4c29-98c5-8217044045b7","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"334dfc9d-98ea-4fe4-b954-8ec004007591":{"uid":"334dfc9d-98ea-4fe4-b954-8ec004007591","_state":{"style":{"default":{"display":{"code":"variables['235f2438-9f0b-412f-866c-d350e65024ad'] ? 'flex' : 'none'","__wwtype":"f"},"padding":"40px 0"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"74b77ab7-dd49-44ab-afd3-08291ae679c5","isWwObject":true},{"uid":"95e40757-7061-44e8-8b5c-045ff0593bfa","isWwObject":true}],"_ww-layout_alignItems":"center","_ww-layout_flexDirection":"column","_ww-layout_justifyContent":"center"}},"name":"Loading Container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"95e40757-7061-44e8-8b5c-045ff0593bfa":{"uid":"95e40757-7061-44e8-8b5c-045ff0593bfa","_state":{"style":{"default":{}},"states":[],"interactions":[]},"content":{"default":{"tag":"p","text":{"en":"Loading children data..."},"_ww-text_text":{"en":"Loading children data..."},"_ww-text_color":"#64748b","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"}},"name":"Loading Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"7e57b5fd-84aa-4c2d-a0c8-5a6950d415b9":{"uid":"7e57b5fd-84aa-4c2d-a0c8-5a6950d415b9","_state":{"style":{"default":{"width":"100%","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"334dfc9d-98ea-4fe4-b954-8ec004007591","isWwObject":true},{"uid":"61d92ab9-744c-4161-a4a3-3471d78cfc6a","isWwObject":true},{"uid":"be74b8d9-7ad4-4f56-b644-04294937ab9c","isWwObject":true}],"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"column"}},"name":"Children List Container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"24e63c1e-4e2c-46eb-87ab-a5c842a0bcd1":{"uid":"24e63c1e-4e2c-46eb-87ab-a5c842a0bcd1","_state":{"style":{"default":{"flex":"0 0 auto","width":"60px","height":"60px","display":"block","overflow":"hidden","borderRadius":"50%"},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"2ac5c82b-bb7f-4ce1-80fc-c4114f0b9f4e","isWwObject":true}]},"_wwHover_default":{}},"name":"Child Photo","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"2ac5c82b-bb7f-4ce1-80fc-c4114f0b9f4e":{"uid":"2ac5c82b-bb7f-4ce1-80fc-c4114f0b9f4e","_state":{"style":{"default":{"width":"100%","height":"100%"},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"alt":{"en":{"code":"'Photo of ' + context.item.data.firstName","__wwtype":"f"}},"url":{"code":"return context.item.data?.['profile_picture_url'] || 'images/ChatGPT_Image_Aug_14,_2025,_04_56_25_PM.png?_wwcv=75';\r\n","__wwtype":"js"},"loading":"lazy","objectFit":"contain"},"_wwHover_default":{}},"name":"Child Image","wwObjectBaseId":"3a7d6379-12d3-4387-98ff-b332bb492a63","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"cb889f3e-62bd-46e6-86ce-6ac37861c24c":{"uid":"cb889f3e-62bd-46e6-86ce-6ac37861c24c","_state":{"style":{"default":{"flex":"1 1 0","display":"flex"},"_wwHover_default":{"display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"6a7b8693-1959-4a40-a91a-873b1adb6d3a","isWwObject":true}],"_ww-layout_flexDirection":"column"},"_wwHover_default":{}},"name":"Child Info","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"e716b853-b220-48aa-ad8b-1455c53d06bc":{"uid":"e716b853-b220-48aa-ad8b-1455c53d06bc","_state":{"style":{"default":{"width":"24px","height":"24px"}},"states":[],"interactions":[]},"content":{"default":{"icon":"lucide/megaphone","color":"#2563eb"}},"name":"Announcements Icon","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"79a62c5a-c057-45af-aa8e-fe9bec1a8bab":{"uid":"79a62c5a-c057-45af-aa8e-fe9bec1a8bab","_state":{"style":{"default":{"margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"h2","text":{"en":"Announcements"},"_ww-text_text":{"de":"<div>Neuigkeiten &amp; Infos</div>","en":"Announcements"},"_ww-text_color":"#1e293b","_ww-text_fontSize":"20px","_ww-text_fontWeight":"600"}},"name":"Announcements Title","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"df652eaa-6e8c-412f-85ce-d013853d8b24":{"uid":"df652eaa-6e8c-412f-85ce-d013853d8b24","_state":{"style":{"default":{"margin":"0 0 8px 0","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"e716b853-b220-48aa-ad8b-1455c53d06bc","isWwObject":true},{"uid":"79a62c5a-c057-45af-aa8e-fe9bec1a8bab","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row"}},"name":"Announcements Header","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"c75e65f6-39ed-4135-a691-01bad342ba30":{"uid":"c75e65f6-39ed-4135-a691-01bad342ba30","_state":{"style":{"default":{"display":"flex","padding":"16px","borderLeft":"0px solid [object Object]","borderRadius":"8px","backgroundColor":"#f8fafc"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"d93d35e8-bc26-4537-8ef5-08eadab46cc5","isWwObject":true},{"uid":"e0a3cd6b-4a0a-4301-a6e4-a63e6dd16488","isWwObject":true}],"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"row"}},"name":"Announcement Card","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"e0a3cd6b-4a0a-4301-a6e4-a63e6dd16488":{"uid":"e0a3cd6b-4a0a-4301-a6e4-a63e6dd16488","_state":{"style":{"default":{"display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"4af70f19-fd2c-4cf7-863b-37c09d2a4668","isWwObject":true},{"uid":"01b4bcea-50fe-405d-99b9-7be5dcff241e","isWwObject":true}],"_ww-layout_rowGap":"4px","_ww-layout_columnGap":"4px","_ww-layout_flexDirection":"column"}},"name":"Announcement Content","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"21254430-61c1-4cfa-bd46-8ba1f00ab64e":{"uid":"21254430-61c1-4cfa-bd46-8ba1f00ab64e","_state":{"style":{"default":{"flex":"1 1 0","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"b632eeb2-5cce-4a55-9cd9-b70e4e09c79b","isWwObject":true},{"uid":"fa1bbfde-fe7a-41de-9078-de9de86357fc","isWwObject":true},{"uid":"1030a279-82d5-4abe-8836-85605c66e7fe","isWwObject":true},{"uid":"91739a31-a0c8-431d-bf7e-755c4988aa32","isWwObject":true}],"_ww-layout_rowGap":"24px","_ww-layout_columnGap":"24px","_ww-layout_flexDirection":"column"}},"name":"Right Column","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"33168fd5-98e1-481d-8de6-28de29154698":{"uid":"33168fd5-98e1-481d-8de6-28de29154698","_state":{"style":{"default":{"margin":"0 0 8px 0","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"4257faca-127b-42e8-b1ba-82c775bbf813","isWwObject":true},{"uid":"a0b120b9-1234-477a-838c-2743b8b53e22","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row"}},"name":"Events Header","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"4257faca-127b-42e8-b1ba-82c775bbf813":{"uid":"4257faca-127b-42e8-b1ba-82c775bbf813","_state":{"style":{"default":{"width":"24px","height":"24px"}},"states":[],"interactions":[]},"content":{"default":{"icon":"lucide/calendar","color":"#2563eb"}},"name":"Events Icon","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"a0b120b9-1234-477a-838c-2743b8b53e22":{"uid":"a0b120b9-1234-477a-838c-2743b8b53e22","_state":{"style":{"default":{"margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"h2","text":{"en":"Upcoming Events"},"_ww-text_text":{"de":"<div>Termine</div>","en":"<div>Upcoming Events</div>"},"_ww-text_color":"#1e293b","_ww-text_fontSize":"20px","_ww-text_fontWeight":"600"}},"name":"Events Title","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"78b636eb-7070-4630-9f63-c75d24f73768":{"uid":"78b636eb-7070-4630-9f63-c75d24f73768","_state":{"style":{"default":{"cursor":"pointer","display":"flex","padding":"12px 16px","borderTop":"1px solid #e2e8f0"},"_wwHover_default":{"display":"flex","backgroundColor":"#fee2e2"}},"states":[{"id":"_wwHover","label":"hover"}],"interactions":[{"id":"3154eac4-3350-49d1-ad31-6acb7cf2e916","name":"Logout User","actions":{"action_ia_id":{"id":"action_ia_id","code":"// Handle logout logic here\nawait utilsFunctions.closePopup(context, {});\n// Redirect to login page or perform other logout actions","next":"9fda7641-3547-4973-ad0d-fc90049fc35b","type":"custom-js"},"6b0b5839-122f-468b-b268-760883b6dc54":{"id":"6b0b5839-122f-468b-b268-760883b6dc54","next":"action_ia_id","type":"1fa0dd68-5069-436c-9a7d-3b54c340f1fa-signOut"},"9fda7641-3547-4973-ad0d-fc90049fc35b":{"id":"9fda7641-3547-4973-ad0d-fc90049fc35b","type":"change-page","pageId":"043a5ae1-7e01-4e2f-b0fb-f5335c74f137","navigateMode":"internal"}},"trigger":"click","description":"Logs out the current user","firstAction":"6b0b5839-122f-468b-b268-760883b6dc54"}]},"content":{"default":{"children":[{"uid":"629b4172-16eb-4183-a87b-754822042190","isWwObject":true},{"uid":"2d5a2a4e-fd06-4895-a011-93d4789dc454","isWwObject":true}],"_ww-layout_rowGap":"12px","_ww-layout_columnGap":"12px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row"},"_wwHover_default":{}},"name":"Logout Menu Item","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"1d9340a0-2266-486f-91f4-284dd5dc0f5c":{"uid":"1d9340a0-2266-486f-91f4-284dd5dc0f5c","_state":{"style":{"mobile":{"width":"auto","display":{"code":"variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62']?.['step']==3","__wwtype":"f","defaultValue":"none"}},"default":{"display":{"code":"variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62']?.['step']==3","__wwtype":"f","defaultValue":"flex"}}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"06a7ce73-c04c-4039-abbc-34f9b57001dc","isWwObject":true},{"uid":"c5f5e311-941d-47be-af57-f7103b1ae4c9","isWwObject":true},{"uid":"1a21df58-a2ab-48f4-91aa-d26d06e62f02","isWwObject":true}],"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"column"}},"name":"Choose how student goes home","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"06a7ce73-c04c-4039-abbc-34f9b57001dc":{"uid":"06a7ce73-c04c-4039-abbc-34f9b57001dc","_state":{"style":{"default":{}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_font":"var(--4e3cfba6-0330-4c70-bf29-d8dd3d4d3b94, 700 18px/26px var(--ww-default-font-family, sans-serif))","_ww-text_text":{"de":"<div>üö∂ Heimweg um 14:30 Uhr oder 16:00 Uhr</div>","en":"<p>This is some text</p>"},"transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"91739a31-a0c8-431d-bf7e-755c4988aa32":{"uid":"91739a31-a0c8-431d-bf7e-755c4988aa32","_state":{"style":{"default":{"display":{"code":"const value = variables['91a37c0c-4675-4e88-938b-55f2b193e266'];\r\nreturn Object.keys(value).length > 0;\r\n","__wwtype":"js","defaultValue":"none"},"padding":"24px","boxShadow":"0 1px 3px rgba(0,0,0,0.1)","borderRadius":"12px","backgroundColor":"white"},"WEjmYf_default":{"display":"flex"}},"states":[{"id":"WEjmYf","label":"Show","condition":{"code":"const value = variables['91a37c0c-4675-4e88-938b-55f2b193e266'];\r\nreturn Object.keys(value).length > 0;\r\n","__wwtype":"js"}}],"interactions":[]},"content":{"mobile":{"_ww-layout_rowGap":"5px","_ww-layout_columnGap":"5px"},"default":{"children":[{"uid":"ba5f31c3-5ef1-4467-be01-dcd1b3e6451a","isWwObject":true},{"uid":"7a805904-7f81-4fd8-94b6-3b4fadfe41cf","isWwObject":true},{"uid":"87d04fda-3ec7-4406-b386-1a647e1b962f","isWwObject":true},{"uid":"eeffd599-9843-48e0-af3b-b666831b7cd7","isWwObject":true},{"uid":"f8a44031-ce1c-42a5-9436-b350a94f8349","isWwObject":true}],"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"column"}},"name":"student section","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"ea005be2-a537-413d-bd25-eef817ec4604":{"uid":"ea005be2-a537-413d-bd25-eef817ec4604","_state":{"style":{"mobile":{"align":"center","width":"100%","padding":"10px","conditionalRendering":true},"default":{"width":"600px","padding":"20px","conditionalRendering":false}},"interactions":[{"id":"7d7470e1-d9dd-415c-825c-d52b61111f18","actions":{"0ed975d5-312e-4933-a3de-51a227e03cc9":{"id":"0ed975d5-312e-4933-a3de-51a227e03cc9","uid":"0c7c827b-8971-4efc-9fcc-11053098a1c8","args":[false],"type":"component-action","category":"elements","actionName":"resetToInitial"},"3c417702-f6c0-4ced-b99a-24e4933351de":{"id":"3c417702-f6c0-4ced-b99a-24e4933351de","next":"3f5066d3-4a4c-4bdd-a011-fbda20fb945c","type":"variable","varId":"5b89a262-6663-487b-a82f-f06e55069599","internal":false,"varValue":{"code":"event?.['flat']","__wwtype":"f"}},"3f5066d3-4a4c-4bdd-a011-fbda20fb945c":{"id":"3f5066d3-4a4c-4bdd-a011-fbda20fb945c","next":"0ed975d5-312e-4933-a3de-51a227e03cc9","type":"variable","varId":"dbb33dce-f242-4fe9-8aa9-1712edef6c62","disabled":false,"internal":false,"varValue":{"code":"return {\r\n  ...variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62'],\r\n  step: \"3\",\r\n  course_choices: event?.['flat'] || []\r\n};\r\n","__wwtype":"js"}}},"trigger":"submit","firstAction":"3c417702-f6c0-4ced-b99a-24e4933351de","triggerConditions":null}]},"content":{"default":{"ui":{"showSelect":true,"ranksPerDay":3,"showDayTabs":false,"showQuickAdd":true,"collapsedDays":false,"enableNoOffer":true,"stickySummary":false,"scrollOffsetPx":72,"showPerDaySummary":true},"theme":{"chipBg":"#f3f4f6","fontSizePx":14,"accentColor":"#3b82f6","borderColor":"#e5e7eb"},"labels":{"none":"‚Äî","note":"Bitte w√§hlen Sie bis zu 3 Module, die Ihr Kind gerne besuchen m√∂chte. Oder: W√§hlen Sie Tage, an denen Ihr Kind um 14:30 Uhr nach Hause gehen soll. Diese Entscheidung gilt bis zum Ende des Halbjahres.","first":"1. Wunsch","third":"3. Wunsch","second":"2. Wunsch","submit":"Speichern","heading":"üß© Module w√§hlen","resetDay":"Zur√ºcksetzen","chipEmpty":"Leer","wishLabel":"Wunsch","noOfferToggle":"geht nach Hause 14:30","quickAddTooltip":"Klicken: + ‚Üí 1 ‚Üí 2 ‚Üí 3 ‚Üí ‚Äî"},"period":{"isOpen":true,"maxWishesPerDay":3},"mapping":{"idField":"window_id","dayField":"day","metaField":"meta","titleField":"title"},"modules":{"code":"return (() => {\r\n  const COL_ID = 'a2df9501-1d71-4d48-bfc2-9609d7e76dd6';\r\n  const STUDENT_GRADE =\r\n    Number(variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62']?.student?.grade_level);\r\n\r\n  // Helpers\r\n  const toArray = (x) =>\r\n    Array.isArray(x) ? x : x && typeof x === 'object' ? Object.values(x) : [];\r\n  const stripHtml = (html) =>\r\n    String(html || '').replace(/<[^>]*>/g, '').replace(/\\s+/g, ' ').trim();\r\n\r\n  // Load rows\r\n  const src = collections?.[COL_ID];\r\n  const rows =\r\n    toArray(src?.data).length ? toArray(src?.data)\r\n    : toArray(src?.rows).length ? toArray(src?.rows)\r\n    : toArray(src);\r\n\r\n  if (!rows.length) return [];\r\n\r\n  // Day ID -> label (matches your source where 2=Montag ... 1=Sonntag)\r\n  const dayNames = {\r\n    2: 'Montag',\r\n    3: 'Dienstag',\r\n    4: 'Mittwoch',\r\n    5: 'Donnerstag',\r\n    6: 'Freitag',\r\n    7: 'Samstag',\r\n    1: 'Sonntag'\r\n  };\r\n\r\n  // Prefer schedule_slots; fallback to schedule_day_ids + schedule_time_ranges\r\n  const normalizeSlots = (r) => {\r\n    const slotsRaw = r?.schedule_slots;\r\n    if (slotsRaw && (Array.isArray(slotsRaw) || typeof slotsRaw === 'object')) {\r\n      const arr = Array.isArray(slotsRaw) ? slotsRaw : Object.values(slotsRaw);\r\n      return arr\r\n        .map((s) => ({\r\n          day_id: Number(s?.day_id ?? s?.dayId ?? s?.day),\r\n          start: s?.start_time ?? s?.start ?? s?.startTime,\r\n          end: s?.end_time ?? s?.end ?? s?.endTime\r\n        }))\r\n        .filter((s) => !!s.day_id && s.start && s.end);\r\n    }\r\n\r\n    const dayIds = toArray(r?.schedule_day_ids).map(Number).filter(Boolean);\r\n    const ranges = toArray(r?.schedule_time_ranges).map(String);\r\n    const n = Math.max(dayIds.length, ranges.length);\r\n    const out = [];\r\n    for (let i = 0; i < n; i++) {\r\n      const d = Number(dayIds[i]);\r\n      const tr = (ranges[i] || '').trim();\r\n      if (!d || !tr.includes('-')) continue;\r\n      const [start, end] = tr.split('-').map((x) => x.trim());\r\n      if (start && end) out.push({ day_id: d, start, end });\r\n    }\r\n    return out;\r\n  };\r\n\r\n  const modules = [];\r\n\r\n  for (const r of rows) {\r\n    // Grade-level filter: keep only if student's grade is present in row.grade_levels\r\n    if (Number.isFinite(STUDENT_GRADE)) {\r\n      const gradeList = toArray(r?.grade_levels)\r\n        .map((g) => Number(g))\r\n        .filter((g) => Number.isFinite(g));\r\n      // Exclude if no declared grades or student's grade not in list\r\n      if (!gradeList.length || !gradeList.includes(STUDENT_GRADE)) continue;\r\n    }\r\n\r\n    const slots = normalizeSlots(r);\r\n    if (!slots.length) continue;\r\n\r\n    // Prepare info fields\r\n    const pictures = toArray(r?.course_pictures)\r\n      .map(String)\r\n      .map((u) => u.trim())\r\n      .filter(Boolean);\r\n    const picture_first = r?.course_picture_first || pictures[0] || null;\r\n\r\n    // Use the parents-allowed description if provided; fall back to general\r\n    const descForParents = r?.course_description_for_parents ?? null;\r\n    const descGeneral = r?.course_description ?? null;\r\n\r\n    // Strip HTML to display clean text in the component\r\n    const description_for_parents = stripHtml(descForParents);\r\n    const description = stripHtml(descGeneral);\r\n\r\n    // Collapse multiple slots on same day ‚Üí min start / max end (string compare ok for HH:MM)\r\n    const byDay = {};\r\n    for (const s of slots) {\r\n      const d = s.day_id;\r\n      if (!byDay[d]) byDay[d] = { start: s.start, end: s.end };\r\n      else {\r\n        if (s.start < byDay[d].start) byDay[d].start = s.start;\r\n        if (s.end > byDay[d].end) byDay[d].end = s.end;\r\n      }\r\n    }\r\n\r\n    for (const [dStr, range] of Object.entries(byDay)) {\r\n      modules.push({\r\n        window_id: String(r.window_id),\r\n        day: dayNames[Number(dStr)] || `Tag ${dStr}`,\r\n        title: r.course_name || r.course_code || 'Kurs',\r\n        meta: `${range.start}-${range.end}`,\r\n        // Extra info for \"Mehr Info\"\r\n        course_id: r.course_id || null,\r\n        course_code: r.course_code || null,\r\n        description_visible_to_parents: !!r.description_visible_to_parents,\r\n        description, // plain text (HTML stripped)\r\n        description_for_parents, // plain text (HTML stripped)\r\n        wichtige_infos: r?.course_wichtige_infos || null,\r\n        pictures,\r\n        picture_first\r\n      });\r\n    }\r\n  }\r\n\r\n  // Sort by weekday, then start time, then title\r\n  const dayOrder = ['Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag', 'Sonntag'];\r\n  const toMin = (hhmm) => {\r\n    const [h, m] = String(hhmm || '').split(':'); const H = +h, M = +m;\r\n    return Number.isFinite(H) && Number.isFinite(M) ? H * 60 + M : 9999;\r\n  };\r\n  modules.sort((a, b) => {\r\n    const ai = dayOrder.indexOf(a.day), bi = dayOrder.indexOf(b.day);\r\n    if (ai !== bi) return (ai < 0 ? 99 : ai) - (bi < 0 ? 99 : bi);\r\n    const t = toMin((a.meta || '').split('-')[0]) - toMin((b.meta || '').split('-')[0]);\r\n    return t !== 0 ? t : String(a.title || '').localeCompare(String(b.title || ''), 'de-DE');\r\n  });\r\n\r\n  return modules;\r\n})()","__wwtype":"js","defaultValue":[{"day":"Montag","meta":"15:00‚Äì16:30","title":"Fahrradwerkstatt","course_id":"c1","window_id":"mo-a1"},{"day":"Montag","meta":"15:00‚Äì16:00","title":"Archery","course_id":"c2","window_id":"mo-a2"},{"day":"Dienstag","meta":"14:30‚Äì16:00","title":"Fu√üball","course_id":"c3","window_id":"di-b1"}]},"storage":{"code":"variables['5b89a262-6663-487b-a82f-f06e55069599']","__wwtype":"f","defaultValue":{"storageKey":"wish-per-day","autosaveLocal":true,"emitDebounceMs":200}},"readOnly":false,"daysOrder":{"code":"wwFormulas.rollup(collections['18b475b5-a69a-4000-8dfe-1cb5558734f5']?.['data'],\"name_de\")","__wwtype":"f","defaultValue":["Montag","Dienstag","Mittwoch","Donnerstag","Freitag"]},"initialSelection":{}}},"name":"Mobile picker","wwObjectBaseId":"22726794-5731-42fd-949f-bb829e6485a1","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"0c7c827b-8971-4efc-9fcc-11053098a1c8":{"uid":"0c7c827b-8971-4efc-9fcc-11053098a1c8","_state":{"style":{"mobile":{"align":"center","width":"80%","conditionalRendering":false},"default":{"width":"600px","padding":"20px","conditionalRendering":true}},"interactions":[{"id":"2031b93e-a902-40b3-b895-c8d46d345864","icon":"workflow","name":"Untitled workflow","index":0,"actions":{"28ed56f1-1aac-4656-a1e3-e5af6fadca70":{"id":"28ed56f1-1aac-4656-a1e3-e5af6fadca70","next":"8243f9a6-5cab-43ee-b5f7-184cc8a22af9","type":"variable","varId":"5b89a262-6663-487b-a82f-f06e55069599","disabled":false,"internal":false,"varValue":{"code":"event?.['flat']","__wwtype":"f"}},"8243f9a6-5cab-43ee-b5f7-184cc8a22af9":{"id":"8243f9a6-5cab-43ee-b5f7-184cc8a22af9","next":"e4a33ec0-c223-4690-b336-1642645bb5b3","type":"variable","varId":"dbb33dce-f242-4fe9-8aa9-1712edef6c62","disabled":false,"internal":false,"varValue":{"code":"return {\r\n  ...variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62'],\r\n  step: \"3\",\r\n  course_choices: event?.['flat'] || []\r\n};\r\n","__wwtype":"js"}},"e4a33ec0-c223-4690-b336-1642645bb5b3":{"id":"e4a33ec0-c223-4690-b336-1642645bb5b3","uid":"0c7c827b-8971-4efc-9fcc-11053098a1c8","args":[false],"type":"component-action","category":"elements","disabled":false,"actionName":"resetToInitial"}},"trigger":"submit","isSearched":false,"description":"On submit","firstAction":"28ed56f1-1aac-4656-a1e3-e5af6fadca70","triggerConditions":null}]},"content":{"default":{"ui":{"showSelect":true,"ranksPerDay":3,"showDayTabs":true,"showQuickAdd":true,"collapsedDays":false,"enableNoOffer":true,"stickySummary":true,"scrollOffsetPx":72,"showPerDaySummary":true},"theme":{"chipBg":"#f3f4f6","fontSizePx":14,"accentColor":"#3b82f6","borderColor":"#e5e7eb"},"labels":{"none":"‚Äî","note":"Bitte w√§hlen Sie bis zu 3 Module, die Ihr Kind gerne besuchen m√∂chte. Oder: W√§hlen Sie Tage, an denen Ihr Kind um 14:30 Uhr nach Hause gehen soll. Diese Entscheidung gilt bis zum Ende des Halbjahres.","first":"1. Wunsch","third":"3. Wunsch","second":"2. Wunsch","submit":"Speichern","heading":"üß© Module w√§hlen","resetDay":"Zur√ºcksetzen","chipEmpty":"Leer","wishLabel":"Wunsch","noOfferToggle":"Kein Angebot (geht nach Hause 14:30)","quickAddTooltip":"Klicken: + ‚Üí 1 ‚Üí 2 ‚Üí 3 ‚Üí ‚Äî"},"period":{"isOpen":true,"maxWishesPerDay":3},"mapping":{"idField":"window_id","dayField":"day","metaField":"meta","titleField":"title"},"modules":{"code":"return (() => {\r\n  const COL_ID = 'a2df9501-1d71-4d48-bfc2-9609d7e76dd6';\r\n  const STUDENT_GRADE =\r\n    Number(variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62']?.student?.grade_level);\r\n\r\n  // Helpers\r\n  const toArray = (x) =>\r\n    Array.isArray(x) ? x : x && typeof x === 'object' ? Object.values(x) : [];\r\n  const stripHtml = (html) =>\r\n    String(html || '').replace(/<[^>]*>/g, '').replace(/\\s+/g, ' ').trim();\r\n\r\n  // Load rows\r\n  const src = collections?.[COL_ID];\r\n  const rows =\r\n    toArray(src?.data).length ? toArray(src?.data)\r\n    : toArray(src?.rows).length ? toArray(src?.rows)\r\n    : toArray(src);\r\n\r\n  if (!rows.length) return [];\r\n\r\n  // Day ID -> label (matches your source where 2=Montag ... 1=Sonntag)\r\n  const dayNames = {\r\n    2: 'Montag',\r\n    3: 'Dienstag',\r\n    4: 'Mittwoch',\r\n    5: 'Donnerstag',\r\n    6: 'Freitag',\r\n    7: 'Samstag',\r\n    1: 'Sonntag'\r\n  };\r\n\r\n  // Prefer schedule_slots; fallback to schedule_day_ids + schedule_time_ranges\r\n  const normalizeSlots = (r) => {\r\n    const slotsRaw = r?.schedule_slots;\r\n    if (slotsRaw && (Array.isArray(slotsRaw) || typeof slotsRaw === 'object')) {\r\n      const arr = Array.isArray(slotsRaw) ? slotsRaw : Object.values(slotsRaw);\r\n      return arr\r\n        .map((s) => ({\r\n          day_id: Number(s?.day_id ?? s?.dayId ?? s?.day),\r\n          start: s?.start_time ?? s?.start ?? s?.startTime,\r\n          end: s?.end_time ?? s?.end ?? s?.endTime\r\n        }))\r\n        .filter((s) => !!s.day_id && s.start && s.end);\r\n    }\r\n\r\n    const dayIds = toArray(r?.schedule_day_ids).map(Number).filter(Boolean);\r\n    const ranges = toArray(r?.schedule_time_ranges).map(String);\r\n    const n = Math.max(dayIds.length, ranges.length);\r\n    const out = [];\r\n    for (let i = 0; i < n; i++) {\r\n      const d = Number(dayIds[i]);\r\n      const tr = (ranges[i] || '').trim();\r\n      if (!d || !tr.includes('-')) continue;\r\n      const [start, end] = tr.split('-').map((x) => x.trim());\r\n      if (start && end) out.push({ day_id: d, start, end });\r\n    }\r\n    return out;\r\n  };\r\n\r\n  const modules = [];\r\n\r\n  for (const r of rows) {\r\n    // Grade-level filter: keep only if student's grade is present in row.grade_levels\r\n    if (Number.isFinite(STUDENT_GRADE)) {\r\n      const gradeList = toArray(r?.grade_levels)\r\n        .map((g) => Number(g))\r\n        .filter((g) => Number.isFinite(g));\r\n      // Exclude if no declared grades or student's grade not in list\r\n      if (!gradeList.length || !gradeList.includes(STUDENT_GRADE)) continue;\r\n    }\r\n\r\n    const slots = normalizeSlots(r);\r\n    if (!slots.length) continue;\r\n\r\n    // Prepare info fields\r\n    const pictures = toArray(r?.course_pictures)\r\n      .map(String)\r\n      .map((u) => u.trim())\r\n      .filter(Boolean);\r\n    const picture_first = r?.course_picture_first || pictures[0] || null;\r\n\r\n    // Use the parents-allowed description if provided; fall back to general\r\n    const descForParents = r?.course_description_for_parents ?? null;\r\n    const descGeneral = r?.course_description ?? null;\r\n\r\n    // Strip HTML to display clean text in the component\r\n    const description_for_parents = stripHtml(descForParents);\r\n    const description = stripHtml(descGeneral);\r\n\r\n    // Collapse multiple slots on same day ‚Üí min start / max end (string compare ok for HH:MM)\r\n    const byDay = {};\r\n    for (const s of slots) {\r\n      const d = s.day_id;\r\n      if (!byDay[d]) byDay[d] = { start: s.start, end: s.end };\r\n      else {\r\n        if (s.start < byDay[d].start) byDay[d].start = s.start;\r\n        if (s.end > byDay[d].end) byDay[d].end = s.end;\r\n      }\r\n    }\r\n\r\n    for (const [dStr, range] of Object.entries(byDay)) {\r\n      modules.push({\r\n        window_id: String(r.window_id),\r\n        day: dayNames[Number(dStr)] || `Tag ${dStr}`,\r\n        title: r.course_name || r.course_code || 'Kurs',\r\n        meta: `${range.start}-${range.end}`,\r\n        // Extra info for \"Mehr Info\"\r\n        course_id: r.course_id || null,\r\n        course_code: r.course_code || null,\r\n        description_visible_to_parents: !!r.description_visible_to_parents,\r\n        description, // plain text (HTML stripped)\r\n        description_for_parents, // plain text (HTML stripped)\r\n        wichtige_infos: r?.course_wichtige_infos || null,\r\n        pictures,\r\n        picture_first\r\n      });\r\n    }\r\n  }\r\n\r\n  // Sort by weekday, then start time, then title\r\n  const dayOrder = ['Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag', 'Sonntag'];\r\n  const toMin = (hhmm) => {\r\n    const [h, m] = String(hhmm || '').split(':'); const H = +h, M = +m;\r\n    return Number.isFinite(H) && Number.isFinite(M) ? H * 60 + M : 9999;\r\n  };\r\n  modules.sort((a, b) => {\r\n    const ai = dayOrder.indexOf(a.day), bi = dayOrder.indexOf(b.day);\r\n    if (ai !== bi) return (ai < 0 ? 99 : ai) - (bi < 0 ? 99 : bi);\r\n    const t = toMin((a.meta || '').split('-')[0]) - toMin((b.meta || '').split('-')[0]);\r\n    return t !== 0 ? t : String(a.title || '').localeCompare(String(b.title || ''), 'de-DE');\r\n  });\r\n\r\n  return modules;\r\n})()","__wwtype":"js","defaultValue":[{"day":"Montag","meta":"15:00‚Äì16:30","title":"Fahrradwerkstatt","course_id":"c1","window_id":"mo-a1"},{"day":"Montag","meta":"15:00‚Äì16:00","title":"Archery","course_id":"c2","window_id":"mo-a2"},{"day":"Dienstag","meta":"14:30‚Äì16:00","title":"Fu√üball","course_id":"c3","window_id":"di-b1"}]},"storage":{"code":"","__wwtype":"f","defaultValue":{"storageKey":"wish-per-day","autosaveLocal":true,"emitDebounceMs":200}},"readOnly":false,"daysOrder":{"code":"wwFormulas.rollup(collections['18b475b5-a69a-4000-8dfe-1cb5558734f5']?.['data'],\"name_de\")","__wwtype":"f","defaultValue":["Montag","Dienstag","Mittwoch","Donnerstag","Freitag"]},"initialSelection":{"code":"return variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62']","__wwtype":"js","defaultValue":{}}}},"name":"tablet/pc picker","wwObjectBaseId":"22726794-5731-42fd-949f-bb829e6485a1","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"209a4204-128d-4f62-9a7d-9f432039d821":{"uid":"209a4204-128d-4f62-9a7d-9f432039d821","_state":{"style":{"default":{"border":"none","cursor":"pointer","padding":"12px 24px","boxShadow":"0 2px 4px rgba(0,0,0,0.1)","transition":"all 0.2s ease","borderRadius":"8px","backgroundColor":"#3b82f6"},"_wwHover_default":{"boxShadow":"0 4px 6px rgba(0,0,0,0.1)","transform":"translateY(-1px)","backgroundColor":"#2563eb"}},"states":[{"id":"_wwHover","label":"hover"}],"interactions":[{"id":"021e3621-c8c5-49d7-8511-b80560e2c580","actions":{"2bffa01e-7770-4cb7-8fc4-c430d0dbba81":{"id":"2bffa01e-7770-4cb7-8fc4-c430d0dbba81","next":"2e137af1-a2cb-4334-aa4c-44408f9ed5c5","type":"reset-variables","varsId":["dbb33dce-f242-4fe9-8aa9-1712edef6c62","461d0f2f-dc00-49e1-9e80-a8921a1df303"]},"2e137af1-a2cb-4334-aa4c-44408f9ed5c5":{"id":"2e137af1-a2cb-4334-aa4c-44408f9ed5c5","uid":"0c7c827b-8971-4efc-9fcc-11053098a1c8","args":[true],"next":"a4827c23-6952-444f-b406-23abfe25d72c","type":"component-action","category":"elements","actionName":"resetToInitial"},"a4827c23-6952-444f-b406-23abfe25d72c":{"id":"a4827c23-6952-444f-b406-23abfe25d72c","uid":"ea005be2-a537-413d-bd25-eef817ec4604","args":[true],"type":"component-action","category":"elements","actionName":"resetToInitial"},"de6c96d3-6e83-4c4d-be09-063e84c25c17":{"id":"de6c96d3-6e83-4c4d-be09-063e84c25c17","args":{"params":[{"key":"p_student_id","value":{"code":"variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62']?.['student']?.['student_id']","__wwtype":"f"}},{"key":"p_registration_period_id","value":{"code":"collections['16b855fd-bc0f-4542-92d4-72348c410e64']?.['data']?.[0]?.['registration_period_id']","__wwtype":"f"}},{"key":"p_ui_payload","value":{"code":"variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62']","__wwtype":"f"}},{"key":"p_submitted_by","value":{"code":"pluginVariables['1fa0dd68-5069-436c-9a7d-3b54c340f1fa']['user']?.['user_metadata']?.['profile_id']","__wwtype":"f"}},{"key":"p_debug","value":{"code":"true","__wwtype":"f"}}],"functionName":"ingest_interview_ui_wrapper"},"next":"2bffa01e-7770-4cb7-8fc4-c430d0dbba81","type":"f9ef41c3-1c53-4857-855b-f2f6a40b7186-callPostgresFunction"}},"trigger":"click","firstAction":"de6c96d3-6e83-4c4d-be09-063e84c25c17"}]},"content":{"default":{"text":"New text","disabled":false,"leftIcon":{"uid":"a2a57e89-537d-42db-80ec-d5f74fc1428b","isWwObject":true},"rightIcon":{"uid":"892b7acb-540f-4e67-bd6c-fd11dc36e013","isWwObject":true},"buttonType":"button","hasLeftIcon":false,"hasRightIcon":false,"_ww-text_text":{"0":"N","1":"e","2":"w","3":" ","4":"t","5":"e","6":"x","7":"t","de":"<div>Abschicken</div>","en":"<div>Send in</div>"},"_ww-text_color":"#ffffff","_ww-text_fontSize":"16px","_ww-text_fontWeight":"500"}},"name":"Button","wwObjectBaseId":"59dca300-db78-42e4-a7a6-0cbf22d3cc82","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"892b7acb-540f-4e67-bd6c-fd11dc36e013":{"uid":"892b7acb-540f-4e67-bd6c-fd11dc36e013","_state":{"style":{"default":{"width":"20px","margin":"0 0 0 6px"}}},"content":{"default":{"icon":"lucide/plus","color":"#FFFFFF"}},"name":null,"wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"a2a57e89-537d-42db-80ec-d5f74fc1428b":{"uid":"a2a57e89-537d-42db-80ec-d5f74fc1428b","_state":{"style":{"default":{"width":"20px","margin":"0 6px 0 0"}}},"content":{"default":{"icon":"lucide/plus","color":"#FFFFFF"}},"name":null,"wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"ad3c2c3a-390f-4210-92f7-a4198e717af7":{"uid":"ad3c2c3a-390f-4210-92f7-a4198e717af7","_state":{"style":{}},"content":{"default":{"children":[{"uid":"209a4204-128d-4f62-9a7d-9f432039d821","isWwObject":true}],"_ww-layout_rowGap":"20px","_ww-layout_columnGap":"20px","_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"center"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"3c9e6d88-1616-4529-8c5b-220aa86c9f55":{"uid":"3c9e6d88-1616-4529-8c5b-220aa86c9f55","_state":{"style":{"default":{"cursor":"pointer","display":"flex","padding":"16px","boxShadow":"0 1px 3px rgba(0,0,0,0.1)","transition":"transform 0.2s ease, box-shadow 0.2s ease","borderRadius":"12px","backgroundColor":"white"},"D84lJK_default":{"backgroundColor":"#75FF9A"},"_wwHover_default":{"display":"flex","boxShadow":"0 4px 6px rgba(0,0,0,0.1)","transform":"translateY(-2px)"}},"states":[{"id":"_wwHover","label":"hover"},{"id":"D84lJK","label":"Selected","condition":{"code":"variables['91a37c0c-4675-4e88-938b-55f2b193e266']?.['student_id']==context.item.data?.['student_id']","__wwtype":"f"}}],"interactions":[{"id":"5d86728c-cde5-490f-a6f9-4711b55b71c2","name":"Open Child Details","actions":{"71e8ddf5-39c5-462d-8e46-a3de0eb07c62":{"id":"71e8ddf5-39c5-462d-8e46-a3de0eb07c62","type":"variable","varId":"dbb33dce-f242-4fe9-8aa9-1712edef6c62","internal":false,"varValue":{"code":"return {\r\n  \"step\": \"2\",\r\n  \"student\": context.item.data\r\n}","__wwtype":"js"}},"7d2acbb2-ee60-40c3-aef0-6fbc45948ee6":{"id":"7d2acbb2-ee60-40c3-aef0-6fbc45948ee6","args":{"params":[{"key":"p_student_id","value":{"code":"context.item.data?.['student_id']","__wwtype":"f"}},{"key":"p_registration_period_id","value":{"code":"collections['16b855fd-bc0f-4542-92d4-72348c410e64']?.['data']?.[0]?.['registration_period_id']","__wwtype":"f"}}],"functionName":"get_student_interview_submission"},"next":"b498360b-5ddb-420a-8825-87c71453e651","type":"f9ef41c3-1c53-4857-855b-f2f6a40b7186-callPostgresFunction"},"b498360b-5ddb-420a-8825-87c71453e651":{"id":"b498360b-5ddb-420a-8825-87c71453e651","type":"if","value":{"code":"return context.workflow['7d2acbb2-ee60-40c3-aef0-6fbc45948ee6']?.result != null;","__wwtype":"js"},"branches":[{"id":"dd73fba6-7d90-43fe-a883-2c65470d3463","value":true},{"id":"71e8ddf5-39c5-462d-8e46-a3de0eb07c62","value":false}]},"dd73fba6-7d90-43fe-a883-2c65470d3463":{"id":"dd73fba6-7d90-43fe-a883-2c65470d3463","type":"variable","varId":"dbb33dce-f242-4fe9-8aa9-1712edef6c62","internal":false,"varValue":{"code":"return { ...(context.workflow['7d2acbb2-ee60-40c3-aef0-6fbc45948ee6']?.result ?? {}), step: \"2\" };","__wwtype":"js"}}},"trigger":"click","description":"Opens detailed view for the selected child","firstAction":"7d2acbb2-ee60-40c3-aef0-6fbc45948ee6"}]},"content":{"default":{"children":[{"uid":"9c6a650c-f0b8-46aa-af20-19031ad9eecc","isWwObject":true},{"uid":"a2f5a8ab-ac0b-494b-9595-6e5270486486","isWwObject":true}],"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row"},"_wwHover_default":{}},"name":"Child Card","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"76731f8e-7c63-493d-8bc6-4093c3607182":{"uid":"76731f8e-7c63-493d-8bc6-4093c3607182","_state":{"style":{"default":{}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_text":{"de":{"code":"return \"√Ñnderungen sind bis zum \"\r\n    + new Date(collections['16b855fd-bc0f-4542-92d4-72348c410e64']?.['data']?.[0]?.['closes_last_at'])\r\n        .toLocaleDateString('de-DE', { day: '2-digit', month: '2-digit', year: 'numeric' })\r\n    + \" m√∂glich. Nach Abschluss der Anmeldung erhalten Sie eine Best√§tigung √ºber die Teilnahme Ihres Kindes. Die Angaben zum Heimweg/Abholung k√∂nnen Sie jederzeit aktualisieren.\"\r\n","__wwtype":"js","defaultValue":"<div>√Ñnderungen sind bis zum {{confirmation_date}} m√∂glich. Nach Abschluss der Anmeldung erhalten Sie eine Best√§tigung √ºber die Teilnahme Ihres Kindes. Die Angaben zum Heimweg k√∂nnen Sie jederzeit aktualisieren.</div>"},"en":"<div>You can make changes up until the registration deadline. After registrations close, you should expect confirmation of your child‚Äôs enrollment within 5 days.</div>"},"transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"aea97839-9993-46dc-b120-137f159cb241":{"uid":"aea97839-9993-46dc-b120-137f159cb241","_state":{"style":{"default":{}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_text":{"en":{"code":"const student = variables['91a37c0c-4675-4e88-938b-55f2b193e266'];\r\nconst schedules = collections['ee9baa8f-ba17-4f4b-b915-bb972423be13']?.data || [];\r\n\r\nconst blockNumber = context.item.data?.['block_number'];\r\nconst dayId = context.item.parent?.data?.['day_id'];\r\n\r\nif (!student?.class_id || blockNumber === undefined || dayId === undefined) {\r\n    return null;\r\n}\r\n\r\nconst match = schedules.find(schedule =>\r\n    schedule.class_id === student.class_id &&\r\n    schedule.block_number === blockNumber &&\r\n    schedule.day_id === dayId\r\n);\r\n\r\nif (!match) return null;\r\n\r\nconst label = match.subject_name || match.course_name || null;\r\n\r\nif (!label) return null;\r\n\r\n// Show short version if screen width ‚â§ 768px\r\nreturn window.innerWidth <= 768 ? label.slice(0, 3) : label;\r\n","__wwtype":"js","defaultValue":"<p>This is some text</p>"}},"transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false,"_ww-text_textAlign":"center"}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"22baeed4-6e54-41dc-b5e0-2c7dc8654c80":{"uid":"22baeed4-6e54-41dc-b5e0-2c7dc8654c80","_state":{"style":{"default":{}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_font":"var(--4e3cfba6-0330-4c70-bf29-d8dd3d4d3b94, 700 18px/26px var(--ww-default-font-family, sans-serif))","_ww-text_text":{"de":"<div>üö∂ Heimweg um 14:30 Uhr oder 16:00 Uhr</div>","en":"<p>This is some text</p>"},"transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"83033275-9ea2-47b7-9228-ab1270fa2f8f":{"uid":"83033275-9ea2-47b7-9228-ab1270fa2f8f","_state":{"style":{"default":{}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_text":{"de":{"code":"\"Wie soll \"+variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62']?.['student']?.['first_name']+\" nach Unterrichtsschluss nach Hause kommen?\"","__wwtype":"f","defaultValue":"<div>Wie soll </div>"},"en":{"code":"\"Wie soll \"+variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62']?.['student']?.['first_name']+\" nach Unterrichtsschluss nach Hause kommen?\"","__wwtype":"f","defaultValue":"<p>This is some text</p>"}},"transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"e29b35f9-a5c8-434c-86a0-6e5fd623e267":{"uid":"e29b35f9-a5c8-434c-86a0-6e5fd623e267","_state":{"style":{"mobile":{"width":"auto","display":{"code":"variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62']?.['step']==4","__wwtype":"f","defaultValue":"none"}},"default":{"display":{"code":"variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62']?.['step']==4","__wwtype":"f","defaultValue":"flex"}}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"22baeed4-6e54-41dc-b5e0-2c7dc8654c80","isWwObject":true},{"uid":"83033275-9ea2-47b7-9228-ab1270fa2f8f","isWwObject":true}],"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"column"}},"name":"Choose how student goes home","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"1a21df58-a2ab-48f4-91aa-d26d06e62f02":{"uid":"1a21df58-a2ab-48f4-91aa-d26d06e62f02","_state":{"interactions":[{"id":"4b73ba8c-324c-466c-9870-e240e80ea573","actions":{"86b71610-294c-4d8d-9325-526d8250b669":{"id":"86b71610-294c-4d8d-9325-526d8250b669","type":"if","value":{"code":"const g = variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62']?.student?.grade_level;\r\nreturn parseInt(g, 10) >= 5;","__wwtype":"js"},"branches":[{"id":"a0d07d65-af46-4a48-8c84-b7c1944e0afc","value":true},{"id":"b3bf09d5-eb0f-4765-b99b-2badc3cf0c39","value":false}]},"a0d07d65-af46-4a48-8c84-b7c1944e0afc":{"id":"a0d07d65-af46-4a48-8c84-b7c1944e0afc","type":"variable","varId":"dbb33dce-f242-4fe9-8aa9-1712edef6c62","disabled":false,"internal":false,"varValue":{"code":"return {\r\n  ...variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62'],\r\n  step: \"4\",\r\n  heimweg: event?.['value'] || []\r\n};\r\n","__wwtype":"js"}},"b3bf09d5-eb0f-4765-b99b-2badc3cf0c39":{"id":"b3bf09d5-eb0f-4765-b99b-2badc3cf0c39","type":"variable","varId":"dbb33dce-f242-4fe9-8aa9-1712edef6c62","disabled":false,"internal":false,"varValue":{"code":"return {\r\n  ...variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62'],\r\n  step: \"5\",\r\n  heimweg: event?.['value'] || []\r\n};\r\n","__wwtype":"js"}}},"trigger":"submit","firstAction":"86b71610-294c-4d8d-9325-526d8250b669","triggerConditions":null}]},"content":{"default":{"ui":{"compact":true,"storageKey":"go-home-settings","stickySubmit":true,"autosaveLocal":true,"emitDebounceMs":250,"allowAddContact":true},"labels":{"add":"Hinzuf√ºgen","notes":"Notizen","phone":"Fonnummer","method":"Heimwegart","submit":"Speichern","heading":"Heimweginfo","lastName":"Nachname","relation":"Beziehung zum Kind","firstName":"Vorname","authorized":"Abholberechtigt","setPrimary":"Erstkontakt","selectValue":"Wert ausw√§hlen","primaryLabel":"Prim√§rabholer","errSelectMethod":"Bitte w√§hlen Sie eine Heimwegart.","errSelectAllDays":"Bitte w√§hlen Sie f√ºr jeden Schultag eine Heimwegart.","notesPlaceholder":"Notizen","errPrimaryRequired":"Bitte w√§hlen Sie einen Prim√§rabholer.","dayNotesPlaceholder":"Notizen","errAuthorizedRequired":"Bitte w√§hlen Sie mindestens eine abholberechtigte Person aus.","errNewContactRequired":"Bitte f√ºllen Sie Vorname und Nachname aus."},"mapping":{"id":"id","phone":"phone","lastName":"last_name","relation":"relation","firstName":"first_name"},"methods":[{"id":"goes_alone","label":"Allein nach Hause"},{"id":"public_transport","label":"√ñffentliche Verkehrsmittel"},{"id":"school_bus","label":"Schulbus / Shuttle"},{"id":"authorized_pickup","label":"Abholung durch berechtigte Person"},{"id":"varies_daily","label":"Unterschiedlich je nach Wochentag"}],"contacts":{"code":"// Build ONLY the contacts array for the GoHomeSettings component.\r\n// Adults only (parents/guardians). No children/siblings in the result.\r\n\r\n// 1) Get the current student id from the interview step state\r\nconst state = variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62'] || {};\r\nconst student = state.student || {};\r\nconst studentId = student.student_id ?? student.profile_id ?? null;\r\nif (!studentId) return [];\r\n\r\n// 2) Load the \"students + family\" collection (supports common WeWeb shapes)\r\nlet raw =\r\n  collections['d62b8548-7f35-4a50-a1b3-fd77bb8879a2']?.data ??\r\n  context.workflow['d62b8548-7f35-4a50-a1b3-fd77bb8879a2']?.result?.data;\r\n\r\ntry { raw = JSON.parse(JSON.stringify(raw)); } catch {}\r\n\r\nconst all = Array.isArray(raw) ? raw\r\n  : Array.isArray(raw?.items) ? raw.items\r\n  : Array.isArray(raw?.rows) ? raw.rows\r\n  : Array.isArray(raw?.results) ? raw.results\r\n  : (raw && typeof raw === 'object' ? Object.values(raw) : []);\r\n\r\n// 3) Find the current student row\r\nconst studentRow = all.find(r => r?.profile_id === studentId || r?.student_id === studentId);\r\nif (!studentRow) return [];\r\n\r\n// 4) Helpers\r\nconst toArray = v => Array.isArray(v) ? v : (v ? [v] : []);\r\nconst dedupePushById = (arr, obj) => {\r\n  if (!obj?.id) return;\r\n  if (!arr.some(x => x.id === obj.id)) arr.push(obj);\r\n};\r\nconst extractPhone = (obj) =>\r\n  obj?.phone ?? obj?.mobile ?? obj?.phone_number ?? obj?.telephone ?? '';\r\n\r\nconst normalizeRelationDE = (person) => {\r\n  const relDesc = (person?.relation_description || '').toString().trim();\r\n  const role = (person?.role || '').toString().trim().toLowerCase();\r\n  const firstLower = (person?.first_name || '').toString().trim().toLowerCase();\r\n\r\n  if (['father', 'vater', 'dad', 'papa'].includes(firstLower)) return 'Vater';\r\n  if (['mother', 'mutter', 'mom', 'mama'].includes(firstLower)) return 'Mutter';\r\n\r\n  const relMap = {\r\n    'Parent': 'Elternteil',\r\n    'Guardian': 'Bezugsperson',\r\n    'guardian': 'Bezugsperson',\r\n    'parent': 'Elternteil',\r\n    'mother': 'Mutter',\r\n    'father': 'Vater'\r\n  };\r\n  if (relMap[relDesc]) return relMap[relDesc];\r\n  if (relMap[role]) return relMap[role];\r\n  return 'Bezugsperson';\r\n};\r\n\r\n// 5) Build contacts: ADULTS ONLY\r\nconst contacts = [];\r\nfor (const p of toArray(studentRow.parents)) {\r\n  const id = p?.profile_id;\r\n  if (!id) continue;\r\n\r\n  const contact = {\r\n    id,\r\n    first_name: p?.first_name ?? '',\r\n    last_name: p?.last_name ?? '',\r\n    relation: normalizeRelationDE(p),\r\n    phone: extractPhone(p)\r\n  };\r\n  dedupePushById(contacts, contact);\r\n}\r\n\r\n// Return only the contacts array (bind this to content.contacts)\r\nreturn contacts;","__wwtype":"js","defaultValue":[{"id":"1","phone":"+49123456789","relation":"Vater","last_name":"Mustermann","first_name":"Max"},{"id":"2","phone":"+49987654321","relation":"Mutter","last_name":"Mustermann","first_name":"Anna"}]},"readOnly":false,"schoolDays":{"code":"wwFormulas.rollup(collections['18b475b5-a69a-4000-8dfe-1cb5558734f5']?.['data'],\"name_de\")","__wwtype":"f","defaultValue":["Montag","Dienstag","Mittwoch","Donnerstag","Freitag"]},"initialValue":{"byDay":null,"notes":"","method":"none","authorizedIds":[],"primaryContactId":null},"activeSemester":{"code":"","__wwtype":"f","defaultValue":{"id":"current","label":"Current Semester","endDate":"30.06.2023","startDate":"01.01.2023"}}}},"name":null,"wwObjectBaseId":"3aa555ee-0073-4aa3-acb7-5e87a0298441","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"dad9d085-e0f2-4388-aed5-06ec86a3b4ca":{"uid":"dad9d085-e0f2-4388-aed5-06ec86a3b4ca","_state":{"style":{"mobile":{"width":"auto","display":{"code":"variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62']?.['step']==5","__wwtype":"f","defaultValue":"none"}},"default":{"display":{"code":"variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62']?.['step']==5","__wwtype":"f","defaultValue":"flex"}}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"76731f8e-7c63-493d-8bc6-4093c3607182","isWwObject":true},{"uid":"54ec974c-cd3f-4470-8307-0a38f14973fd","isWwObject":true},{"uid":"ad3c2c3a-390f-4210-92f7-a4198e717af7","isWwObject":true}],"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"column"}},"name":"Interview overview","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"6a7b8693-1959-4a40-a91a-873b1adb6d3a":{"uid":"6a7b8693-1959-4a40-a91a-873b1adb6d3a","_state":{"style":{"default":{"margin":"0"},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"tag":"h3","text":{"en":{"code":"context.item.data.firstName + ' ' + context.item.data.lastName","__wwtype":"f"}},"_ww-text_text":{"en":{"code":"context.item.data?.['first_name']+ ' ' +context.item.data?.['last_name']","__wwtype":"f"}},"_ww-text_color":"#1e293b","_ww-text_fontSize":"18px","_ww-text_fontWeight":"600"},"_wwHover_default":{}},"name":"Child Name","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"be74b8d9-7ad4-4f56-b644-04294937ab9c":{"uid":"be74b8d9-7ad4-4f56-b644-04294937ab9c","_state":{"style":{"default":{"width":"100%","cursor":"pointer","margin":"0 0 16px 0","padding":"12px 16px","customCss":{"justify-content":"center"},"borderRadius":"8px","backgroundColor":"#015fc1"}},"states":[],"interactions":[{"id":"c184679c-6b6b-44ed-8131-711647f0de47","name":"Add New Child","actions":{"a0c65e74-78a3-47ff-9675-0ca549250d57":{"id":"a0c65e74-78a3-47ff-9675-0ca549250d57","type":"open-popup","libraryComponentBaseId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"}},"trigger":"click","description":"Opens dialog to add a new child","firstAction":"a0c65e74-78a3-47ff-9675-0ca549250d57"}]},"content":{"default":{"text":{"en":"+ Kind hinzuf√ºgen"},"disabled":false,"leftIcon":{"uid":"e28e34ce-b136-4dc5-a338-b0fda932ae60","isWwObject":true},"buttonType":"button","hasLeftIcon":true,"_ww-text_text":{"de":"<div> Kind hinzuf√ºgen</div>","en":"+ Kind hinzuf√ºgen"},"_ww-text_color":"white","_ww-text_fontSize":"16px","_ww-text_fontWeight":"600"}},"name":"Add Child Button","wwObjectBaseId":"59dca300-db78-42e4-a7a6-0cbf22d3cc82","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"e28e34ce-b136-4dc5-a338-b0fda932ae60":{"uid":"e28e34ce-b136-4dc5-a338-b0fda932ae60","_state":{"style":{"default":{"width":"20px","height":"20px","margin":"0 8px 0 0"}},"states":[],"interactions":[]},"content":{"default":{"icon":"lucide/plus","color":"white"}},"name":"Add Child Icon","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"c7d28bd7-6ba0-4d85-a7ac-dffba16a1226":{"uid":"c7d28bd7-6ba0-4d85-a7ac-dffba16a1226","_state":{"style":{"default":{"width":"100%","display":"flex"}},"states":[],"interactions":[],"dynamicConfiguration":{"content":{"children":[{"key":"label","type":"Text"},{"key":"value","type":"Text"}]}}},"content":{"default":{"children":{"code":"return collections['c9dca7c3-737b-451f-9a2c-018d5a3a05a1']?.['data']","__wwtype":"js","repeatable":[{"uid":"c75e65f6-39ed-4135-a691-01bad342ba30","isWwObject":true}]},"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"column"}},"name":"Announcements List","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"d93d35e8-bc26-4537-8ef5-08eadab46cc5":{"uid":"d93d35e8-bc26-4537-8ef5-08eadab46cc5","_state":{"style":{"default":{"flex":"0 0 auto","width":"24px","height":"24px","margin":"2px 0 0 0"}},"states":[],"interactions":[]},"content":{"default":{"icon":{"code":"const isImportant = context.item.data?.['is_important'];\r\nreturn isImportant ? 'lucide/alert-triangle' : 'lucide/info';","__wwtype":"js"},"color":{"code":"const priority = context.item.data.priority;\nswitch(priority) {\n  case 'high': return '#dc2626';\n  case 'medium': return '#ea580c';\n  default: return '#2563eb';\n}","__wwtype":"js"}}},"name":"Announcement Priority Icon","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"4af70f19-fd2c-4cf7-863b-37c09d2a4668":{"uid":"4af70f19-fd2c-4cf7-863b-37c09d2a4668","_state":{"style":{"default":{"margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"h3","text":{"en":{"code":"context.item.data.title","__wwtype":"f"}},"_ww-text_text":{"en":{"code":"context.item.data?.['post_title']","__wwtype":"f"}},"_ww-text_color":"#1e293b","_ww-text_fontSize":"16px","_ww-text_fontWeight":"600"}},"name":"Announcement Title","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"a9686bdb-d01a-4a28-aa18-2e56342934b4":{"uid":"a9686bdb-d01a-4a28-aa18-2e56342934b4","_state":{"style":{"default":{"align":null,"border":"1px solid ","padding":"5px","minHeight":"35px"}}},"content":{"default":{"children":[{"uid":"aea97839-9993-46dc-b120-137f159cb241","isWwObject":true}],"_ww-layout_flexDirection":"column"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"29c29b74-ddbe-4d85-b6ce-fca8abebeaaa":{"uid":"29c29b74-ddbe-4d85-b6ce-fca8abebeaaa","_state":{"style":{"mobile":{"width":"auto","display":"none"},"default":{"width":"400px","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"dffea6f7-3825-48fe-808e-5db4768a0456","isWwObject":true},{"uid":"7e57b5fd-84aa-4c2d-a0c8-5a6950d415b9","isWwObject":true}],"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"column"}},"name":"Left Column","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"d059f360-daa6-453a-a1c1-a8588ed45050":{"uid":"d059f360-daa6-453a-a1c1-a8588ed45050","_state":{"style":{"mobile":{"flex":"1 0 auto","transform":"scale3d(1,1,1) translate3d(0px,0px,0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg)"},"default":{"flex":"1 0 auto","padding":"0px"}}},"content":{"default":{"children":[{"uid":"a84d4923-281a-415b-b735-752ad8d305dd","isWwObject":true},{"uid":"bb4b9767-ea2e-4bb2-9fa4-e363ff026e01","isWwObject":true}],"_ww-layout_flexDirection":"column"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"65a1cb5b-0dd3-4b9c-9119-4f0af1b6afea":{"uid":"65a1cb5b-0dd3-4b9c-9119-4f0af1b6afea","_state":{"style":{"mobile":{"width":"20px","minWidth":"35px"},"default":{"align":"center","width":"90px","display":{"code":"context.item.parent?.['index']==0","__wwtype":"f","defaultValue":true},"minWidth":"90px","textAlign":"center"}},"states":[]},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_text":{"de":{"code":"return window.innerWidth <= 768\r\n  ? context.item.data?.['label'] === 'Flexband'\r\n    ? context.item.data?.['label']?.slice(0, 4)\r\n    : context.item.data?.['label']?.slice(0, 2)\r\n  : context.item.data?.['label'];\r\n","__wwtype":"js"},"en":{"code":"return window.innerWidth <= 768\r\n  ? context.item.data?.['label'] === 'Flexband'\r\n    ? context.item.data?.['label']?.slice(0, 4)\r\n    : context.item.data?.['label']?.slice(0, 2)\r\n  : context.item.data?.['label'];\r\n","__wwtype":"js","defaultValue":"<p>This is some text</p>"}},"transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"35a37143-bf7f-430e-9d1d-d617140eec22":{"uid":"35a37143-bf7f-430e-9d1d-d617140eec22","_state":{},"content":{"default":{"offsetY":"8px","position":"bottom","alignment":"start","triggerType":"click","triggerLayout":[{"uid":"8eb9bbf9-746a-4266-ab41-3fd0436540be","isWwObject":true}],"dropdownLayout":[{"uid":"0c7151c2-437e-4b46-9bbd-9b459f548ee5","isWwObject":true}],"forceDisplayEditor":true}},"name":"Dropdown","wwObjectBaseId":"14723a21-0178-4d92-a7e9-d1dfeaec29a7","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"0e5582bd-df4b-4d2a-83a4-f835ac27e4b4":{"uid":"0e5582bd-df4b-4d2a-83a4-f835ac27e4b4","_state":{},"content":{"default":{"icon":"wwi wwi-menu","color":"#FFFFFF","fontSize":28}},"name":null,"wwObjectBaseId":"83d890fb-84f9-4386-b459-fb4be89a8e15","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"8eb9bbf9-746a-4266-ab41-3fd0436540be":{"uid":"8eb9bbf9-746a-4266-ab41-3fd0436540be","_state":{"style":{"default":{"cursor":"pointer","height":"38px","padding":"8px 16px","aspectRatio":"unset","borderRadius":"8px","backgroundColor":"#015fc1","conditionalRendering":true}}},"content":{"default":{"disabled":false,"leftIcon":{"uid":"0e5582bd-df4b-4d2a-83a4-f835ac27e4b4","isWwObject":true},"fontStyle":"ww-font-style-text","buttonType":"button","globalStyle":{},"hasLeftIcon":true,"hasRightIcon":false,"_ww-text_text":{"de":"<div><br></div>","en":"<div>Click me</div>"},"_ww-text_color":"#FFFFFF","_ww-text_ellipsis":false,"_ww-text_fontSize":"14px","_ww-text_sanitize":false,"_ww-text_fontWeight":500,"_ww-text_lineHeight":"20px"}},"name":null,"wwObjectBaseId":"6f8796b1-8273-498d-95fc-7013b7c63214","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"6885d352-d809-478a-9a8f-a8ac4c8230db":{"uid":"6885d352-d809-478a-9a8f-a8ac4c8230db","_state":{"style":{"default":{"cursor":"pointer","display":"flex","padding":"12px 16px"},"_wwHover_default":{"display":"flex","backgroundColor":"#f1f5f9"}},"states":[{"id":"_wwHover","label":"hover"}],"interactions":[]},"content":{"default":{"children":[{"uid":"92b023ba-eb6a-43a3-8df9-d3fb3b8b894d","isWwObject":true},{"uid":"d25a4175-125a-4ca6-aa39-2789c26dbecf","isWwObject":true}],"_ww-layout_rowGap":"12px","_ww-layout_columnGap":"12px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row"},"_wwHover_default":{}},"name":"Profile Menu Item","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"92b023ba-eb6a-43a3-8df9-d3fb3b8b894d":{"uid":"92b023ba-eb6a-43a3-8df9-d3fb3b8b894d","_state":{"style":{"default":{"width":"18px","height":"18px"},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"icon":"lucide/user","color":"#64748b"},"_wwHover_default":{}},"name":"Profile Icon","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"a8bbf80a-7e00-4676-88fa-11a75ab568f8":{"uid":"a8bbf80a-7e00-4676-88fa-11a75ab568f8","_state":{"style":{"default":{},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"tag":"span","text":{"en":"Settings"},"_ww-text_text":{"de":"<div>Impressum</div>","en":"Settings"},"_ww-text_color":"#1e293b","_ww-text_fontSize":"14px"},"_wwHover_default":{}},"name":"Settings Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"b6704c8f-4e44-402d-9b24-fc6798f97d2b":{"uid":"b6704c8f-4e44-402d-9b24-fc6798f97d2b","_state":{"style":{"default":{"width":"18px","height":"18px"},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"icon":"phosphor-regular/scroll","color":"#64748b"},"_wwHover_default":{}},"name":"Settings Icon","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"c5785b5c-3969-4276-bea2-b443cbf5e4ed":{"uid":"c5785b5c-3969-4276-bea2-b443cbf5e4ed","_state":{"style":{"default":{"display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"6885d352-d809-478a-9a8f-a8ac4c8230db","isWwObject":true},{"uid":"5a0a351c-9ecd-4710-afae-27641b723832","isWwObject":true},{"uid":"c32deca0-73ea-49fe-9423-13382771a7e9","isWwObject":true},{"uid":"48ba806f-36bd-4c45-9660-20b00a4f02f3","isWwObject":true},{"uid":"78b636eb-7070-4630-9f63-c75d24f73768","isWwObject":true}],"_ww-layout_flexDirection":"column"}},"name":"User Menu Items","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"2d5a2a4e-fd06-4895-a011-93d4789dc454":{"uid":"2d5a2a4e-fd06-4895-a011-93d4789dc454","_state":{"style":{"default":{},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"tag":"span","text":{"en":"Logout"},"_ww-text_text":{"en":"Logout"},"_ww-text_color":"#dc2626","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"},"_wwHover_default":{}},"name":"Logout Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"629b4172-16eb-4183-a87b-754822042190":{"uid":"629b4172-16eb-4183-a87b-754822042190","_state":{"style":{"default":{"width":"18px","height":"18px"},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"icon":"lucide/log-out","color":"#dc2626"},"_wwHover_default":{}},"name":"Logout Icon","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"d25a4175-125a-4ca6-aa39-2789c26dbecf":{"uid":"d25a4175-125a-4ca6-aa39-2789c26dbecf","_state":{"style":{"default":{},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"tag":"span","text":{"en":"My Profile"},"_ww-text_text":{"en":"My Profile"},"_ww-text_color":"#1e293b","_ww-text_fontSize":"14px"},"_wwHover_default":{}},"name":"Profile Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"0c7151c2-437e-4b46-9bbd-9b459f548ee5":{"uid":"0c7151c2-437e-4b46-9bbd-9b459f548ee5","_state":{"style":{"mobile":{"conditionalRendering":false},"default":{"left":"-160px","width":"220px","border":"1px solid var(--5df2264d-813f-4e12-959b-e86f202e40b0, #E4E4E7)","height":"auto","display":true,"padding":"8px","maxWidth":"400px","overflow":"hidden","position":"absolute","boxShadow":"0px 1px 1px 0px #10182805","borderRadius":"12px","backgroundColor":"#ffffff","conditionalRendering":true},"_wwHover_default":{}},"states":[{"id":"_wwHover","label":"Hover"}]},"content":{"default":{"children":[{"uid":"adf703bf-6519-4eef-8c1f-b327ee851748","isWwObject":true},{"uid":"c5785b5c-3969-4276-bea2-b443cbf5e4ed","isWwObject":true}],"_ww-layout_reverse":false,"_ww-layout_flexWrap":true,"_ww-layout_pushLast":false,"_ww-layout_alignItems":"stretch","_ww-layout_flexDirection":"column","_ww-layout_justifyContent":"flex-start"}},"name":"Dropdown","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"15d938ad-581d-498b-b22d-8b347e6b9f31":{"uid":"15d938ad-581d-498b-b22d-8b347e6b9f31","_state":{"style":{"mobile":{"width":"12px","height":"12px"},"default":{"width":"16px","height":"16px"},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"icon":{"code":"const status = context.item.data.attendanceStatus;\nswitch(status) {\n  case 'Present': return 'lucide/check';\n  case 'Absent (Unexcused)': return 'lucide/x';\n  case 'Absent (Excused)': return 'lucide/ban';\n  default: return 'lucide/clock';\n}","__wwtype":"js"},"color":{"code":"const status = context.item.data?.['presence_status']?.trim()?.toLowerCase();\n\nswitch (status) {\n  case 'present':             // #3CCB7F (light green)\n    return '#065F46';         // dark green-800\n  case 'absent_unexcused':    // #F87171 (light red)\n    return '#7F1D1D';         // dark red-800\n  case 'absent_excused':      // #FDBA74 (light orange)\n    return '#78350F';         // dark orange-800\n  case 'partial':             // #FCD34D (light yellow)\n    return '#92400E';         // dark amber-800\n  default:                    // #E2E8F0 (slate-200)\n    return '#1E293B';         // dark slate-800\n}\n","__wwtype":"js"}},"_wwHover_default":{}},"name":"Attendance Icon","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"21fc8144-c446-414c-8b07-50a1fa1101ca":{"uid":"21fc8144-c446-414c-8b07-50a1fa1101ca","_state":{"style":{"default":{"flex":"1 1 0","display":"flex"},"_wwHover_default":{"display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"c22ffb7e-38ab-4961-a3a8-3f8af9c212bb","isWwObject":true}],"_ww-layout_flexDirection":"column"},"_wwHover_default":{}},"name":"Child Info","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"3e4f5f69-26b8-46f7-aad3-248577238fdc":{"uid":"3e4f5f69-26b8-46f7-aad3-248577238fdc","_state":{"style":{"default":{"display":"flex","padding":"6px 12px","borderRadius":"16px","backgroundColor":{"code":"const status = context.item.data?.['presence_status']?.trim()?.toLowerCase();\n\nswitch (status) {\n  case 'present':\n    return '#3CCB7F';     // Green\n  case 'absent_unexcused':\n    return '#F87171';     // Red\n  case 'absent_excused':\n    return '#FDBA74';     // Orange\n  case 'partial':\n    return '#FCD34D';     // Yellow\n  default:\n    return '#E2E8F0';     // Grey (Pending)\n}\n","__wwtype":"js"}},"_wwHover_default":{"display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"15d938ad-581d-498b-b22d-8b347e6b9f31","isWwObject":true},{"uid":"4ccaeed0-db1d-4089-a03b-6af109ff7a68","isWwObject":true}],"_ww-layout_rowGap":"6px","_ww-layout_columnGap":"6px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row"},"_wwHover_default":{}},"name":"Attendance Badge","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"4ccaeed0-db1d-4089-a03b-6af109ff7a68":{"uid":"4ccaeed0-db1d-4089-a03b-6af109ff7a68","_state":{"style":{"default":{},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"mobile":{"_ww-text_fontSize":"12px"},"default":{"tag":"span","text":{"en":{"code":"return context.item.data.attendanceStatus || 'No Check-in'","__wwtype":"js"}},"_ww-text_text":{"en":{"code":"const status = (context.item.data?.['presence_status'] || '').trim().toLowerCase();\r\n\r\nswitch (status) {\r\n  case 'present':\r\n    return 'Present';\r\n  case 'absent_excused':\r\n    return 'Absent Excused';\r\n  case 'absent_unexcused':\r\n    return 'Absent Unexcused';\r\n  case 'partial':\r\n    return 'Partial';\r\n  default:\r\n    return 'Check-in pending';\r\n}\r\n","__wwtype":"js"}},"_ww-text_color":{"code":"const status = context.item.data?.['presence_status']?.trim()?.toLowerCase();\n\nswitch (status) {\n  case 'present':             // #3CCB7F (light green)\n    return '#065F46';         // dark green-800\n  case 'absent_unexcused':    // #F87171 (light red)\n    return '#7F1D1D';         // dark red-800\n  case 'absent_excused':      // #FDBA74 (light orange)\n    return '#78350F';         // dark orange-800\n  case 'partial':             // #FCD34D (light yellow)\n    return '#92400E';         // dark amber-800\n  default:                    // #E2E8F0 (slate-200)\n    return '#1E293B';         // dark slate-800\n}\n","__wwtype":"js"},"_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"},"_wwHover_default":{}},"name":"Attendance Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"adf703bf-6519-4eef-8c1f-b327ee851748":{"uid":"adf703bf-6519-4eef-8c1f-b327ee851748","_state":{"style":{"mobile":{"display":"flex"},"default":{"width":"100%","display":{"code":"","__wwtype":"f"}}},"states":[],"interactions":[],"dynamicConfiguration":{"content":{"children":[{"key":"label","type":"Text"},{"key":"value","type":"Text"}]}}},"content":{"default":{"children":{"code":"// Get the current profile's ID\r\nconst currentProfileId = collections['a3bd1e48-4a7d-4146-94db-4cb1320be5a7']?.['data']?.[0]?.['id'];\r\n\r\n// Get all family members from the collection\r\nlet familyMembers = collections['b2401a50-b8b7-4e37-a9fd-94c2e3722469']?.['data'];\r\n\r\n// Defensive: If familyMembers is not an array, convert it to one or default to empty\r\nif (!Array.isArray(familyMembers)) {\r\n  if (familyMembers && typeof familyMembers === 'object') {\r\n    familyMembers = Object.values(familyMembers);\r\n  } else {\r\n    familyMembers = [];\r\n  }\r\n}\r\n\r\n// Find the current member object to get their family_id\r\nconst currentMember = familyMembers.find(member => member.profile_id === currentProfileId);\r\nconst currentFamilyId = currentMember?.family_id;\r\n\r\n// Filter: same family_id, not the current profile, and role is \"student\"\r\nconst studentFamilyMembers = familyMembers.filter(member =>\r\n  member.family_id === currentFamilyId &&\r\n  member.profile_id !== currentProfileId &&\r\n  member.role === \"student\"\r\n);\r\n\r\n// Get the student details from the students collection\r\nlet students = collections['881b151d-4f64-4d96-a74b-812bb9282cb8']?.['data'];\r\nif (!Array.isArray(students)) {\r\n  if (students && typeof students === 'object') {\r\n    students = Object.values(students);\r\n  } else {\r\n    students = [];\r\n  }\r\n}\r\nconst matchingStudents = students.filter(student =>\r\n  studentFamilyMembers.some(member => member.profile_id === student.student_id)\r\n);\r\n\r\nreturn matchingStudents;","__wwtype":"js","repeatable":[{"uid":"707821bc-40a3-4aa2-817c-0e4a8b7af467","isWwObject":true}]},"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"column"}},"name":"Children List","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"c22ffb7e-38ab-4961-a3a8-3f8af9c212bb":{"uid":"c22ffb7e-38ab-4961-a3a8-3f8af9c212bb","_state":{"style":{"default":{"margin":"0"},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"mobile":{"_ww-text_fontSize":"14px"},"default":{"tag":"h3","text":{"en":{"code":"context.item.data.firstName + ' ' + context.item.data.lastName","__wwtype":"f"}},"_ww-text_text":{"en":{"code":"context.item.data?.['first_name']+ ' ' +context.item.data?.['last_name']","__wwtype":"f"}},"_ww-text_color":"#1e293b","_ww-text_fontSize":"18px","_ww-text_fontWeight":"600"},"_wwHover_default":{}},"name":"Child Name","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"707821bc-40a3-4aa2-817c-0e4a8b7af467":{"uid":"707821bc-40a3-4aa2-817c-0e4a8b7af467","_state":{"style":{"mobile":{"padding":"5px"},"default":{"cursor":"pointer","display":"flex","padding":"16px","boxShadow":"0 1px 3px rgba(0,0,0,0.1)","transition":"transform 0.2s ease, box-shadow 0.2s ease","borderRadius":"12px","backgroundColor":"white"},"_wwHover_default":{"display":"flex","boxShadow":"0 4px 6px rgba(0,0,0,0.1)","transform":"translateY(-2px)"}},"states":[{"id":"_wwHover","label":"hover"}],"interactions":[{"id":"5d86728c-cde5-490f-a6f9-4711b55b71c2","name":"Open Child Details","actions":{"71e8ddf5-39c5-462d-8e46-a3de0eb07c62":{"id":"71e8ddf5-39c5-462d-8e46-a3de0eb07c62","next":"94939c1d-47df-4291-95c5-d380a9e2ca70","type":"variable","varId":"91a37c0c-4675-4e88-938b-55f2b193e266","internal":false,"varValue":{"code":"context.item.data","__wwtype":"f"}},"94939c1d-47df-4291-95c5-d380a9e2ca70":{"id":"94939c1d-47df-4291-95c5-d380a9e2ca70","uid":"35a37143-bf7f-430e-9d1d-d617140eec22","args":[],"type":"component-action","category":"elements","actionName":"closeDropdown"}},"trigger":"click","description":"Opens detailed view for the selected child","firstAction":"71e8ddf5-39c5-462d-8e46-a3de0eb07c62"}]},"content":{"mobile":{"_ww-layout_rowGap":"5px","_ww-layout_columnGap":"5px","_ww-layout_flexDirection":"column"},"default":{"children":[{"uid":"21fc8144-c446-414c-8b07-50a1fa1101ca","isWwObject":true},{"uid":"3e4f5f69-26b8-46f7-aad3-248577238fdc","isWwObject":true}],"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row"},"_wwHover_default":{}},"name":"Child Card","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"34dba191-3173-4df6-a0e6-0e02b5691647":{"uid":"34dba191-3173-4df6-a0e6-0e02b5691647","_state":{"style":{"mobile":{"align":"flex-start"},"default":{"flex":"1 0 auto","align":"center","textAlign":"center"}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_font":"var(--1a3aa549-d178-4106-bc9e-5d1e7bb34c8c, 500 16px/24px var(--ww-default-font-family, sans-serif))","_ww-text_text":{"de":{"code":"return context.item.data?.['name_de']\n","__wwtype":"js"},"en":{"code":"return context.item.data?.['name_en']\n","__wwtype":"js","defaultValue":"<p>This is some text</p>"}},"transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false,"_ww-text_textAlign":"center","_ww-text_textDecoration":"underline"}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"8a919564-d9f7-4e52-bff8-35cb4c9bf063":{"uid":"8a919564-d9f7-4e52-bff8-35cb4c9bf063","_state":{"style":{"default":{"margin":"0 0 8px 0","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"3907b397-4056-43f9-93b6-e22680349e5e","isWwObject":true},{"uid":"eaf1217e-765e-4015-a093-9abb2ff94f1f","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row"}},"name":"Events Header","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"c3410878-4861-4a68-8c16-7fd558e16d8b":{"uid":"c3410878-4861-4a68-8c16-7fd558e16d8b","_state":{"style":{"mobile":{"padding":"4px","maxWidth":"auto"},"default":{"flex":"0 1 auto","padding":"8px"}}},"content":{"mobile":{"_ww-layout_alignItems":"flex-end","_ww-layout_flexDirection":"column"},"default":{"children":[{"uid":"616d7e1b-f368-4134-aa63-99bd5dab5de3","isWwObject":true},{"uid":"3e5df9d8-07bd-4104-bc58-bda6dbd6553c","isWwObject":true}],"_ww-layout_rowGap":"5px","_ww-layout_flexDirection":"column"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"616d7e1b-f368-4134-aa63-99bd5dab5de3":{"uid":"616d7e1b-f368-4134-aa63-99bd5dab5de3","_state":{"style":{"mobile":{"align":"flex-start"},"default":{"flex":"1 0 auto","align":"center","textAlign":"center"}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_font":"var(--1a3aa549-d178-4106-bc9e-5d1e7bb34c8c, 500 16px/24px var(--ww-default-font-family, sans-serif))","_ww-text_text":{"de":{"code":"return context.item.data?.['name_de']\n","__wwtype":"js"},"en":{"code":"return context.item.data?.['name_en']\n","__wwtype":"js","defaultValue":"<p>This is some text</p>"}},"transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false,"_ww-text_textAlign":"center","_ww-text_textDecoration":"underline"}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"eaf1217e-765e-4015-a093-9abb2ff94f1f":{"uid":"eaf1217e-765e-4015-a093-9abb2ff94f1f","_state":{"style":{"default":{"flex":"1 0 auto","margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"h2","text":{"en":"Upcoming Events"},"_ww-text_text":{"de":{"code":"\"Abholberechtigt \"","__wwtype":"f","defaultValue":"<div>Aktuelle Informationen: </div>"},"en":"Upcoming Events"},"_ww-text_color":"#1e293b","_ww-text_fontSize":"20px","_ww-text_fontWeight":"600"}},"name":"Events Title","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"3907b397-4056-43f9-93b6-e22680349e5e":{"uid":"3907b397-4056-43f9-93b6-e22680349e5e","_state":{"style":{"default":{"width":"24px","height":"24px"}},"states":[],"interactions":[]},"content":{"default":{"icon":"phosphor-regular/identification-badge","color":"#2563eb"}},"name":"Events Icon","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"aaec2c5e-4bac-4741-b51a-77d0dc569149":{"uid":"aaec2c5e-4bac-4741-b51a-77d0dc569149","_state":{"style":{"default":{"width":"100%","display":"flex","maxWidth":"940px"}},"dynamicConfiguration":{"content":{"children":[{"key":"label","type":"Text"},{"key":"value","type":"Text"}]}}},"content":{"mobile":{"_ww-layout_flexDirection":"column"},"default":{"children":{"code":"const sid = variables['91a37c0c-4675-4e88-938b-55f2b193e266']?.student_id;\r\nconst s = collections['d62b8548-7f35-4a50-a1b3-fd77bb8879a2']?.data\r\n  ?.find(i => i.profile_id === sid) ?? {};\r\n\r\nreturn [...(s.parents ?? []), ...(s.siblings ?? [])]\r\n  .map(p => ({\r\n    name: `${p.first_name} ${p.last_name}`,\r\n    authorized_for_pickup: p.authorized_for_pickup === true\r\n  }));\r\n","filter":{"link":"$and","conditions":[{"field":"authorized_for_pickup","value":true,"operator":"$eq"}]},"__wwtype":"js","repeatable":[{"uid":"c3410878-4861-4a68-8c16-7fd558e16d8b","isWwObject":true}],"defaultValue":[]},"_ww-layout_flexDirection":"row"}},"name":"Container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"aa9e9289-af96-45ad-aa5a-02d074b053ef":{"uid":"aa9e9289-af96-45ad-aa5a-02d074b053ef","_state":{"style":{"mobile":{"display":"none"},"default":{"margin":"0"}},"states":[],"interactions":[{"id":"297bf79a-2c77-47c7-8c66-61f5eb98d85f","icon":"cursor","name":"Untitled workflow","index":0,"actions":{"bc49c37d-c451-470c-b1f3-f03530a75612":{"id":"bc49c37d-c451-470c-b1f3-f03530a75612","type":"reset-variables","varsId":["91a37c0c-4675-4e88-938b-55f2b193e266"]}},"trigger":"click","isSearched":false,"description":"On click","firstAction":"bc49c37d-c451-470c-b1f3-f03530a75612"}]},"content":{"mobile":{"_ww-text_fontSize":"23px"},"default":{"tag":"h1","text":{"en":"Parents Portal"},"_ww-text_text":{"de":{"code":"\"Hallo\" + \" \" +collections['a3bd1e48-4a7d-4146-94db-4cb1320be5a7']?.['data']?.[0]?.['first_name']+ \" \" +collections['a3bd1e48-4a7d-4146-94db-4cb1320be5a7']?.['data']?.[0]?.['last_name']","__wwtype":"f"},"en":{"code":"\"Hello\"+\" \"+collections['a3bd1e48-4a7d-4146-94db-4cb1320be5a7']?.['data']?.[0]?.['first_name']+\" \"+collections['a3bd1e48-4a7d-4146-94db-4cb1320be5a7']?.['data']?.[0]?.['last_name']  ","__wwtype":"f","defaultValue":"Parents Portal"}},"_ww-text_color":"#1e293b","_ww-text_fontSize":"28px","_ww-text_fontWeight":"700"}},"name":"Platform Name","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"ede56bef-c2f9-4564-a680-523b642467f5":{"uid":"ede56bef-c2f9-4564-a680-523b642467f5","_state":{"style":{"default":{"width":"24px","height":"24px"}},"states":[],"interactions":[]},"content":{"default":{"icon":"phosphor-bold/person-simple-circle-bold","color":"#2563eb"}},"name":"Events Icon","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"9cd0e537-a70b-42d0-a99b-ca3eceea0120":{"uid":"9cd0e537-a70b-42d0-a99b-ca3eceea0120","_state":{"style":{"default":{"margin":"0 0 8px 0","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"ede56bef-c2f9-4564-a680-523b642467f5","isWwObject":true},{"uid":"8388ff7f-5717-489e-aac1-aa2055ebe323","isWwObject":true},{"uid":"ca4ff79b-484d-4e32-93b4-f23685bec5e2","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row"}},"name":"Events Header","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"fa1bbfde-fe7a-41de-9078-de9de86357fc":{"uid":"fa1bbfde-fe7a-41de-9078-de9de86357fc","_state":{"style":{"default":{"display":"none","padding":"24px","boxShadow":"0 1px 3px rgba(0,0,0,0.1)","borderRadius":"12px","backgroundColor":"white"},"53hRVt_default":{"display":"flex"}},"states":[{"id":"53hRVt","label":"Hide","condition":{"code":"const value = variables['91a37c0c-4675-4e88-938b-55f2b193e266'];\r\nreturn Object.keys(value).length === 0;\r\n","__wwtype":"js"}}],"interactions":[]},"content":{"default":{"children":[{"uid":"33168fd5-98e1-481d-8de6-28de29154698","isWwObject":true}],"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"column"}},"name":"Events Section","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"b632eeb2-5cce-4a55-9cd9-b70e4e09c79b":{"uid":"b632eeb2-5cce-4a55-9cd9-b70e4e09c79b","_state":{"style":{"default":{"display":"none","padding":"24px","boxShadow":"0 1px 3px rgba(0,0,0,0.1)","borderRadius":"12px","backgroundColor":"white"},"7wStIg_default":{"display":"flex"}},"states":[{"id":"7wStIg","label":"Hide","condition":{"code":"const value = variables['91a37c0c-4675-4e88-938b-55f2b193e266'];\r\nreturn Object.keys(value).length === 0;\r\n","__wwtype":"js"}}],"interactions":[]},"content":{"default":{"children":[{"uid":"df652eaa-6e8c-412f-85ce-d013853d8b24","isWwObject":true},{"uid":"c7d28bd7-6ba0-4d85-a7ac-dffba16a1226","isWwObject":true},{"uid":"07880b34-522a-4eea-b853-627808e44c92","isWwObject":true}],"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"column"}},"name":"Announcements Section","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"1030a279-82d5-4abe-8836-85605c66e7fe":{"uid":"1030a279-82d5-4abe-8836-85605c66e7fe","_state":{"style":{"default":{"display":{"code":"const value = variables['91a37c0c-4675-4e88-938b-55f2b193e266'];\r\nreturn Object.keys(value).length > 0;\r\n","__wwtype":"js","defaultValue":"none"},"padding":"24px","boxShadow":"0 1px 3px rgba(0,0,0,0.1)","borderRadius":"12px","backgroundColor":"white"},"WEjmYf_default":{"display":"flex"}},"states":[{"id":"WEjmYf","label":"Show","condition":{"code":"const value = variables['91a37c0c-4675-4e88-938b-55f2b193e266'];\r\nreturn Object.keys(value).length > 0;\r\n","__wwtype":"js"}}],"interactions":[]},"content":{"default":{"children":[{"uid":"9cd0e537-a70b-42d0-a99b-ca3eceea0120","isWwObject":true}],"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"column"}},"name":"student section","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"ca4ff79b-484d-4e32-93b4-f23685bec5e2":{"uid":"ca4ff79b-484d-4e32-93b4-f23685bec5e2","_state":{"style":{"default":{"width":"24px","cursor":"pointer"}},"interactions":[{"id":"e9db9e6d-a339-47f1-8c6f-f706ec244998","actions":{"bc49c37d-c451-470c-b1f3-f03530a75612":{"id":"bc49c37d-c451-470c-b1f3-f03530a75612","type":"reset-variables","varsId":["91a37c0c-4675-4e88-938b-55f2b193e266"]}},"trigger":"click","firstAction":"bc49c37d-c451-470c-b1f3-f03530a75612"}]},"content":{"default":{"icon":"lucide/x"}},"name":"Icon","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"8388ff7f-5717-489e-aac1-aa2055ebe323":{"uid":"8388ff7f-5717-489e-aac1-aa2055ebe323","_state":{"style":{"mobile":{"flex":"0 1 auto"},"default":{"flex":"1 0 auto","margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"h2","text":{"en":"Upcoming Events"},"_ww-text_text":{"de":{"code":"\"Aktuelle Informationen: \" +variables['91a37c0c-4675-4e88-938b-55f2b193e266']?.['first_name']+\" \"+variables['91a37c0c-4675-4e88-938b-55f2b193e266']?.['last_name']","__wwtype":"f","defaultValue":"<div>Aktuelle Informationen: </div>"},"en":"Upcoming Events"},"_ww-text_color":"#1e293b","_ww-text_fontSize":"20px","_ww-text_fontWeight":"600"}},"name":"Events Title","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"b9aad9e0-03f1-4c57-b226-e387bee8e9e1":{"uid":"b9aad9e0-03f1-4c57-b226-e387bee8e9e1","_state":{"style":{"default":{"width":"24px","height":"24px"}},"states":[],"interactions":[]},"content":{"default":{"icon":"phosphor-regular/calendar-dots","color":"#2563eb"}},"name":"Events Icon","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"ba5f31c3-5ef1-4467-be01-dcd1b3e6451a":{"uid":"ba5f31c3-5ef1-4467-be01-dcd1b3e6451a","_state":{"style":{"default":{"margin":"0 0 8px 0","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"b9aad9e0-03f1-4c57-b226-e387bee8e9e1","isWwObject":true},{"uid":"76c6c8b0-885b-499c-a8d1-241e95c5551f","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row"}},"name":"Events Header","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"76c6c8b0-885b-499c-a8d1-241e95c5551f":{"uid":"76c6c8b0-885b-499c-a8d1-241e95c5551f","_state":{"style":{"default":{"flex":"1 0 auto","margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"h2","text":{"en":"Upcoming Events"},"_ww-text_text":{"de":{"code":"\"Stundenplan\"","__wwtype":"f","defaultValue":"<div>Aktuelle Informationen: </div>"},"en":"Upcoming Events"},"_ww-text_color":"#1e293b","_ww-text_fontSize":"20px","_ww-text_fontWeight":"600"}},"name":"Events Title","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"7a805904-7f81-4fd8-94b6-3b4fadfe41cf":{"uid":"7a805904-7f81-4fd8-94b6-3b4fadfe41cf","_state":{"style":{"mobile":{"transform":"scale3d(1,1,1) translate3d(0px,0px,0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg)"},"default":{"width":"100%","display":"flex","maxWidth":"940px"}},"dynamicConfiguration":{"content":{"children":[{"key":"label","type":"Text"},{"key":"value","type":"Text"}]}}},"content":{"default":{"children":{"code":"collections['18b475b5-a69a-4000-8dfe-1cb5558734f5']?.['data']","__wwtype":"f","repeatable":[{"uid":"d059f360-daa6-453a-a1c1-a8588ed45050","isWwObject":true}],"defaultValue":[]},"_ww-layout_flexDirection":"row"}},"name":"Container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"a84d4923-281a-415b-b735-752ad8d305dd":{"uid":"a84d4923-281a-415b-b735-752ad8d305dd","_state":{"style":{"mobile":{"minWidth":"auto"},"default":{"minWidth":"110px"},"R7Oz0J_mobile":{"padding":"0 0 0 30px"},"R7Oz0J_default":{"padding":"0 0 0 100px"}},"states":[{"id":"R7Oz0J","label":"1st","condition":{"code":"context.item.index==0","name":"Copy of formula","__wwtype":"f"}}]},"content":{"default":{"children":[{"uid":"6ffca88c-a1cb-4397-ae0f-5be81d537004","isWwObject":true}],"_ww-layout_flexDirection":"column"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"6ffca88c-a1cb-4397-ae0f-5be81d537004":{"uid":"6ffca88c-a1cb-4397-ae0f-5be81d537004","_state":{"style":{"default":{"flex":"1 0 auto","padding":"0 0 0 0px","minWidth":"1px","minHeight":"20px"}},"states":[]},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_font":"var(--38ffbeff-764d-4bfc-9245-65b7bc0554d3, 500 20px/28px var(--ww-default-font-family, sans-serif))","_ww-text_text":{"de":{"code":"const label = context.item.data?.['name_de'];\r\nreturn window.innerWidth <= 768 ? label?.slice(0, 3) : label;\r\n","__wwtype":"js"},"en":{"code":"const label = context.item.data?.['name_en'];\r\nreturn window.innerWidth <= 768 ? label?.slice(0, 3) : label;\r\n","__wwtype":"js","defaultValue":"<p>This is some text</p>"}},"transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false,"_ww-text_textAlign":"center"}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"30bf7840-8c7c-497d-996b-60592aaa06dc":{"uid":"30bf7840-8c7c-497d-996b-60592aaa06dc","_state":{"style":{"default":{"border":"0px solid #D6D6D6CF","padding":"0px","backgroundColor":{"code":"return context.item.index % 2 !== 0 ? '#D6D6D6CF' : 'transparent'\r\n","__wwtype":"js","defaultValue":"#D9D9D9"}}}},"content":{"default":{"children":[{"uid":"65a1cb5b-0dd3-4b9c-9119-4f0af1b6afea","isWwObject":true},{"uid":"a4b627bc-d8eb-4ade-a2d0-13ff69c7cb79","isWwObject":true}],"_ww-layout_justifyContent":"space-between"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"87d04fda-3ec7-4406-b386-1a647e1b962f":{"uid":"87d04fda-3ec7-4406-b386-1a647e1b962f","_state":{"style":{"default":{"margin":"0 0 8px 0","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"b76e0715-4763-46d0-8c38-378459d7871e","isWwObject":true},{"uid":"8774b0f4-4736-4f6f-b530-3c166225b800","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row"}},"name":"Events Header","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"8774b0f4-4736-4f6f-b530-3c166225b800":{"uid":"8774b0f4-4736-4f6f-b530-3c166225b800","_state":{"style":{"default":{"flex":"1 0 auto","margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"h2","text":{"en":"Upcoming Events"},"_ww-text_text":{"de":{"code":"\"Regelung zur Heimgehzeit \"","__wwtype":"f","defaultValue":"<div>Aktuelle Informationen: </div>"},"en":"Upcoming Events"},"_ww-text_color":"#1e293b","_ww-text_fontSize":"20px","_ww-text_fontWeight":"600"}},"name":"Events Title","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"b76e0715-4763-46d0-8c38-378459d7871e":{"uid":"b76e0715-4763-46d0-8c38-378459d7871e","_state":{"style":{"default":{"width":"24px","height":"24px"}},"states":[],"interactions":[]},"content":{"default":{"icon":"phosphor-regular/house-line","color":"#2563eb"}},"name":"Events Icon","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"301af734-3d46-4f98-a57a-5282b24fc8a2":{"uid":"301af734-3d46-4f98-a57a-5282b24fc8a2","_state":{"style":{"mobile":{"padding":"4px","maxWidth":"auto"},"default":{"flex":"1 0 auto","padding":"8px","maxWidth":"20%"}}},"content":{"mobile":{"_ww-layout_alignItems":"flex-end","_ww-layout_flexDirection":"column"},"default":{"children":[{"uid":"34dba191-3173-4df6-a0e6-0e02b5691647","isWwObject":true},{"uid":"3756c8c3-dd8e-493d-b255-037f1f68d01a","isWwObject":true}],"_ww-layout_rowGap":"5px","_ww-layout_flexDirection":"column"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"eeffd599-9843-48e0-af3b-b666831b7cd7":{"uid":"eeffd599-9843-48e0-af3b-b666831b7cd7","_state":{"style":{"default":{"width":"100%","display":"flex","maxWidth":"940px"}},"dynamicConfiguration":{"content":{"children":[{"key":"label","type":"Text"},{"key":"value","type":"Text"}]}}},"content":{"mobile":{"_ww-layout_flexDirection":"column"},"default":{"children":{"code":"collections['18b475b5-a69a-4000-8dfe-1cb5558734f5']?.['data']","__wwtype":"f","repeatable":[{"uid":"301af734-3d46-4f98-a57a-5282b24fc8a2","isWwObject":true}],"defaultValue":[]},"_ww-layout_flexDirection":"row"}},"name":"Container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"3756c8c3-dd8e-493d-b255-037f1f68d01a":{"uid":"3756c8c3-dd8e-493d-b255-037f1f68d01a","_state":{"style":{"mobile":{"align":"flex-start","textAlign":"start"},"default":{"flex":"1 0 auto","align":"center","textAlign":"center"}}},"content":{"mobile":{"_ww-text_textAlign":"left"},"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_text":{"de":{"code":"const pickupData = collections['78c83cc8-c624-4691-8900-e0cc211f7533']?.data;\r\nconst studentId = variables['91a37c0c-4675-4e88-938b-55f2b193e266']?.['student_id'];\r\nconst dayNumber = context.item.data?.['day_number'];\r\n\r\nif (!Array.isArray(pickupData) || !studentId || dayNumber === undefined) {\r\n}\r\n\r\nconst match = pickupData.find(entry =>\r\n  entry.student_id === studentId && entry.weekday === dayNumber\r\n);\r\n\r\nconst labelMap = {\r\n  self_dismissal: \"üßí Geht allein nach Hause\",\r\n  school_bus: \"üöå Schulbus\",\r\n  authorized_person: \"üë©‚Äçüëß Abholung\",\r\n  public_transport: \"üöâ √ñffentliche Verkehrsmittel\"\r\n};\r\n\r\nconst result = labelMap[match?.pickup_type] || \"noch nicht festgestelegt\";\r\n\r\nreturn result;\r\n","filter":{"link":"$and"},"__wwtype":"js"},"en":{"code":"const pickupData = collections['78c83cc8-c624-4691-8900-e0cc211f7533']?.data;\r\nconst studentId = variables['91a37c0c-4675-4e88-938b-55f2b193e266']?.['student_id'];\r\nconst dayNumber = context.item.data?.['day_number'];\r\n\r\nif (!Array.isArray(pickupData) || !studentId || dayNumber === undefined) {\r\n\r\n  return null;\r\n}\r\n\r\nconst match = pickupData.find(entry =>\r\n  entry.student_id === studentId && entry.weekday === dayNumber\r\n);\r\n\r\nconst labelMap = {\r\n  self_dismissal: \"üßí Goes home alone\",\r\n  school_bus: \"üöå School bus\",\r\n  authorized_person: \"üë©‚Äçüëß Pick up\",\r\n  public_transport: \"üöâ Public transport\"\r\n};\r\nconst result = labelMap[match?.pickup_type] || null;\r\nreturn result;\r\n","__wwtype":"js","defaultValue":"<p>This is some text</p>"}},"transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false,"_ww-text_textAlign":"center"}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"07880b34-522a-4eea-b853-627808e44c92":{"uid":"07880b34-522a-4eea-b853-627808e44c92","_state":{"style":{"default":{"width":"100%","display":{"code":"// 1) Current profile\r\nconst currentProfileId = collections['a3bd1e48-4a7d-4146-94db-4cb1320be5a7']?.['data']?.[0]?.['id'];\r\n\r\n// 2) Family members\r\nlet familyMembers = collections['b2401a50-b8b7-4e37-a9fd-94c2e3722469']?.['data'];\r\nif (!Array.isArray(familyMembers)) familyMembers = familyMembers ? Object.values(familyMembers) : [];\r\nconst currentMember = familyMembers.find(m => m.profile_id === currentProfileId);\r\nconst currentFamilyId = currentMember?.family_id;\r\nconst studentFamilyMembers = familyMembers.filter(m =>\r\n  m.family_id === currentFamilyId && m.profile_id !== currentProfileId && m.role === \"student\"\r\n);\r\n\r\n// 3) Students (children)\r\nlet students = collections['881b151d-4f64-4d96-a74b-812bb9282cb8']?.['data'];\r\nif (!Array.isArray(students)) students = students ? Object.values(students) : [];\r\nconst matchingStudents = students.filter(s =>\r\n  studentFamilyMembers.some(m => m.profile_id === s.student_id)\r\n);\r\n\r\n// 4) Child grades\r\nconst childGrades = [...new Set(\r\n  matchingStudents\r\n    .map(s => {\r\n      const m = String(s.class_name || '').match(/^(\\d+)/);\r\n      return m ? parseInt(m[1], 10) : null;\r\n    })\r\n    .filter(Number.isFinite)\r\n)];\r\nif (childGrades.length === 0) return false;\r\nconst gradesSet = new Set(childGrades);\r\n\r\n// 5) Announcements (view data)\r\nlet ann = collections['16b855fd-bc0f-4542-92d4-72348c410e64']?.['data'];\r\nif (!Array.isArray(ann)) ann = ann ? Object.values(ann) : [];\r\n\r\n// 6) Boolean: any open window matching any child grade\r\nconst hasOpen = ann.some(a =>\r\n  a?.is_open === true &&\r\n  Array.isArray(a.eligible_grades) &&\r\n  a.eligible_grades.some(g => gradesSet.has(g))\r\n);\r\n\r\nreturn hasOpen;","filter":{"link":"$and","conditions":[{"field":"family_id","value":"","operator":"$iLike:contains"}]},"__wwtype":"js","defaultValue":"flex"}}}},"content":{"default":{"children":[{"uid":"2072b9da-9ca3-4156-b90a-0b9638c0e206","isWwObject":true}],"_ww-layout_flexDirection":"column"}},"name":"Container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"0fe687a6-4810-4adf-855b-7669cd2672b9":{"uid":"0fe687a6-4810-4adf-855b-7669cd2672b9","_state":{"style":{"default":{"margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"h2","text":{"en":"Your Children"},"_ww-text_text":{"de":"<div>Deine Kinder</div>","en":"Your Children"},"_ww-text_color":"#1e293b","_ww-text_fontSize":"20px","_ww-text_fontWeight":"600"}},"name":"Children Heading","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"f8a44031-ce1c-42a5-9436-b350a94f8349":{"uid":"f8a44031-ce1c-42a5-9436-b350a94f8349","_state":{"style":{"default":{"display":{"code":"const pickupData = collections['78c83cc8-c624-4691-8900-e0cc211f7533']?.data;\r\nconst studentId = variables['91a37c0c-4675-4e88-938b-55f2b193e266']?.['student_id'];\r\n\r\nif (!Array.isArray(pickupData) || !studentId) {\r\n  return false;\r\n}\r\n\r\nconst hasAuthorizedPerson = pickupData.some(\r\n  entry => entry.student_id === studentId && entry.pickup_type === \"authorized_person\"\r\n);\r\n\r\nreturn hasAuthorizedPerson;\r\n","__wwtype":"js","defaultValue":true}}}},"content":{"default":{"children":[{"uid":"8a919564-d9f7-4e52-bff8-35cb4c9bf063","isWwObject":true},{"uid":"aaec2c5e-4bac-4741-b51a-77d0dc569149","isWwObject":true}],"_ww-layout_flexDirection":"column"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"2dda2c04-9dd8-428c-a78c-027c6de1e427":{"uid":"2dda2c04-9dd8-428c-a78c-027c6de1e427","_state":{"style":{"mobile":{"display":"none"},"default":{"border":"1px solid #e2e8f0","cursor":"pointer","height":"40px","padding":"8px 16px","boxShadow":{"code":"return formulas['044f006f-a0c2-4883-b031-8ede0491a67d']('Tages√ºbersicht') ? '0 1px 2px rgba(0, 0, 0, 0.05)' : 'none'","__wwtype":"js"},"transition":"all 0.2s ease","aspectRatio":"unset","borderRadius":"6px","backgroundColor":{"code":"return formulas['044f006f-a0c2-4883-b031-8ede0491a67d']('Tages√ºbersicht') ? '#f1f5f9' : '#f8fafc'","__wwtype":"js"}},"_wwHover_default":{"customCss":{"border-color":"#cbd5e1"},"backgroundColor":"#f1f5f9"}},"states":[{"id":"_wwHover","label":"hover"}],"interactions":[{"id":"e6188458-8edd-40cd-8c5a-ac182063c148","icon":"cursor","name":"Open Quick Entry Popup","index":0,"actions":{"action_ia_id":{"id":"action_ia_id","code":"await utilsFunctions.openPopup('e6cbe8d0-7924-426d-b481-36d28125d935', {});","type":"custom-js","disabled":true},"cfadd9ce-7c1c-4d85-98b4-2696e033d9f6":{"id":"cfadd9ce-7c1c-4d85-98b4-2696e033d9f6","next":"action_ia_id","type":"open-popup","content":{"default":{"mode_arg":"0"}},"libraryComponentBaseId":"e6cbe8d0-7924-426d-b481-36d28125d935"}},"trigger":"click","isSearched":false,"description":"On click","firstAction":"cfadd9ce-7c1c-4d85-98b4-2696e033d9f6"}]},"content":{"default":{"text":{"en":"Home"},"disabled":false,"buttonType":"button","_ww-text_text":{"de":"<div>Krankmeldung</div>","en":"<div>Quick Input</div>"},"_ww-text_color":{"code":"return formulas['044f006f-a0c2-4883-b031-8ede0491a67d']('Tages√ºbersicht') ? '#0f172a' : '#475569'","__wwtype":"js"},"_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"},"_wwHover_default":{"_ww-text_color":"#334155"}},"name":"Home Button","wwObjectBaseId":"59dca300-db78-42e4-a7a6-0cbf22d3cc82","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"f2ffcd2e-3fff-475a-9e8a-b39643c2f55e":{"uid":"f2ffcd2e-3fff-475a-9e8a-b39643c2f55e","_state":{"style":{"default":{},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"tag":"span","text":{"en":"Settings"},"_ww-text_text":{"en":"Settings"},"_ww-text_color":"#1e293b","_ww-text_fontSize":"14px"},"_wwHover_default":{}},"name":"Settings Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"e7e6638b-5f13-4ab1-9eb4-403c7bb52ff0":{"uid":"e7e6638b-5f13-4ab1-9eb4-403c7bb52ff0","_state":{"style":{"mobile":{"width":"190px","height":"50px"},"default":{"width":"150px","cursor":"pointer","height":"57px","margin":"0 20px 0 0","aspectRatio":"unset","backgroundColor":"#0D47A100"}},"interactions":[{"id":"9dd88790-b0da-4b77-879c-8493dd737079","icon":"cursor","name":"Untitled workflow","index":0,"actions":{"36c95d0c-15d7-4a5e-ae6d-0f4a55ad000b":{"id":"36c95d0c-15d7-4a5e-ae6d-0f4a55ad000b","type":"reset-variables","varsId":["461d0f2f-dc00-49e1-9e80-a8921a1df303"]},"bc49c37d-c451-470c-b1f3-f03530a75612":{"id":"bc49c37d-c451-470c-b1f3-f03530a75612","next":"36c95d0c-15d7-4a5e-ae6d-0f4a55ad000b","type":"reset-variables","varsId":["91a37c0c-4675-4e88-938b-55f2b193e266"]}},"trigger":"click","isSearched":false,"description":"On click","firstAction":"bc49c37d-c451-470c-b1f3-f03530a75612"}]},"content":{"default":{"alt":{"en":""},"url":"images/Logo_1.png?_wwcv=75","loading":"lazy","objectFit":null}},"name":"Image","wwObjectBaseId":"3a7d6379-12d3-4387-98ff-b332bb492a63","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"0e86191a-a0b7-4ff7-883f-7c705ba93187":{"uid":"0e86191a-a0b7-4ff7-883f-7c705ba93187","_state":{"style":{"default":{"width":"18px","height":"18px"},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"icon":"lucide/settings","color":"#64748b"},"_wwHover_default":{}},"name":"Settings Icon","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"5a0a351c-9ecd-4710-afae-27641b723832":{"uid":"5a0a351c-9ecd-4710-afae-27641b723832","_state":{"style":{"default":{"cursor":"pointer","display":"flex","padding":"12px 16px"},"_wwHover_default":{"display":"flex","backgroundColor":"#f1f5f9"}},"states":[{"id":"_wwHover","label":"hover"}],"interactions":[]},"content":{"default":{"children":[{"uid":"0e86191a-a0b7-4ff7-883f-7c705ba93187","isWwObject":true},{"uid":"f2ffcd2e-3fff-475a-9e8a-b39643c2f55e","isWwObject":true}],"_ww-layout_rowGap":"12px","_ww-layout_columnGap":"12px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row"},"_wwHover_default":{}},"name":"Settings Menu Item","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"eb843f33-4d21-455a-8c3f-b013dd161b92":{"uid":"eb843f33-4d21-455a-8c3f-b013dd161b92","_state":{"style":{"default":{"align":"center","display":{"code":"return collections['16b855fd-bc0f-4542-92d4-72348c410e64']?.['data']","__wwtype":"js","defaultValue":true},"textAlign":"center"}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_font":"var(--4e3cfba6-0330-4c70-bf29-d8dd3d4d3b94, 700 18px/26px var(--ww-default-font-family, sans-serif))","_ww-text_text":{"de":"<div>üöÄ Ab heute k√∂nnen die neuen Flex-Module gew√§hlt werden</div>","en":"<p>This is some text</p>"},"_ww-text_color":"#FF3333","transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"9c6a650c-f0b8-46aa-af20-19031ad9eecc":{"uid":"9c6a650c-f0b8-46aa-af20-19031ad9eecc","_state":{"style":{"default":{"flex":"0 0 auto","width":"60px","height":"60px","display":"block","overflow":"hidden","borderRadius":"50%"},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"154fd267-7115-4156-81ba-a681ebda01cd","isWwObject":true}]},"_wwHover_default":{}},"name":"Child Photo","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"37ada8e5-db02-4572-adfe-05bc8170cd85":{"uid":"37ada8e5-db02-4572-adfe-05bc8170cd85","_state":{"style":{"default":{"margin":"0 0 8px 0","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"9bcf0e24-875f-46a2-b619-a4c29dd8d2c9","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row"}},"name":"Children List Title","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"9bcf0e24-875f-46a2-b619-a4c29dd8d2c9":{"uid":"9bcf0e24-875f-46a2-b619-a4c29dd8d2c9","_state":{"style":{"default":{"margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"h2","text":{"en":"Your Children"},"_ww-text_text":{"de":"<div>F√ºr welches Kind m√∂chten Sie die Module ausw√§hlen?\n‚Üí Sp√§ter k√∂nnen Sie auch weitere Kinder hinzuf√ºgen.</div>","en":"Your Children"},"_ww-text_color":"#1e293b","_ww-text_fontSize":"16px","_ww-text_fontWeight":400}},"name":"Children Heading","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"0503b1e3-df83-4fa3-a100-7bb5e168e093":{"uid":"0503b1e3-df83-4fa3-a100-7bb5e168e093","_state":{"style":{"default":{"margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"h2","text":{"en":"Your Children"},"_ww-text_text":{"de":"<div>Welches Kind? </div>","en":"Your Children"},"_ww-text_color":"#1e293b","_ww-text_fontSize":"20px","_ww-text_fontWeight":"600"}},"name":"Children Heading","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"154fd267-7115-4156-81ba-a681ebda01cd":{"uid":"154fd267-7115-4156-81ba-a681ebda01cd","_state":{"style":{"default":{"width":"100%","height":"100%"},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"alt":{"en":{"code":"'Photo of ' + context.item.data.firstName","__wwtype":"f"}},"url":{"code":"return context.item.data?.['profile_picture_url'] || 'images/ChatGPT_Image_Aug_14,_2025,_04_56_25_PM.png?_wwcv=75';\r\n","__wwtype":"js"},"loading":"lazy","objectFit":"contain"},"_wwHover_default":{}},"name":"Child Image","wwObjectBaseId":"3a7d6379-12d3-4387-98ff-b332bb492a63","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"90eb1e95-f8d8-49e7-a689-9e02c2981735":{"uid":"90eb1e95-f8d8-49e7-a689-9e02c2981735","_state":{"style":{"default":{"width":"100%","display":{"code":"variables['235f2438-9f0b-412f-866c-d350e65024ad'] ? 'none' : 'flex'","__wwtype":"f"}}},"states":[],"interactions":[],"dynamicConfiguration":{"content":{"children":[{"key":"label","type":"Text"},{"key":"value","type":"Text"}]}}},"content":{"default":{"children":{"code":"// Helper\r\nconst toArray = v => Array.isArray(v) ? v : (v && typeof v === 'object' ? Object.values(v) : []);\r\n\r\n// 1) Current profile\r\nconst currentProfileId = collections['a3bd1e48-4a7d-4146-94db-4cb1320be5a7']?.data?.[0]?.id;\r\nif (!currentProfileId) return [];\r\n\r\n// 2) Family members\r\nconst familyMembers = toArray(collections['b2401a50-b8b7-4e37-a9fd-94c2e3722469']?.data);\r\n\r\n// 3) Current member + family_id\r\nconst currentMember = familyMembers.find(m => m?.profile_id === currentProfileId);\r\nconst currentFamilyId = currentMember?.family_id;\r\nif (!currentFamilyId) return [];\r\n\r\n// 4) Other student members in the same family\r\nconst studentFamilyMembers = familyMembers.filter(m =>\r\n  m?.family_id === currentFamilyId &&\r\n  m?.profile_id !== currentProfileId &&\r\n  String(m?.role || '').toLowerCase() === 'student'\r\n);\r\n\r\n// 5) Students (FIXED collection ID)\r\nconst students = toArray(collections['881b151d-4f64-4d96-a74b-812bb9282cb8']?.data);\r\n\r\n// 6) Match students to family members by profile_id = student_id\r\nconst matchingStudents = students.filter(s =>\r\n  studentFamilyMembers.some(m => m?.profile_id === s?.student_id)\r\n);\r\n\r\n// 7) Classes (for grade_level, etc.)\r\nconst classes = toArray(collections['b8d0c0e2-1e1a-49c1-b2e7-6d468ab46eb2']?.data);\r\nconst classById = new Map(classes.map(c => [c.id, c]));\r\nconst classByName = new Map(classes.map(c => [String(c?.name || '').trim().toUpperCase(), c]));\r\n\r\n// 8) Enrich with class + grade\r\nconst enriched = matchingStudents.map(s => {\r\n  const classId = s.class_id ?? s.classId ?? s.structure_class_id ?? null;\r\n  const className = s.class_name ?? s.className ?? null;\r\n\r\n  let cls = classId ? classById.get(classId) : undefined;\r\n  if (!cls && className) cls = classByName.get(String(className).trim().toUpperCase());\r\n\r\n  let grade = cls?.grade_level;\r\n  if (!Number.isFinite(grade) && className) {\r\n    const m = String(className).match(/^(\\d+)/);\r\n    if (m) grade = parseInt(m[1], 10);\r\n  }\r\n  if (!Number.isFinite(grade) && Number.isFinite(s?.grade_level)) grade = s.grade_level;\r\n  if (!Number.isFinite(grade) && s?.grade_level != null && !Number.isNaN(Number(s.grade_level))) {\r\n    grade = Number(s.grade_level);\r\n  }\r\n\r\n  return {\r\n    ...s,\r\n    class_id: cls?.id ?? classId ?? null,\r\n    class_name: cls?.name ?? className ?? null,\r\n    grade_level: Number.isFinite(grade) ? grade : null,\r\n    class_year: cls?.year ?? null,\r\n    class_color: cls?.color ?? null,\r\n  };\r\n});\r\n\r\nreturn enriched;","__wwtype":"js","repeatable":[{"uid":"3c9e6d88-1616-4529-8c5b-220aa86c9f55","isWwObject":true}]},"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"column"}},"name":"Children List","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"d3427d0f-b2e7-4552-bbec-8491ba88174c":{"uid":"d3427d0f-b2e7-4552-bbec-8491ba88174c","_state":{"style":{"default":{}},"states":[],"interactions":[]},"content":{"default":{"tag":"p","text":{"en":"Loading children data..."},"_ww-text_text":{"en":"Loading children data..."},"_ww-text_color":"#64748b","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"}},"name":"Loading Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"ffd2dfe1-3841-46d3-8921-2bbe02211d70":{"uid":"ffd2dfe1-3841-46d3-8921-2bbe02211d70","_state":{"style":{"default":{"margin":"0 0 16px 0"}},"states":[],"interactions":[]},"content":{"default":{"size":"40px","color":"#2563eb","spinner":"circle"}},"name":"Loading Spinner","wwObjectBaseId":"aa27b26f-0686-4c29-98c5-8217044045b7","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"616ed50f-1225-46dc-a074-1167631e9bba":{"uid":"616ed50f-1225-46dc-a074-1167631e9bba","_state":{"style":{"default":{"width":"24px","height":"24px"}},"states":[],"interactions":[]},"content":{"default":{"icon":"lucide/users","color":"#2563eb"}},"name":"Children Icon","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"bddcea23-60fe-4bef-9b0e-7c3065599cfc":{"uid":"bddcea23-60fe-4bef-9b0e-7c3065599cfc","_state":{"style":{"default":{"margin":"0 0 8px 0","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"616ed50f-1225-46dc-a074-1167631e9bba","isWwObject":true},{"uid":"0503b1e3-df83-4fa3-a100-7bb5e168e093","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row"}},"name":"Children List Title","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"4e507b7a-59d8-4cfa-873c-52d4f6bd6de7":{"uid":"4e507b7a-59d8-4cfa-873c-52d4f6bd6de7","_state":{"style":{"default":{"flex":"1 0 auto","maxWidth":"1200px"}}},"content":{"default":{"children":[{"uid":"e7e6638b-5f13-4ab1-9eb4-403c7bb52ff0","isWwObject":true},{"uid":"ac1d4e33-3456-4d8c-af35-061ecf352bec","isWwObject":true}],"_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"center"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"a2f5a8ab-ac0b-494b-9595-6e5270486486":{"uid":"a2f5a8ab-ac0b-494b-9595-6e5270486486","_state":{"style":{"default":{"flex":"1 1 0","display":"flex"},"_wwHover_default":{"display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"57f47d67-2f3d-423a-a5a9-aae4ab507d4a","isWwObject":true}],"_ww-layout_flexDirection":"column"},"_wwHover_default":{}},"name":"Child Info","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"209fbeb5-7afc-44b3-a767-67b1d2a88db2":{"uid":"209fbeb5-7afc-44b3-a767-67b1d2a88db2","_state":{"style":{"default":{"display":{"code":"variables['235f2438-9f0b-412f-866c-d350e65024ad'] ? 'flex' : 'none'","__wwtype":"f"},"padding":"40px 0"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"ffd2dfe1-3841-46d3-8921-2bbe02211d70","isWwObject":true},{"uid":"d3427d0f-b2e7-4552-bbec-8491ba88174c","isWwObject":true}],"_ww-layout_alignItems":"center","_ww-layout_flexDirection":"column","_ww-layout_justifyContent":"center"}},"name":"Loading Container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"2fbdaa41-1bf5-431b-a5f5-2cf66895be43":{"uid":"2fbdaa41-1bf5-431b-a5f5-2cf66895be43","_state":{"style":{"default":{"width":"100%","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"209fbeb5-7afc-44b3-a767-67b1d2a88db2","isWwObject":true},{"uid":"90eb1e95-f8d8-49e7-a689-9e02c2981735","isWwObject":true}],"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"column"}},"name":"Children List Container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"57f47d67-2f3d-423a-a5a9-aae4ab507d4a":{"uid":"57f47d67-2f3d-423a-a5a9-aae4ab507d4a","_state":{"style":{"default":{"margin":"0"},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"tag":"h3","text":{"en":{"code":"context.item.data.firstName + ' ' + context.item.data.lastName","__wwtype":"f"}},"_ww-text_text":{"en":{"code":"context.item.data?.['first_name']+ ' ' +context.item.data?.['last_name']","__wwtype":"f"}},"_ww-text_color":"#1e293b","_ww-text_fontSize":"18px","_ww-text_fontWeight":"600"},"_wwHover_default":{}},"name":"Child Name","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"7db8fd4b-d4a6-42b3-9dfd-e8bc7fa5e982":{"uid":"7db8fd4b-d4a6-42b3-9dfd-e8bc7fa5e982","_state":{"style":{"default":{"border":"none","cursor":"pointer","padding":"12px 24px","boxShadow":"0 2px 4px rgba(0,0,0,0.1)","transition":"all 0.2s ease","borderRadius":"8px","backgroundColor":"#3b82f6"},"_wwHover_default":{"boxShadow":"0 4px 6px rgba(0,0,0,0.1)","transform":"translateY(-1px)","backgroundColor":"#2563eb"}},"states":[{"id":"_wwHover","label":"hover"}],"interactions":[{"id":"3affbe60-5d57-472d-ada6-917525d37f47","actions":{"0dfb291a-ac2d-4322-b35b-944aff8d62e3":{"id":"0dfb291a-ac2d-4322-b35b-944aff8d62e3","next":"6f8737b3-ffc7-47f9-a739-8953bd6bbc1a","type":"variable","varId":"461d0f2f-dc00-49e1-9e80-a8921a1df303","internal":false,"varValue":"module_interview"},"6f8737b3-ffc7-47f9-a739-8953bd6bbc1a":{"id":"6f8737b3-ffc7-47f9-a739-8953bd6bbc1a","path":"step","type":"variable","varId":"dbb33dce-f242-4fe9-8aa9-1712edef6c62","usePath":true,"internal":false,"varValue":"1"}},"trigger":"click","firstAction":"0dfb291a-ac2d-4322-b35b-944aff8d62e3"}]},"content":{"default":{"text":"New text","disabled":false,"leftIcon":{"uid":"ef34f788-234e-4cda-a8d7-b910f5a4cc34","isWwObject":true},"rightIcon":{"uid":"d43ef8cd-b57c-4c98-bb3b-a67686fddacd","isWwObject":true},"buttonType":"button","hasLeftIcon":false,"hasRightIcon":false,"_ww-text_text":{"0":"N","1":"e","2":"w","3":" ","4":"t","5":"e","6":"x","7":"t","de":"<div>Jetzt Flex-Module w√§hlen</div>","en":"<div>Click</div>"},"_ww-text_color":"#ffffff","_ww-text_fontSize":"16px","_ww-text_fontWeight":"500"}},"name":"Button","wwObjectBaseId":"59dca300-db78-42e4-a7a6-0cbf22d3cc82","libraryComponentBaseId":null,"parentSectionId":"42bab14c-4fde-4a6b-85ef-58a849b10625"},"64f3cf7a-2203-4a44-93af-9e8a8a25e523":{"uid":"64f3cf7a-2203-4a44-93af-9e8a8a25e523","_state":{"style":{"mobile":{"width":"auto","display":{"code":"variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62']?.['step']==2","__wwtype":"f","defaultValue":"none"}},"default":{"display":{"code":"variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62']?.['step']==2","__wwtype":"f","defaultValue":"flex"}}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"0c7c827b-8971-4efc-9fcc-11053098a1c8","isWwObject":true},{"uid":"ea005be2-a537-413d-bd25-eef817ec4604","isWwObject":true}],"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"column"}},"name":"Choose modules","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"54ec974c-cd3f-4470-8307-0a38f14973fd":{"uid":"54ec974c-cd3f-4470-8307-0a38f14973fd","_state":{"style":{"mobile":{"padding":"20px"}},"interactions":[{"id":"d971704c-b68e-4e12-86ca-88f5eeebd0a4","actions":{"039fde78-e92b-4541-b441-7f083d2272b0":{"id":"039fde78-e92b-4541-b441-7f083d2272b0","type":"variable","varId":"dbb33dce-f242-4fe9-8aa9-1712edef6c62","internal":false,"varValue":{"code":"const state = variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62'] || {};\r\nreturn {\r\n    ...state,\r\n    step: \"2\" // keep everything else unchanged\r\n};\r\n","__wwtype":"js"}}},"trigger":"edit-wishes","firstAction":"039fde78-e92b-4541-b441-7f083d2272b0","triggerConditions":null},{"id":"b976181c-3f36-4890-8d0e-dbc58f2116d1","name":"Copy of workflow","actions":{"039fde78-e92b-4541-b441-7f083d2272b0":{"id":"039fde78-e92b-4541-b441-7f083d2272b0","type":"variable","varId":"dbb33dce-f242-4fe9-8aa9-1712edef6c62","internal":false,"varValue":{"code":"const state = variables['dbb33dce-f242-4fe9-8aa9-1712edef6c62'] || {};\r\nreturn {\r\n    ...state,\r\n    step: \"3\" // keep everything else unchanged\r\n};\r\n","__wwtype":"js"}}},"trigger":"edit-heimweg","firstAction":"039fde78-e92b-4541-b441-7f083d2272b0","triggerConditions":null}]},"content":{"default":{"days":{"code":"wwFormulas.getKeyValue(formulas['bafc1ac5-77d2-4281-bcf3-c88752ffab58'](),\"days\")","__wwtype":"f","defaultValue":[{"id":1,"key":"Montag","label":"Montag"},{"id":2,"key":"Dienstag","label":"Dienstag"},{"id":3,"key":"Mittwoch","label":"Mittwoch"},{"id":4,"key":"Donnerstag","label":"Donnerstag"},{"id":5,"key":"Freitag","label":"Freitag"}]},"lang":"de","actions":{"code":"wwFormulas.getKeyValue(formulas['bafc1ac5-77d2-4281-bcf3-c88752ffab58'](),\"actions\")","__wwtype":"f","defaultValue":{"canEditWishes":true,"canEditHeimweg":true,"editWishesLink":"","editHeimwegLink":""}},"studentId":{"code":"wwFormulas.getKeyValue(formulas['bafc1ac5-77d2-4281-bcf3-c88752ffab58'](),\"studentId\")","__wwtype":"f","defaultValue":""},"pickupByDay":{"code":"wwFormulas.getKeyValue(formulas['bafc1ac5-77d2-4281-bcf3-c88752ffab58'](),\"pickupByDay\")","__wwtype":"f","defaultValue":{"Montag":{"note":"","text":"geht allein nach Hause","time":"14:30","method":"goes_alone"},"Freitag":{"note":"","text":"geht allein nach Hause","time":"14:30","method":"goes_alone"},"Dienstag":{"note":"","text":"wird abgeholt von Anna M√ºller (Prim√§r), Ben Wagner","time":"14:30","method":"authorized_pickup"},"Mittwoch":{"note":"Nur bei gutem Wetter","text":"f√§hrt mit √∂ffentlichen Verkehrsmitteln nach Hause","time":"16:00","method":"public_transport"},"Donnerstag":{"note":"","text":"f√§hrt mit dem Schulbus / Shuttle nach Hause","time":"16:00","method":"school_bus"}}},"studentName":{"code":"wwFormulas.getKeyValue(formulas['bafc1ac5-77d2-4281-bcf3-c88752ffab58'](),\"studentName\")","__wwtype":"f","defaultValue":"Tim Peters"},"wishesByDay":{"code":"wwFormulas.getKeyValue(formulas['bafc1ac5-77d2-4281-bcf3-c88752ffab58'](),\"wishesByDay\")","__wwtype":"f","defaultValue":{"Montag":[{"rank":1,"title":"Mathematik"},{"rank":2,"title":"Physik"}],"Freitag":[{"rank":1,"title":"Sport"}],"Dienstag":[{"rank":1,"title":"Kein Modul"}],"Mittwoch":[{"rank":1,"title":"Biologie"},{"rank":2,"title":"Chemie"},{"rank":3,"title":"Informatik"}],"Donnerstag":[{"rank":1,"title":"Kunst"},{"rank":2,"title":"Musik"}]}},"fallbackByDay":{"code":"wwFormulas.getKeyValue(formulas['bafc1ac5-77d2-4281-bcf3-c88752ffab58'](),\"fallbackByDay\")","__wwtype":"f"},"maxWishesRows":3,"fallbackRankByDay":{"code":"wwFormulas.getKeyValue(formulas['bafc1ac5-77d2-4281-bcf3-c88752ffab58'](),\"fallbackRankByDay\")","__wwtype":"f"},"authorizedContacts":{"code":"wwFormulas.getKeyValue(formulas['bafc1ac5-77d2-4281-bcf3-c88752ffab58'](),\"authorizedContacts\")","__wwtype":"f"}}},"name":null,"wwObjectBaseId":"f2ffc045-9885-466a-8660-29875545a9ad","libraryComponentBaseId":null,"parentSectionId":"2026f08e-31d3-4195-9182-0cdeca385266"},"c32deca0-73ea-49fe-9423-13382771a7e9":{"uid":"c32deca0-73ea-49fe-9423-13382771a7e9","_state":{"style":{"mobile":{"borderTop":"1px solid #e2e8f0","borderLeft":"0px","borderRight":"0px","borderBottom":"0px"},"default":{"cursor":"pointer","display":"flex","padding":"12px 16px"},"_wwHover_default":{"display":"flex","backgroundColor":"#f1f5f9"}},"states":[{"id":"_wwHover","label":"hover"}],"interactions":[{"id":"5f9088e4-f649-47ae-b79e-dea77282706f","actions":{"a6728c6c-0158-4311-816d-a8a0820836a1":{"id":"a6728c6c-0158-4311-816d-a8a0820836a1","next":"d539add5-ddff-4df9-a57d-e3937b741283","type":"variable","varId":"461d0f2f-dc00-49e1-9e80-a8921a1df303","internal":false,"varValue":"Impressum"},"d539add5-ddff-4df9-a57d-e3937b741283":{"id":"d539add5-ddff-4df9-a57d-e3937b741283","uid":"35a37143-bf7f-430e-9d1d-d617140eec22","args":[],"next":null,"type":"component-action","category":"elements","actionName":"closeDropdown"}},"trigger":"click","firstAction":"a6728c6c-0158-4311-816d-a8a0820836a1"}]},"content":{"default":{"children":[{"uid":"b6704c8f-4e44-402d-9b24-fc6798f97d2b","isWwObject":true},{"uid":"a8bbf80a-7e00-4676-88fa-11a75ab568f8","isWwObject":true}],"_ww-layout_rowGap":"12px","_ww-layout_columnGap":"12px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row"},"_wwHover_default":{}},"name":"Settings Menu Item","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"9376c3c5-4fb9-406e-8fae-bbbd79d3db71":{"uid":"9376c3c5-4fb9-406e-8fae-bbbd79d3db71","_state":{"style":{"default":{}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_font":"var(--8d14c83a-63a5-4f4f-a12a-97af4258074d, 500 24px/32px var(--ww-default-font-family, sans-serif))","_ww-text_text":{"de":"<div>Impressum</div>","en":"<p>This is some text</p>"},"transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false,"_ww-text_textDecoration":"underline"}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"b9afb4b5-b305-4720-adad-0be3e44d9641"},"cd156d06-d476-45ab-be34-99f1b7b41f0b":{"uid":"cd156d06-d476-45ab-be34-99f1b7b41f0b","_state":{"style":{"default":{}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_text":{"de":"<div><strong>FlexWise UG (haftungsbeschr√§nkt)</strong></div><div>Septimerstra√üe 18</div><div>13407 Berlin</div><div><br></div><div>Gesch√§ftsf√ºhrung: Jelka Likus</div><div><br></div><div>E-Mail: fragen@flex-wise.info</div><div><br></div><div>Eingetragen im Handelsregister beim</div><div>Amtsgericht Berlin-Charlottenburg</div><div>Handelsregisternummer: HRB 276963 B</div><div><br></div><div>Umsatzsteuer-ID:</div><div>Beantragt ‚Äì wird nachgereicht</div>","en":"<p>This is some text</p>"},"transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"b9afb4b5-b305-4720-adad-0be3e44d9641"},"a8e01af2-703a-401a-9421-b0900e2b5557":{"uid":"a8e01af2-703a-401a-9421-b0900e2b5557","_state":{"style":{"default":{"align":"flex-end","width":"32px","cursor":"pointer","height":"32px","padding":"6px","transition":"all 0.2s ease","borderRadius":"50%"},"_wwHover_default":{"backgroundColor":"#F3F4F6"}},"states":[],"interactions":[{"id":"7f46c5c2-cffa-4000-ad0f-348a309ac76a","name":"Close Popup","actions":{"fd651fc3-2e58-42c8-a088-78c9582bdabb":{"id":"fd651fc3-2e58-42c8-a088-78c9582bdabb","next":null,"type":"variable","varId":"461d0f2f-dc00-49e1-9e80-a8921a1df303","internal":false,"varValue":"home"}},"trigger":"click","description":"Closes the popup without saving","firstAction":"fd651fc3-2e58-42c8-a088-78c9582bdabb"}]},"content":{"default":{"icon":"phosphor-regular/x","color":"#6B7280","_ww-text_text":{"en":""}},"_wwHover_default":{"color":"#111827","_ww-text_color":"#111827"}},"name":"Close Button","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentSectionId":"b9afb4b5-b305-4720-adad-0be3e44d9641"},"96bc2f05-bb72-4589-a6bf-8357a3b04e5f":{"uid":"96bc2f05-bb72-4589-a6bf-8357a3b04e5f","_state":{"style":{"default":{"width":"18px","height":"18px"},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"icon":"lucide/shield-ellipsis","color":"#64748b"},"_wwHover_default":{}},"name":"Settings Icon","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"8d74a6ea-3d33-422d-8d07-4366168b5276":{"uid":"8d74a6ea-3d33-422d-8d07-4366168b5276","_state":{"style":{"default":{},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"tag":"span","text":{"en":"Settings"},"_ww-text_text":{"de":"<div>Datenschutz</div>","en":"Settings"},"_ww-text_color":"#1e293b","_ww-text_fontSize":"14px"},"_wwHover_default":{}},"name":"Settings Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"48ba806f-36bd-4c45-9660-20b00a4f02f3":{"uid":"48ba806f-36bd-4c45-9660-20b00a4f02f3","_state":{"style":{"mobile":{"borderTop":"1px solid #e2e8f0","borderLeft":"0px","borderRight":"0px","borderBottom":"0px"},"default":{"cursor":"pointer","display":"flex","padding":"12px 16px"},"_wwHover_default":{"display":"flex","backgroundColor":"#f1f5f9"}},"states":[{"id":"_wwHover","label":"hover"}],"interactions":[{"id":"5f9088e4-f649-47ae-b79e-dea77282706f","actions":{"a6728c6c-0158-4311-816d-a8a0820836a1":{"id":"a6728c6c-0158-4311-816d-a8a0820836a1","next":"d539add5-ddff-4df9-a57d-e3937b741283","type":"variable","varId":"461d0f2f-dc00-49e1-9e80-a8921a1df303","internal":false,"varValue":"Datenschutz"},"d539add5-ddff-4df9-a57d-e3937b741283":{"id":"d539add5-ddff-4df9-a57d-e3937b741283","uid":"35a37143-bf7f-430e-9d1d-d617140eec22","args":[],"next":null,"type":"component-action","category":"elements","actionName":"closeDropdown"}},"trigger":"click","firstAction":"a6728c6c-0158-4311-816d-a8a0820836a1"}]},"content":{"default":{"children":[{"uid":"96bc2f05-bb72-4589-a6bf-8357a3b04e5f","isWwObject":true},{"uid":"8d74a6ea-3d33-422d-8d07-4366168b5276","isWwObject":true}],"_ww-layout_rowGap":"12px","_ww-layout_columnGap":"12px","_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row"},"_wwHover_default":{}},"name":"Settings Menu Item","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentSectionId":"2b5c4ae2-9c2d-4a1a-a79a-5be277f8e970"},"d26e519b-9aa3-4af0-b5d0-c848c88de893":{"uid":"d26e519b-9aa3-4af0-b5d0-c848c88de893","_state":{"style":{"default":{"align":"flex-end","width":"32px","cursor":"pointer","height":"32px","padding":"6px","transition":"all 0.2s ease","borderRadius":"50%"},"_wwHover_default":{"backgroundColor":"#F3F4F6"}},"states":[],"interactions":[{"id":"7f46c5c2-cffa-4000-ad0f-348a309ac76a","name":"Close Popup","actions":{"fd651fc3-2e58-42c8-a088-78c9582bdabb":{"id":"fd651fc3-2e58-42c8-a088-78c9582bdabb","next":null,"type":"variable","varId":"461d0f2f-dc00-49e1-9e80-a8921a1df303","internal":false,"varValue":"home"}},"trigger":"click","description":"Closes the popup without saving","firstAction":"fd651fc3-2e58-42c8-a088-78c9582bdabb"}]},"content":{"default":{"icon":"phosphor-regular/x","color":"#6B7280","_ww-text_text":{"en":""}},"_wwHover_default":{"color":"#111827","_ww-text_color":"#111827"}},"name":"Close Button","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentSectionId":"54d59611-7e52-4676-968e-ada91063d298"},"27e91642-c8dc-43c3-b003-bb9640068acb":{"uid":"27e91642-c8dc-43c3-b003-bb9640068acb","_state":{"style":{"default":{"padding":"0px 0px 100px 0px"}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_text":{"de":"<div><strong>Datenschutzerkl√§rung f√ºr FlexWise</strong></div><div>\n<strong>1. Verantwortlichkeit</strong>\nDie FlexWise-Plattform wird von der [Schule einf√ºgen] genutzt.\nVerantwortlich im Sinne der DSGVO ist die jeweilige Schule, die entscheidet, welche Daten erhoben, verarbeitet und genutzt werden. FlexWise stellt die technische Infrastruktur bereit und agiert dabei als Auftragsverarbeiter nach Art. 28 DSGVO.</div><div>\n<strong>2. Welche Daten wir verarbeiten</strong>\nDie Art der Daten, die in FlexWise gespeichert werden, richtet sich nach den schulischen Anforderungen. Dazu k√∂nnen geh√∂ren:\n‚Ä¢\tStammdaten: Name, Vorname, Geburtsdatum, Klassen- und Gruppenzugeh√∂rigkeit, Kontaktdaten.\n‚Ä¢\tFamilien- und Betreuungsinformationen: Angaben zu Sorgeberechtigten, Abholregelungen, Kommunikationswege.\n‚Ä¢\tSchul- und Kursorganisation: Stundenpl√§ne, Kursbelegungen, Anwesenheits- und Fehlzeiten.\n‚Ä¢\tGesundheits- und besondere Hinweise (besondere Kategorien personenbezogener Daten gem. Art. 9 DSGVO): Allergien, chronische Erkrankungen, Notfallhinweise (z. B. Epilepsie), √§rztliche Atteste, Foto- oder Ver√∂ffentlichungserlaubnisse.\n‚Ä¢\tKommunikationsdaten: Mitteilungen zwischen Schule und Eltern, interne Aush√§nge, organisatorische Informationen.\n‚Ä¢\tTechnische Daten: Logfiles, Nutzungsprotokolle, Zeitpunkt von √Ñnderungen, Ger√§teinformationen.\nWelche dieser Daten konkret genutzt werden, bestimmt allein die Schule. FlexWise selbst greift auf diese Inhalte nicht zu.</div><div>\n<strong>3. Rechtsgrundlagen der Verarbeitung\n</strong>Die Datenverarbeitung erfolgt je nach Art der Information auf Basis von:\n‚Ä¢\tArt. 6 Abs. 1 lit. b DSGVO (Vertragserf√ºllung, schulische Betreuungspflichten),\n‚Ä¢\tArt. 6 Abs. 1 lit. c DSGVO (rechtliche Verpflichtungen der Schule),\n‚Ä¢\tArt. 6 Abs. 1 lit. f DSGVO (berechtigtes Interesse, z. B. IT-Sicherheit),\n‚Ä¢\tArt. 6 Abs. 1 lit. a DSGVO (Einwilligung, z. B. Fotoerlaubnis),\n‚Ä¢\tsowie bei Gesundheitsdaten auf Art. 9 Abs. 2 lit. a DSGVO (ausdr√ºckliche Einwilligung) oder Art. 9 Abs. 2 lit. g/h DSGVO (wesentliches √∂ffentliches Interesse, Gesundheitsvorsorge).</div><div>\n<strong>4. Zwecke der Verarbeitung\n</strong>Die Verarbeitung erfolgt ausschlie√ülich zur Organisation des Schulalltags, insbesondere f√ºr:\n‚Ä¢\tKurs- und Stundenplanung,\n‚Ä¢\tAnwesenheits- und Abwesenheitserfassung,\n‚Ä¢\tKrankmeldungen und Abholregelungen,\n‚Ä¢\tschulische Kommunikation und Aush√§nge,\n‚Ä¢\tErf√ºllung rechtlicher Dokumentationspflichten,\n‚Ä¢\tIT-Sicherheit und Missbrauchsvermeidung.</div><div>\n<strong>5. Speicherdauer\n</strong>Die Daten werden nur so lange gespeichert, wie es f√ºr die genannten Zwecke erforderlich ist.\n‚Ä¢\tOrganisatorische Daten (z. B. Kurswahl, Anwesenheit) werden mit Ende des jeweiligen Schuljahres oder Schulverh√§ltnisses gel√∂scht, sofern keine l√§ngeren Aufbewahrungspflichten bestehen.\n‚Ä¢\tGesundheits- und Abholinformationen werden unmittelbar nach Wegfall des Zwecks (z. B. Schulwechsel, Ende einer Allergie) entfernt.\n‚Ä¢\tGesetzliche Aufbewahrungspflichten (z. B. schulrechtliche Dokumentationspflichten) bleiben unber√ºhrt.\n‚Ä¢\tTechnische Logfiles werden in der Regel nach 7 Tagen gel√∂scht.</div><div>\n<strong>6. Empf√§nger der Daten\n</strong>‚Ä¢\tInnerhalb der Schule haben nur die berechtigten Personen Zugriff (Lehrkr√§fte, Erzieher, Verwaltung).\n‚Ä¢\tExterne Dienstleister, die im Auftrag der Schule technische Leistungen erbringen (z. B. Hosting, Support), handeln auf Basis von Auftragsverarbeitungsvertr√§gen gem. Art. 28 DSGVO.\n‚Ä¢\tEine √úbermittlung in Drittstaaten au√üerhalb der EU/EWR erfolgt nicht, es sei denn, es liegt eine ausdr√ºckliche Rechtsgrundlage oder Einwilligung vor.</div><div>\n<strong>7. Sicherheit der Verarbeitung\n</strong>Wir setzen umfassende technische und organisatorische Ma√ünahmen ein, um Daten zu sch√ºtzen, darunter:\n‚Ä¢\tSSL/TLS-Verschl√ºsselung aller Verbindungen,\n‚Ä¢\trollenbasiertes Rechte- und Zugriffssystem,\n‚Ä¢\tProtokollierung von √Ñnderungen und Zugriffen,\n‚Ä¢\tregelm√§√üige Datensicherungen,\n‚Ä¢\tSpeicherung ausschlie√ülich auf europ√§ischen Servern,\n‚Ä¢\tSchutz durch Firewalls und Zwei-Faktor-Authentifizierung f√ºr Administratoren.</div><div>\n<strong>8. Rolle von FlexWise\n</strong>FlexWise verarbeitet Daten ausschlie√ülich im Auftrag der Schulen.\n‚Ä¢\tWir entscheiden nicht, welche Daten erhoben oder genutzt werden.\n‚Ä¢\tDie Verantwortung f√ºr die Rechtm√§√üigkeit der Datenerhebung liegt bei der Schule.\n‚Ä¢\tFlexWise stellt nur die technische Plattform und sorgt f√ºr sichere Verarbeitung.</div><div>\n<strong>9. Rechte der Betroffenen\n</strong>Sie haben nach der DSGVO folgende Rechte:\n‚Ä¢\tAuskunft √ºber die gespeicherten Daten,\n‚Ä¢\tBerichtigung unrichtiger Angaben,\n‚Ä¢\tL√∂schung (sofern keine Aufbewahrungspflichten entgegenstehen),\n‚Ä¢\tEinschr√§nkung der Verarbeitung,\n‚Ä¢\tDaten√ºbertragbarkeit,\n‚Ä¢\tWiderruf erteilter Einwilligungen,\n‚Ä¢\tBeschwerderecht bei der zust√§ndigen Aufsichtsbeh√∂rde.</div><div>\n<strong>10. Ansprechpartner\n</strong>F√ºr alle Fragen zum Datenschutz wenden Sie sich bitte an die Schule als Verantwortliche.\nDer Datenschutzbeauftragte der Schule ist erreichbar unter: [Kontaktdaten einf√ºgen].\n</div>","en":"<p>This is some text</p>"},"transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"54d59611-7e52-4676-968e-ada91063d298"},"227867e1-ee14-4e25-8c21-a8f675031a81":{"uid":"227867e1-ee14-4e25-8c21-a8f675031a81","_state":{"style":{"default":{}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_font":"var(--8d14c83a-63a5-4f4f-a12a-97af4258074d, 500 24px/32px var(--ww-default-font-family, sans-serif))","_ww-text_text":{"de":"<div>üõ°Ô∏èDatenschutzerkl√§rung </div>","en":"<p>This is some text</p>"},"transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false,"_ww-text_textDecoration":"underline"}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentSectionId":"54d59611-7e52-4676-968e-ada91063d298"},"f3040709-9b20-4609-ad1a-3df0374eedb2":{"uid":"f3040709-9b20-4609-ad1a-3df0374eedb2","_state":{"style":{"default":{"flex":"1 0 auto","width":"100%","display":"flex","overflow":"hidden","customCss":{"flex-direction":"column"}}},"states":[],"interactions":[{"id":"d5820573-04ab-43d5-ad66-b00debc40667","name":"Handle Tab Change","actions":{"action_ia_id":{"id":"action_ia_id","code":"variables['81e4928e-1d7e-45d5-91e7-d7d658a4836a'] = event.value === 0 ? 'absence' : 'pickup';\n\n// Reset validation state\ncontext.component.variables['isValid'] = false;","type":"custom-js"}},"trigger":"change","description":"Updates the selected tab variable","firstAction":"action_ia_id"}]},"content":{"default":{"value":{"code":"return context.component?.props?.['mode_arg']","__wwtype":"js"},"tabsList":[[{"uid":"1ff5b162-a937-4c8d-93d8-f8f8c27c0b9b","isWwObject":true}],[{"uid":"759d9c75-63c7-40b9-a660-5cf8d78ff590","isWwObject":true}]],"tabLabels":["Absence","Pickup / Special Arrangement"],"transition":"fade","tabsContent":[[{"uid":"5e817041-d91c-4c50-9fb5-99a08da31629","isWwObject":true}],[{"uid":"51bd61ce-7a11-4b7c-8ebb-f1c53cd8e0a0","isWwObject":true}]],"tabsPosition":"top","verticalAlignment":"end","transitionDuration":0.5,"horizontalAlignment":"center"}},"name":"Entry Tabs","wwObjectBaseId":"a6cb6a4d-6af7-4cd6-b530-a15d9ec64488","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"1c9a927e-41d0-4746-a93d-326f667272a0":{"uid":"1c9a927e-41d0-4746-a93d-326f667272a0","_state":{"style":{"default":{"width":"220px","margin":"0"},"AW0E58_default":{}},"states":[],"interactions":[]},"content":{"default":{"tag":"p","text":{"en":"Absence"},"_ww-text_text":{"de":"<div>Krankmeldung / Entschuldigung</div>","en":"Absence"},"_ww-text_color":"#4B5563","_ww-text_fontSize":"15px","_ww-text_fontWeight":"500"},"AW0E58_default":{"_ww-text_color":"#111827","_ww-text_fontWeight":"600"}},"name":"Absence Tab Label","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"2542c3c6-2e61-47e8-a96e-f6e25f626c88":{"uid":"2542c3c6-2e61-47e8-a96e-f6e25f626c88","_state":{"style":{"default":{"width":"100%","display":"flex","overflow":"unset"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"31c9c6e5-9836-459f-9c7e-4793dc09b8e6","isWwObject":true},{"uid":"2e10a4bf-d502-499f-85a8-5f885310b809","isWwObject":true},{"uid":"d7b6a771-dd39-4fc0-83c1-3ef3121a5b2b","isWwObject":true},{"uid":"d101c263-1af7-4445-b9df-25c5c271a493","isWwObject":true},{"uid":"b1dc3217-4728-4717-98a3-24531ff31c75","isWwObject":true},{"uid":"b91b45ae-137b-4323-8f9b-1085e06cdc45","isWwObject":true}],"_ww-layout_rowGap":"20px","_ww-layout_columnGap":"20px","_ww-layout_flexDirection":"column"}},"name":"Pickup Form Fields","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"0a0362d4-66f0-47bf-9df6-3c3ae276bbc4":{"uid":"0a0362d4-66f0-47bf-9df6-3c3ae276bbc4","_state":{"style":{"default":{"border":"none","cursor":"pointer","padding":"10px 24px","transition":"all 0.2s ease","borderRadius":"8px","backgroundColor":"#3B82F6"},"_wwHover_default":{"backgroundColor":"#2563EB"},"_wwActive_default":{"backgroundColor":"#1D4ED8"}},"states":[],"interactions":[{"id":"6de9a203-98ac-4c70-9716-e24788306156","name":"Submit Form","actions":{"101a7ec7-32b1-4a0a-a68d-e02c24b86c74":{"id":"101a7ec7-32b1-4a0a-a68d-e02c24b86c74","args":{"params":[{"key":"p_student_id","value":{"code":"context.component?.variables?.['25f09605-622b-4753-9880-42f9f59648f1-value']","__wwtype":"f"}},{"key":"p_school_id","value":{"code":"collections['5a94bf43-aa17-443b-8075-2f49611c7f71']?.['data']?.[0]?.['id']","__wwtype":"f"}},{"key":"p_created_by","value":{"code":"pluginVariables['1fa0dd68-5069-436c-9a7d-3b54c340f1fa']['user']?.['id']","__wwtype":"f"}},{"key":"p_reason","value":{"code":"return context.component?.variables?.['952b6ae6-9e46-44e1-8357-b9c59a3735fd-value']","__wwtype":"js"}},{"key":"p_from_time","value":{"code":"const isPartialDay = context.component?.variables?.['isPartialDay'];\r\n\r\nif (!isPartialDay) {\r\n    return \"00:00:00\";\r\n}\r\n\r\nconst time = context.component?.variables?.['f5ec19b6-4f8d-4239-bf60-2822e7d5502a-value'];\r\n\r\nif (!time || time.hours == null || time.minutes == null || time.seconds == null) {\r\n    return null; // or 'Zeit w√§hlen'\r\n}\r\n\r\nconst h = String(time.hours).padStart(2, '0');\r\nconst m = String(time.minutes).padStart(2, '0');\r\nconst s = String(time.seconds).padStart(2, '0');\r\n\r\nreturn `${h}:${m}:${s}`;\r\n","__wwtype":"js"}},{"key":"p_to_time","value":{"code":"const isPartialDay = context.component?.variables?.['isPartialDay'];\r\n\r\nif (!isPartialDay) {\r\n    return \"23:59:00\";\r\n}\r\n\r\nconst time = context.component?.variables?.['bdf0c633-ac6a-4a0c-9b0b-12034552f0d3-value'];\r\n\r\nif (!time || time.hours == null || time.minutes == null || time.seconds == null) {\r\n    return null; // or 'Zeit w√§hlen'\r\n}\r\n\r\nconst h = String(time.hours).padStart(2, '0');\r\nconst m = String(time.minutes).padStart(2, '0');\r\nconst s = String(time.seconds).padStart(2, '0');\r\n\r\nreturn `${h}:${m}:${s}`;\r\n","__wwtype":"js"}},{"key":"p_absence_date","value":{"code":"return context.component?.variables?.[/* Absence Start Date Picker - value */ '4b4f177b-f5e2-4218-8586-04e872ec22be-value']","__wwtype":"js"}},{"key":"p_recurrence","value":{"code":"const isRecurring = context.component?.variables?.['4c098127-fe07-473e-9b97-bb8199d766cf-form']?.formData?.['Recurring Toggle abwesenheit'];\r\n\r\nreturn isRecurring ? variables['b6f40d10-857d-4735-9da0-3a4d34797b01'] : null;\r\n","name":"Copy of formula","__wwtype":"js"}},{"key":"p_attachment_url"},{"key":"p_excused","value":{"code":"return true","__wwtype":"js"}}],"functionName":"add_student_absence_with_times_and_recurrence"},"type":"f9ef41c3-1c53-4857-855b-f2f6a40b7186-callPostgresFunction"},"204335ff-5788-4aa4-9b77-90360a8273f9":{"id":"204335ff-5788-4aa4-9b77-90360a8273f9","args":{"params":[{"key":"p_student_id","value":{"code":"context.component?.variables?.['25f09605-622b-4753-9880-42f9f59648f1-value']","__wwtype":"f"}},{"key":"p_school_id","value":{"code":"collections['5a94bf43-aa17-443b-8075-2f49611c7f71']?.['data']?.[0]?.['id']","__wwtype":"f"}},{"key":"p_created_by","value":{"code":"pluginVariables['1fa0dd68-5069-436c-9a7d-3b54c340f1fa']['user']?.['id']","__wwtype":"f"}},{"key":"p_reason","value":{"code":"context.component?.variables?.['952b6ae6-9e46-44e1-8357-b9c59a3735fd-value']","__wwtype":"f"}},{"key":"p_from_time","value":{"code":"const isPartialDay = context.component?.variables?.['isPartialDay'];\r\n\r\nif (!isPartialDay) {\r\n    return \"00:00:00\";\r\n}\r\n\r\nconst time = context.component?.variables?.['f5ec19b6-4f8d-4239-bf60-2822e7d5502a-value'];\r\n\r\nif (!time || time.hours == null || time.minutes == null || time.seconds == null) {\r\n    return null; // or 'Zeit w√§hlen'\r\n}\r\n\r\nconst h = String(time.hours).padStart(2, '0');\r\nconst m = String(time.minutes).padStart(2, '0');\r\nconst s = String(time.seconds).padStart(2, '0');\r\n\r\nreturn `${h}:${m}:${s}`;\r\n","__wwtype":"js"}},{"key":"p_to_time","value":{"code":"const isPartialDay = context.component?.variables?.['isPartialDay'];\r\n\r\nif (!isPartialDay) {\r\n    return \"23:59:00\";\r\n}\r\n\r\nconst time = context.component?.variables?.['bdf0c633-ac6a-4a0c-9b0b-12034552f0d3-value'];\r\n\r\nif (!time || time.hours == null || time.minutes == null || time.seconds == null) {\r\n    return null; // or 'Zeit w√§hlen'\r\n}\r\n\r\nconst h = String(time.hours).padStart(2, '0');\r\nconst m = String(time.minutes).padStart(2, '0');\r\nconst s = String(time.seconds).padStart(2, '0');\r\n\r\nreturn `${h}:${m}:${s}`;\r\n","__wwtype":"js"}},{"key":"p_absence_date","value":{"code":"return context.component?.variables?.[/* Absence Start Date Picker - value */ '4b4f177b-f5e2-4218-8586-04e872ec22be-value']","__wwtype":"js"}},{"key":"p_recurrence","value":{"code":"const isRecurring = context.component?.variables?.['4c098127-fe07-473e-9b97-bb8199d766cf-form']?.formData?.['Recurring Toggle abwesenheit'];\r\n\r\nreturn isRecurring ? variables['b6f40d10-857d-4735-9da0-3a4d34797b01'] : null;\r\n","name":"Copy of formula","__wwtype":"js"}},{"key":"p_attachment_url","value":{"code":"context.workflow['df42a708-ff8e-4f2d-bec2-e7c325e9b2fb'].result?.['publicUrl']","__wwtype":"f"}},{"key":"p_excused","value":{"code":"return true","__wwtype":"js"}}],"functionName":"add_student_absence_with_times_and_recurrence"},"type":"f9ef41c3-1c53-4857-855b-f2f6a40b7186-callPostgresFunction"},"2cc7fa1a-684f-463a-b86f-6a630fa5f7e1":{"id":"2cc7fa1a-684f-463a-b86f-6a630fa5f7e1","next":"cdd9334d-f25a-4562-9e4d-062802a19789","type":"fetch-collections","collectionsId":["9055904c-c2ae-48bf-8755-996372f07f17","5a41ba23-eb84-4d5d-aaf6-6a30c785f669","01c07f87-68bb-480d-b7d1-e5d908c2b5fb","7984b78f-7f27-4d48-9cd7-fd268c14ddcd","bc58fbf4-7a59-489e-9323-72fe54c88fdb","cb56054d-54ad-438b-99d1-197fac60978a"]},"8d2bb330-2ce4-43bd-ab17-e21c34f51f4a":{"id":"8d2bb330-2ce4-43bd-ab17-e21c34f51f4a","next":"2cc7fa1a-684f-463a-b86f-6a630fa5f7e1","type":"if","value":{"code":"return !!context.component?.variables?.['4c098127-fe07-473e-9b97-bb8199d766cf-form']?.['formData']?.['Abwesenheit upload']?.[0];\r\n","__wwtype":"js"},"branches":[{"id":"dd6b9a80-f9c3-42fc-8765-fc4d82c2a8c4","value":true},{"id":"101a7ec7-32b1-4a0a-a68d-e02c24b86c74","value":false}]},"cdd9334d-f25a-4562-9e4d-062802a19789":{"id":"cdd9334d-f25a-4562-9e4d-062802a19789","type":"close-all-popup","libraryComponentBaseId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"dd6b9a80-f9c3-42fc-8765-fc4d82c2a8c4":{"id":"dd6b9a80-f9c3-42fc-8765-fc4d82c2a8c4","args":{"file":{"code":"context.component?.variables?.['4c098127-fe07-473e-9b97-bb8199d766cf-form']?.['fields']?.['Abwesenheit upload']?.['value']?.[0]","__wwtype":"f"},"path":{"code":"const studentId = context.local.data?.form?.formData?.['Absence Student Select'];\r\nconst students = collections['d62b8548-7f35-4a50-a1b3-fd77bb8879a2']?.data || [];\r\nconst student = students.find(s => s.profile_id === studentId);\r\n\r\nconst lastName = student?.last_name || 'Unknown';\r\nconst firstName = student?.first_name || 'Unknown';\r\n\r\nconst startDateRaw = context.component?.variables?.['4b4f177b-f5e2-4218-8586-04e872ec22be-value'];\r\nconst startDate = startDateRaw ? new Date(startDateRaw).toISOString().split('T')[0] : 'nodate';\r\n\r\nconst reasonRaw = context.component?.variables?.['952b6ae6-9e46-44e1-8357-b9c59a3735fd-value'];\r\nconst reason = reasonRaw ? reasonRaw.toLowerCase().replace(/[^a-z0-9]+/g, '_').slice(0,16) : null;\r\n\r\nlet filename = `${lastName}_${firstName}_${startDate}`;\r\nif (reason) filename += `_${reason}`;\r\n\r\n// No file extension\r\nreturn filename;\r\n","__wwtype":"js"},"bucket":"absence-documents"},"next":"df42a708-ff8e-4f2d-bec2-e7c325e9b2fb","type":"f9ef41c3-1c53-4857-855b-f2f6a40b7186-uploadFile"},"df42a708-ff8e-4f2d-bec2-e7c325e9b2fb":{"id":"df42a708-ff8e-4f2d-bec2-e7c325e9b2fb","args":{"path":{"code":"const studentId = context.local.data?.form?.formData?.['Absence Student Select'];\r\nconst students = collections['d62b8548-7f35-4a50-a1b3-fd77bb8879a2']?.data || [];\r\nconst student = students.find(s => s.profile_id === studentId);\r\n\r\nconst lastName = student?.last_name || 'Unknown';\r\nconst firstName = student?.first_name || 'Unknown';\r\n\r\nconst startDateRaw = context.component?.variables?.['4b4f177b-f5e2-4218-8586-04e872ec22be-value'];\r\nconst startDate = startDateRaw ? new Date(startDateRaw).toISOString().split('T')[0] : 'nodate';\r\n\r\nconst reasonRaw = context.component?.variables?.['952b6ae6-9e46-44e1-8357-b9c59a3735fd-value'];\r\nconst reason = reasonRaw ? reasonRaw.toLowerCase().replace(/[^a-z0-9]+/g, '_').slice(0,16) : null;\r\n\r\nlet filename = `${lastName}_${firstName}_${startDate}`;\r\nif (reason) filename += `_${reason}`;\r\n\r\n// No file extension\r\nreturn filename;\r\n","__wwtype":"js"},"bucket":"absence-documents","options":{"download":false,"transform":false}},"next":"204335ff-5788-4aa4-9b77-90360a8273f9","type":"f9ef41c3-1c53-4857-855b-f2f6a40b7186-getPublicUrl"}},"trigger":"click","description":"Submits the form data","firstAction":"8d2bb330-2ce4-43bd-ab17-e21c34f51f4a"}]},"content":{"default":{"text":{"en":"Save"},"disabled":false,"buttonType":"button","_ww-text_text":{"de":"<div>Absenden</div>","en":"Save"},"_ww-text_color":"#FFFFFF","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"},"_wwHover_default":{},"_wwActive_default":{}},"name":"Absence Submit Button","wwObjectBaseId":"59dca300-db78-42e4-a7a6-0cbf22d3cc82","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"b4d15e1b-eba1-4935-b1bf-904c9fcf4bfb":{"uid":"b4d15e1b-eba1-4935-b1bf-904c9fcf4bfb","_state":{"style":{"default":{"flex":"1 0 auto","margin":"0 0 20px 0"}}},"content":{"default":{"children":[{"uid":"72dbe35c-9d17-4b1f-9b76-2556f42d3f81","isWwObject":true},{"uid":"a3aa9a08-b37a-4637-938f-5e3246c758f2","isWwObject":true}],"_ww-layout_rowGap":"5px","_ww-layout_flexDirection":"column"}},"name":"Date of Birth Field","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"f58e8f6d-e8e7-48a9-a2b8-2132f13d72e2":{"uid":"f58e8f6d-e8e7-48a9-a2b8-2132f13d72e2","_state":{},"content":{"default":{"tag":"p","_ww-text_text":"New text"}},"name":null,"wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"8a0d8ed4-275f-40fb-a106-62a6e4dcec29":{"uid":"8a0d8ed4-275f-40fb-a106-62a6e4dcec29","_state":{},"content":{"default":{"type":"modal","align":"center","overlay":true,"children":[{"uid":"f483fb93-57dc-414a-952e-2a434731cffc","isWwObject":true}],"escClose":false,"animation":null,"sideModal":"center","sideSheet":"top","preventScroll":true,"animationEasing":"linear","customPositionX":"0%","customPositionY":"0%","slideInDirection":"top","animationDuration":300,"clickOutsideCloses":false,"overlayClickCloses":true,"overlayBackgroundColor":"rgba(0, 0, 0, 0.5)"}},"name":null,"wwObjectBaseId":"c6c0c00e-49fd-4cb9-bd78-5bc09945721e","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"609fa53a-4824-42ab-acea-0bd221bfac4f":{"uid":"609fa53a-4824-42ab-acea-0bd221bfac4f","_state":{"style":{"default":{"margin":"0 8px 0 0"}}},"content":{"default":{"icon":"icon-cursor-click","color":"#FFFFFF","fontSize":14}},"name":null,"wwObjectBaseId":"83d890fb-84f9-4386-b459-fb4be89a8e15","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"f483fb93-57dc-414a-952e-2a434731cffc":{"uid":"f483fb93-57dc-414a-952e-2a434731cffc","_state":{"style":{"default":{"width":"400px","border":"1px solid var(--5df2264d-813f-4e12-959b-e86f202e40b0, #E4E4E7)","height":"auto","padding":"32px 24px","overflow":"hidden","boxShadow":"0px 1px 1px 0px #10182805","borderRadius":"12px","backgroundColor":"#ffffff"},"_wwHover_default":{}},"states":[{"id":"_wwHover","label":"Hover"}]},"content":{"default":{"children":[{"uid":"90b335ce-c64b-46f4-80c3-0aa5c7db07d2","isWwObject":true},{"uid":"0ef0b2cb-28ab-469c-8139-c3b7315a50ac","isWwObject":true},{"uid":"1e09c4f4-048b-4618-912e-29018dfe5fae","isWwObject":true}],"_ww-layout_reverse":false,"_ww-layout_flexWrap":true,"_ww-layout_pushLast":false,"_ww-layout_alignItems":"center","_ww-layout_flexDirection":"column","_ww-layout_justifyContent":"center"}},"name":"Card","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"1e09c4f4-048b-4618-912e-29018dfe5fae":{"uid":"1e09c4f4-048b-4618-912e-29018dfe5fae","_state":{"style":{"default":{"margin":"16px 0 0 0","display":{"code":"variables['b124b4f5-0f77-4f92-b4cf-874d71967c20']!=\"\"","__wwtype":"f","defaultValue":true}}},"interactions":[]},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_font":"var(--e627551f-2a56-4b99-b7ba-0c6b0940ab96, 500 14px/20px var(--ww-default-font-family, sans-serif))","_ww-text_text":{"en":{"code":"variables['b124b4f5-0f77-4f92-b4cf-874d71967c20']","__wwtype":"f","defaultValue":"<div>Account with that email already exists, please Log in</div>"}},"_ww-text_color":"hsl(0, 72%, 64%)","transformation":"","_ww-text_nowrap":false,"_ww-text_ellipsis":false,"_ww-text_fontSize":"14px","_ww-text_textAlign":"center","_ww-text_fontWeight":500,"_ww-text_lineHeight":"20px","_ww-text_textShadow":"","_ww-text_wordSpacing":"","_ww-text_letterSpacing":"0px","_ww-text_textTransform":"","_ww-text_textDecoration":"none","_ww-text_textDecorationStyle":"solid"}},"name":"Message","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"5271397e-9dde-42af-9470-7571808bee9a":{"uid":"5271397e-9dde-42af-9470-7571808bee9a","_state":{"style":{"default":{"margin":"0 0 4px 0"}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_font":"var(--7b06b75d-b773-4d93-b3b3-3c01cb419d85, 500 12px/18px var(--ww-default-font-family, sans-serif))","_ww-text_text":{"de":"<div>Zugangscode</div>","en":"<div>Code</div>"},"_ww-text_color":"#3F3F46","transformation":"","_ww-text_nowrap":false,"_ww-text_ellipsis":false,"_ww-text_fontSize":"12px","_ww-text_textAlign":"","_ww-text_fontWeight":500,"_ww-text_lineHeight":"18px","_ww-text_textShadow":"","_ww-text_wordSpacing":"","_ww-text_letterSpacing":"0px","_ww-text_textTransform":"","_ww-text_textDecoration":"none","_ww-text_textDecorationStyle":"solid"}},"name":"Label","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"72dbe35c-9d17-4b1f-9b76-2556f42d3f81":{"uid":"72dbe35c-9d17-4b1f-9b76-2556f42d3f81","_state":{"style":{"default":{"margin":"0 0 4px 0"}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_font":"var(--7b06b75d-b773-4d93-b3b3-3c01cb419d85, 500 12px/18px var(--ww-default-font-family, sans-serif))","_ww-text_text":{"en":"<div>Child's Date of Birth</div>"},"_ww-text_color":"#3F3F46","transformation":"","_ww-text_nowrap":false,"_ww-text_ellipsis":false,"_ww-text_fontSize":"12px","_ww-text_textAlign":"","_ww-text_fontWeight":500,"_ww-text_lineHeight":"18px","_ww-text_textShadow":"","_ww-text_wordSpacing":"","_ww-text_letterSpacing":"0px","_ww-text_textTransform":"","_ww-text_textDecoration":"none","_ww-text_textDecorationStyle":"solid"}},"name":"Label","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"af0c86bc-cbed-4f66-aba9-966e8166e247":{"uid":"af0c86bc-cbed-4f66-aba9-966e8166e247","_state":{"style":{"default":{"margin":"0 0 4px 0"}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_font":"var(--7b06b75d-b773-4d93-b3b3-3c01cb419d85, 500 12px/18px var(--ww-default-font-family, sans-serif))","_ww-text_text":{"en":"<div>Relationship</div>"},"_ww-text_color":"#3F3F46","transformation":"","_ww-text_nowrap":false,"_ww-text_ellipsis":false,"_ww-text_fontSize":"12px","_ww-text_textAlign":"","_ww-text_fontWeight":500,"_ww-text_lineHeight":"18px","_ww-text_textShadow":"","_ww-text_wordSpacing":"","_ww-text_letterSpacing":"0px","_ww-text_textTransform":"","_ww-text_textDecoration":"none","_ww-text_textDecorationStyle":"solid"}},"name":"Label","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"90b335ce-c64b-46f4-80c3-0aa5c7db07d2":{"uid":"90b335ce-c64b-46f4-80c3-0aa5c7db07d2","_state":{"style":{"default":{}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_font":"var(--8d14c83a-63a5-4f4f-a12a-97af4258074d, 500 24px/32px var(--ww-default-font-family, sans-serif))","_ww-text_text":{"de":"<div> Kind Hinzuf√ºgen</div>","en":"<div>Add new student</div>"},"transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"c04c91b8-e51e-4d65-ad26-dbc7edcbd4cf":{"uid":"c04c91b8-e51e-4d65-ad26-dbc7edcbd4cf","_state":{"style":{"default":{}},"interactions":[{"id":"a132a7c2-4960-4af1-852f-ff46a5d0bf5d","actions":{"43c88bd3-9ed1-4392-8bf1-96fc418ffee2":{"id":"43c88bd3-9ed1-4392-8bf1-96fc418ffee2","type":"variable","varId":"589c4e86-9ced-493e-a573-a19d141d62bd","internal":false,"varValue":{"code":"const currentStudentId = variables['a5465bfa-e22b-46bb-b13e-a7d1da7d93da']?.['profile_id'];\r\nconst siblings = variables['a5465bfa-e22b-46bb-b13e-a7d1da7d93da']?.['siblings'] || [];\r\n\r\nconst siblingIds = siblings.map(s => s.profile_id);\r\nif (currentStudentId && !siblingIds.includes(currentStudentId)) {\r\n    siblingIds.push(currentStudentId);\r\n}\r\n\r\nconst relationship = context.local.data?.['select']?.['select']?.['active']?.['value'] || '';\r\n\r\nreturn siblingIds.map(id => ({\r\n  profile_id: id,\r\n  relationship\r\n}));\r\n","__wwtype":"js"},"arrayUpdateType":""},"7baed85b-b29a-48e6-9046-b0e5af23febe":{"id":"7baed85b-b29a-48e6-9046-b0e5af23febe","type":"reset-variables","varsId":["589c4e86-9ced-493e-a573-a19d141d62bd"]},"7d0921fd-c7a4-417b-8a49-9d6e82b1b44a":{"id":"7d0921fd-c7a4-417b-8a49-9d6e82b1b44a","type":"if","value":{"code":"const value = context.local.data?.['select']?.['select']?.['active']?.['value'];\nreturn value === 'Mutter' || value === 'Vater';\n","__wwtype":"js"},"branches":[{"id":"43c88bd3-9ed1-4392-8bf1-96fc418ffee2","value":true},{"id":"7baed85b-b29a-48e6-9046-b0e5af23febe","value":false}]}},"trigger":"change","firstAction":"7d0921fd-c7a4-417b-8a49-9d6e82b1b44a"}],"dynamicConfiguration":{"content":{"choices":[{"key":"Deutsch","type":"Text"},{"key":"English","type":"Text"},{"key":"Receives login","type":"Text"}]}}},"content":{"default":{"side":"bottom","align":"start","choices":[{"Deutsch":"Mutter","English":"Mother"},{"Deutsch":"Vater","English":"Father"},{"Deutsch":"Stiefmutter","English":"Stepmother"},{"Deutsch":"Stiefvater","English":"Stepfather"},{"Deutsch":"Oma","English":"Grandmother"},{"Deutsch":"Opa","English":"Grandfather"},{"Deutsch":"Tante","English":"Aunt"},{"Deutsch":"Onkel","English":"Uncle"},{"Deutsch":"Vormund","English":"\tLegal guardian"},{"Deutsch":"Pflegeelternteil","English":"Foster parent"},{"Deutsch":"Sozialarbeiter*in","English":"Social worker"},{"Deutsch":"Andere","English":"Other"}],"offsetX":"0px","offsetY":"8px","disabled":false,"readonly":false,"required":false,"autoFocus":true,"fieldName":"","chipBorder":{"code":"[{\"label\":\"Option 1\",\"value\":\"opt1\"},{\"label\":\"Option 2\",\"value\":\"opt2\"}]","__wwtype":"f"},"optionIcon":null,"selectType":"single","showSearch":false,"validation":"","zIndexOpen":2,"boundOffset":"0px","chipBgColor":"#363636","chipPadding":"2px 8px","placeholder":{"en":"Select a value"},"searchWidth":"100%","chipFontSize":"14px","chipIconSize":"14px","initialState":"closed","mappingLabel":{"code":"context.mapping?.['Deutsch']","type":"f"},"mappingValue":{"code":"context.mapping?.['Deutsch']","type":"f"},"optionCursor":"pointer","searchBorder":false,"searchMargin":"0px 0px 8px 0px","chipFontColor":"white","chipIconColor":"white","closeOnSelect":true,"dropdownWidth":{"code":"context.local.data?.['select']?.['select']?.['utils']?.['triggerWidth']+'px'","__wwtype":"f"},"manualTrigger":false,"optionBgColor":"white","optionPadding":"8px","optionSpacing":"0px","searchBgColor":"#FAFAFA","searchPadding":"8px 12px","selectOnClick":true,"triggerBorder":false,"triggerMargin":"0px","chipFontWeight":null,"dropdownBorder":false,"emptyStateText":{"en":"No results found","fr":"Aucun r√©sultat trouv√©"},"optionFontSize":"14px","optionIconSize":"12px","triggerBgColor":"white","triggerPadding":"8px 8px","triggerShadows":"","dropdownBgColor":"#FFFFFF","dropdownPadding":"8px","dropdownShadows":"","initValueSingle":null,"mappingDisabled":{"code":"false","type":"f"},"optionFontColor":"black","optionIconColor":"black","searchBorderAll":"1px solid #A3A3A3","searchFontColor":"black","triggerIconOpen":null,"triggerIconSize":"16px","unselectOnClick":false,"chipBorderRadius":"4px","customValidation":false,"optionFontWeight":null,"searchFontWeight":null,"selectedFontSize":"14px","triggerBorderAll":"1px solid #B0B0B0","triggerIconClose":null,"triggerIconColor":"black","dropdownBorderAll":"1px solid #B0B0B0","emptyStatePadding":"0px","searchPlaceholder":{"en":"Search","fr":"Rechercher"},"selectedFontColor":"#333","selectedTextAlign":"left","emptyStateFontSize":"14px","optionBgColorHover":"#f5f5f5","optionBorderRadius":"4px","searchBorderRadius":"4px","selectedFontWeight":null,"closeOnClickOutside":true,"emptyStateFontColor":"black","emptyStateTextAlign":"center","placeholderFontSize":"14px","triggerBorderRadius":"4px","virtualScrollBuffer":600,"dropdownBorderRadius":"4px","emptyStateFontWeight":null,"optionBgColorFocused":"#f5f5f5","placeholderFontColor":"#333","placeholderTextAlign":"left","placeholderFontWeight":null,"allowScrollingWhenOpen":false,"searchPlaceholderColor":"#737373","virtualScrollMinItemSize":40}},"name":"Family relationship","wwObjectBaseId":"6145eb60-0af8-4e52-bcc6-dc0f6743654e","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"315bd9a6-424e-48c1-b717-24f5230a9550":{"uid":"315bd9a6-424e-48c1-b717-24f5230a9550","_state":{"style":{"default":{"width":"100%","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"a51ff464-e40b-447e-a962-9ec96ed2d30b","isWwObject":true},{"uid":"64dc5f36-590e-466d-8773-b9eae0833e03","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_flexDirection":"column"}},"name":"Absence Attachment Field","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"a51ff464-e40b-447e-a962-9ec96ed2d30b":{"uid":"a51ff464-e40b-447e-a962-9ec96ed2d30b","_state":{"style":{"default":{"margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"p","text":{"en":"Attachment"},"_ww-text_text":{"de":"<div>Anhang (optional) </div>","en":"Attachment"},"_ww-text_color":"#374151","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"}},"name":"Pickup Attachment Label","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"64dc5f36-590e-466d-8773-b9eae0833e03":{"uid":"64dc5f36-590e-466d-8773-b9eae0833e03","_state":{},"content":{"default":{"drop":true,"type":"single","maxFiles":10,"readonly":false,"required":false,"fieldName":"Abwesenheit upload","circleSize":"180px","extensions":"any","labelColor":"#333333","uploadIcon":"lucide/upload","validation":"","circleColor":"#EEEEEE","labelMargin":"0 0 4px 0","maxFileSize":10,"minFileSize":0,"exposeBase64":false,"exposeBinary":false,"labelMessage":"Dateien hier ablegen oder klicken zum Hochladen","showFileInfo":true,"circleOpacity":0.5,"fileNameColor":"#333333","labelFontSize":"16px","animationSpeed":0.5,"fileItemMargin":"0 0 8px 0","fileItemShadow":"0 2px 4px rgba(0, 0, 0, 0.05)","maxFileMessage":"Max file size: 4 MB","showUploadIcon":true,"uploadIconSize":"24px","dropzonePadding":"20px","fileItemPadding":"12px","labelFontFamily":null,"labelFontWeight":null,"uploadIconColor":"#666666","actionButtonSize":"28px","customExtensions":"","customValidation":false,"fileDetailsColor":"#888888","fileNameFontSize":"14px","maxTotalFileSize":50,"progressBarColor":"#4CAF50","uploadIconMargin":"8px","actionButtonColor":"#666666","dropzoneMinHeight":"120px","extensionsMessage":"Allowed file types: .svg, .png, .jpg","actionButtonMargin":"0 0 0 4px","dropzoneBackground":"rgba(0, 0, 0, 0.01)","fileItemBackground":"#FFFFFF","fileNameFontFamily":null,"fileNameFontWeight":500,"uploadIconPosition":"top","dropzoneBorderColor":"#CCCCCC","dropzoneBorderStyle":"dashed","dropzoneBorderWidth":"2px","fileDetailsFontSize":"12px","fileItemBorderColor":"#EEEEEE","fileItemHoverShadow":"0 2px 4px rgba(0, 0, 0, 0.05)","maxFileMessageColor":"#888888","dropzoneBorderRadius":"8px","fileItemBorderRadius":"6px","maxFileMessageMargin":"0 0 4px 0","enableCircleAnimation":true,"fileDetailsFontFamily":null,"fileDetailsFontWeight":400,"actionButtonBackground":"#FFFFFF","extensionsMessageColor":"#888888","maxFileMessageFontSize":"12px","actionButtonBorderColor":"#EEEEEE","dropzoneBackgroundHover":"rgba(0, 0, 0, 0.01)","extensionsMessageMargin":"0 0 4px 0","fileItemHoverBackground":"#FFFFFF","actionButtonBorderRadius":"4px","fileItemHoverBorderColor":"#DDDDDD","maxFileMessageFontFamily":null,"maxFileMessageFontWeight":400,"extensionsMessageFontSize":"12px","dropzoneBackgroundDragging":"rgba(0, 0, 0, 0.05)","actionButtonHoverBackground":"#F8F8F8","extensionsMessageFontFamily":null,"extensionsMessageFontWeight":400,"actionButtonHoverBorderColor":"#DDDDDD"}},"name":"File upload","wwObjectBaseId":"a823467c-bdc7-4cec-a38c-71875c4c214a","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"4f08385c-af46-4df5-a719-a47d5c677b03":{"uid":"4f08385c-af46-4df5-a719-a47d5c677b03","_state":{"style":{"default":{}},"states":[],"interactions":[]},"content":{"default":{"type":"modal","align":"center","overlay":true,"children":[{"uid":"9d44efc5-7ee6-41c3-b943-301f2517bc0f","isWwObject":true}],"escClose":false,"animation":null,"sideModal":"center","sideSheet":"top","preventScroll":true,"animationEasing":"linear","customPositionX":"0%","customPositionY":"0%","slideInDirection":"top","animationDuration":300,"clickOutsideCloses":false,"overlayClickCloses":true,"overlayBackgroundColor":"rgba(0, 0, 0, 0.5)"}},"name":"Quick Entry Popup","wwObjectBaseId":"c6c0c00e-49fd-4cb9-bd78-5bc09945721e","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"c4bb7942-2641-461d-b400-384ee4e9f9dc":{"uid":"c4bb7942-2641-461d-b400-384ee4e9f9dc","_state":{"style":{"default":{"width":"100%","display":"flex","padding":"20px 24px","borderBottom":"1px solid #E5E7EB"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"0c7b7c0e-f46f-4280-8021-13b6bf6f2e74","isWwObject":true},{"uid":"3ab0adef-b30b-451b-bb56-9228d2caeeb1","isWwObject":true}],"_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"space-between"}},"name":"Popup Header","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"3ab0adef-b30b-451b-bb56-9228d2caeeb1":{"uid":"3ab0adef-b30b-451b-bb56-9228d2caeeb1","_state":{"style":{"default":{"width":"32px","cursor":"pointer","height":"32px","padding":"6px","transition":"all 0.2s ease","borderRadius":"50%"},"_wwHover_default":{"backgroundColor":"#F3F4F6"}},"states":[],"interactions":[{"id":"7f46c5c2-cffa-4000-ad0f-348a309ac76a","name":"Close Popup","actions":{"action_ia_id":{"id":"action_ia_id","code":"await utilsFunctions.executePopupFunction(context)['fbb71b6a-5260-4830-90b5-a26a7227c269']()","type":"custom-js"}},"trigger":"click","description":"Closes the popup without saving","firstAction":"action_ia_id"}]},"content":{"default":{"icon":"phosphor-regular/x","color":"#6B7280","_ww-text_text":{"en":""}},"_wwHover_default":{"color":"#111827","_ww-text_color":"#111827"}},"name":"Close Button","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"0c7b7c0e-f46f-4280-8021-13b6bf6f2e74":{"uid":"0c7b7c0e-f46f-4280-8021-13b6bf6f2e74","_state":{"style":{"default":{"margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"h2","text":{"en":"Quick Entry"},"_ww-text_text":{"de":"<div>Schnelleingabe</div>","en":"<div>Quick Entry</div>"},"_ww-text_color":"#111827","_ww-text_fontSize":"20px","_ww-text_fontWeight":"600"}},"name":"Popup Title","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"9d44efc5-7ee6-41c3-b943-301f2517bc0f":{"uid":"9d44efc5-7ee6-41c3-b943-301f2517bc0f","_state":{"style":{"default":{"width":"600px","display":"block","maxWidth":"95vw","overflow":"hidden","boxShadow":"0 10px 25px rgba(0,0,0,0.15)","borderRadius":"16px","backgroundColor":"#FFFFFF"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"c4bb7942-2641-461d-b400-384ee4e9f9dc","isWwObject":true},{"uid":"e6dd2356-149c-4802-944a-7c7b7df03530","isWwObject":true}]}},"name":"Popup Container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"759d9c75-63c7-40b9-a660-5cf8d78ff590":{"uid":"759d9c75-63c7-40b9-a660-5cf8d78ff590","_state":{"style":{"default":{"cursor":"pointer","display":"block","padding":"12px 16px","borderTop":"0px","borderLeft":"0px","transition":"all 0.2s ease","borderRight":"0px","borderBottom":"5px solid #00000000","borderRadius":"8px 8px 0 0","backgroundColor":"#F3F4F6"},"Ceia16_default":{"borderTop":"0px","borderLeft":"0px","borderRight":"0px","borderBottom":"5px solid #3a82f6","backgroundColor":"#FFFFFF"}},"states":[{"id":"Ceia16","label":"active","isAppliedToChidlrenElements":true}],"interactions":[]},"content":{"default":{"children":[{"uid":"6542a87c-369a-4b99-a639-9766a55b9d36","isWwObject":true}]},"Ceia16_default":{}},"name":"Pickup Tab Header","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"e6dd2356-149c-4802-944a-7c7b7df03530":{"uid":"e6dd2356-149c-4802-944a-7c7b7df03530","_state":{"style":{"default":{"width":"100%","height":"","display":"flex","overflow":"auto","maxHeight":"700px"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"f3040709-9b20-4609-ad1a-3df0374eedb2","isWwObject":true}],"_ww-layout_flexDirection":"column"}},"name":"Popup Content","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"6542a87c-369a-4b99-a639-9766a55b9d36":{"uid":"6542a87c-369a-4b99-a639-9766a55b9d36","_state":{"style":{"default":{"width":"220px","margin":"0"},"Ceia16_default":{}},"states":[],"interactions":[]},"content":{"default":{"tag":"p","text":{"en":"Pickup / Special Arrangement"},"_ww-text_text":{"de":"<div>Abholung / Sonderregelung</div>","en":"Pickup / Special Arrangement"},"_ww-text_color":"#4B5563","_ww-text_fontSize":"15px","_ww-text_fontWeight":"500"},"Ceia16_default":{"_ww-text_color":"#111827","_ww-text_fontWeight":"600"}},"name":"Pickup Tab Label","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"5e817041-d91c-4c50-9fb5-99a08da31629":{"uid":"5e817041-d91c-4c50-9fb5-99a08da31629","_state":{"style":{"default":{"width":"100%","display":"flex","padding":"0","overflow":"hidden","maxHeight":"100%"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"4c098127-fe07-473e-9b97-bb8199d766cf","isWwObject":true}],"_ww-layout_flexDirection":"column"}},"name":"Absence Tab Content","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"4c098127-fe07-473e-9b97-bb8199d766cf":{"uid":"4c098127-fe07-473e-9b97-bb8199d766cf","_state":{"style":{"default":{"width":"100%","height":"100%","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"validation":"change","formContent":[{"uid":"6aa8ce98-4d38-4157-8138-b17877134148","isWwObject":true}],"autocomplete":true,"debounceDelay":"500ms","_ww-layout_flexDirection":"column"}},"name":"Absence Form","wwObjectBaseId":"9ecb2cfc-cef7-4be8-b736-3e17a3b7e9ff","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"e67681be-6adc-4875-9372-fee3dfbd0344":{"uid":"e67681be-6adc-4875-9372-fee3dfbd0344","_state":{"style":{"default":{"width":"100%","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"6da25adc-1d27-4b93-b310-dd6c7c53eb0a","isWwObject":true},{"uid":"25f09605-622b-4753-9880-42f9f59648f1","isWwObject":true}],"_ww-layout_rowGap":"4px","_ww-layout_columnGap":"4px","_ww-layout_flexDirection":"column"}},"name":"Absence Student Field","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"6da25adc-1d27-4b93-b310-dd6c7c53eb0a":{"uid":"6da25adc-1d27-4b93-b310-dd6c7c53eb0a","_state":{"style":{"default":{"margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"p","text":{"en":"Student*"},"_ww-text_text":{"de":"<div>Kind w√§hlen</div>","en":"Student*"},"_ww-text_color":"#374151","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"}},"name":"Absence Student Label","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"19406723-338c-4845-9495-f090e1ecd1fb":{"uid":"19406723-338c-4845-9495-f090e1ecd1fb","_state":{"style":{"default":{"width":"100%","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"7a803c0d-b5f1-4c22-946b-4c7bde8ed4d5","isWwObject":true}],"_ww-layout_rowGap":"16px","_ww-layout_flexWrap":"wrap","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"row"}},"name":"Absence Dates Container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"386fbf8b-7584-4f64-bdf7-46e589e90697":{"uid":"386fbf8b-7584-4f64-bdf7-46e589e90697","_state":{"style":{"default":{"margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"p","text":{"en":"From Date*"},"_ww-text_text":{"de":{"code":"return context.component?.variables?.['isMultiDay'] ? 'Von*' : 'Datum';\r\n","__wwtype":"js"},"en":"From Date*"},"_ww-text_color":"#374151","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"}},"name":"Absence Start Date Label","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"7a803c0d-b5f1-4c22-946b-4c7bde8ed4d5":{"uid":"7a803c0d-b5f1-4c22-946b-4c7bde8ed4d5","_state":{"style":{"default":{"flex":"1 1 0","display":"flex","minWidth":"250px"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"386fbf8b-7584-4f64-bdf7-46e589e90697","isWwObject":true},{"uid":"4b4f177b-f5e2-4218-8586-04e872ec22be","isWwObject":true}],"_ww-layout_rowGap":"4px","_ww-layout_columnGap":"8px","_ww-layout_flexDirection":"column"}},"name":"Absence Start Date Field","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"f3fa84cd-be1f-4305-b9bd-44af9fae0895":{"uid":"f3fa84cd-be1f-4305-b9bd-44af9fae0895","_state":{"style":{"default":{"width":"20px","height":"20px"},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"icon":"phosphor-regular/calendar","color":"#6B7280"},"_wwHover_default":{}},"name":"Absence Start Date Icon","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"1a7a4525-65e1-45c9-b99f-19ceaacf116f":{"uid":"1a7a4525-65e1-45c9-b99f-19ceaacf116f","_state":{"style":{"default":{"border":"none","cursor":"pointer","padding":"8px 16px","borderRadius":"6px","backgroundColor":"#3B82F6"},"_wwHover_default":{"backgroundColor":"#2563EB"}},"states":[],"interactions":[]},"content":{"default":{"text":{"en":"Select"},"disabled":false,"buttonType":"button","_ww-text_text":{"en":"Select"},"_ww-text_color":"#FFFFFF","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"},"_wwHover_default":{}},"name":"Absence Start Date Select Button","wwObjectBaseId":"59dca300-db78-42e4-a7a6-0cbf22d3cc82","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"4f2229b0-d18a-46e3-b892-7d1f7e7ad8ff":{"uid":"4f2229b0-d18a-46e3-b892-7d1f7e7ad8ff","_state":{"style":{"default":{"width":"100%","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"9bc08e25-0c11-46e5-a586-6e22512d9d14","isWwObject":true},{"uid":"e49bed51-fbd9-4841-b120-45327a63b74c","isWwObject":true},{"uid":"94ad54b9-fcc6-4c22-be89-f6f719569ce6","isWwObject":true}],"_ww-layout_rowGap":"10px","_ww-layout_flexWrap":"wrap","_ww-layout_columnGap":"10px","_ww-layout_flexDirection":"row"}},"name":"Absence Options Container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"567dbf63-49fe-40bb-832c-4da13cac12d1":{"uid":"567dbf63-49fe-40bb-832c-4da13cac12d1","_state":{"style":{"default":{"width":"20px","border":"2px solid #D1D5DB","height":"20px","transition":"all 0.2s ease","borderRadius":"4px","backgroundColor":"#FFFFFF"},"checked_default":{"customCss":{"border-color":"#3B82F6"},"backgroundColor":"#3B82F6"}},"states":[{"id":"checked","label":"checked"}],"interactions":[]},"content":{"default":{"icon":"phosphor-regular/check","color":"#00000000"},"checked_default":{"color":"#FFFFFF"}},"name":"Absence Partial Day Checkbox","wwObjectBaseId":"97a63460-5c25-4d74-ac1f-86693c2e4a08","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"d5b7b030-f2d1-468e-a0a7-a3df2ff2ed26":{"uid":"d5b7b030-f2d1-468e-a0a7-a3df2ff2ed26","_state":{"style":{"default":{"cursor":"pointer","margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"p","text":{"en":"Partial Day"},"_ww-text_text":{"de":"<div>Teilweise Abwesenheit</div>","en":"Partial Day"},"_ww-text_color":"#374151","_ww-text_fontSize":"14px"}},"name":"Absence Partial Day Label","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"e24b1d71-6056-47a8-b602-bf89c261a9b5":{"uid":"e24b1d71-6056-47a8-b602-bf89c261a9b5","_state":{"style":{"default":{"cursor":"pointer","display":"block","padding":"0 0 0 12px"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"d5b7b030-f2d1-468e-a0a7-a3df2ff2ed26","isWwObject":true}]}},"name":"Absence Partial Day Label Container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"c78145a2-65cc-4cb4-bd3b-45329eed4b25":{"uid":"c78145a2-65cc-4cb4-bd3b-45329eed4b25","_state":{"style":{"default":{"margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"p","text":{"en":"From Period*"},"_ww-text_text":{"en":"From Period*"},"_ww-text_color":"#374151","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"}},"name":"Absence From Period Label","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"9c22659b-e8c2-46ff-8691-10a790c20ed5":{"uid":"9c22659b-e8c2-46ff-8691-10a790c20ed5","_state":{"style":{"default":{"flex":"1 1 0","display":"flex","minWidth":"250px"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"c78145a2-65cc-4cb4-bd3b-45329eed4b25","isWwObject":true},{"uid":"f5ec19b6-4f8d-4239-bf60-2822e7d5502a","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_flexDirection":"column"}},"name":"Absence From Period Field","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"4ab1ecef-fb8f-4d6f-92f2-db5465171bfb":{"uid":"4ab1ecef-fb8f-4d6f-92f2-db5465171bfb","_state":{"style":{"default":{"margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"p","text":{"en":"To Period*"},"_ww-text_text":{"en":"To Period*"},"_ww-text_color":"#374151","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"}},"name":"Absence To Period Label","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"06c27a15-f0f0-43a0-b2b2-70f86b7518db":{"uid":"06c27a15-f0f0-43a0-b2b2-70f86b7518db","_state":{"style":{"default":{"width":"100%","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"60f1280a-6204-4abc-96a1-14e019f1c0ce","isWwObject":true},{"uid":"952b6ae6-9e46-44e1-8357-b9c59a3735fd","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_flexDirection":"column"}},"name":"Absence Reason Field","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"37b5a065-2a28-4920-a90c-c0037e35c564":{"uid":"37b5a065-2a28-4920-a90c-c0037e35c564","_state":{"style":{"default":{"width":"100%","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"e67681be-6adc-4875-9372-fee3dfbd0344","isWwObject":true},{"uid":"19406723-338c-4845-9495-f090e1ecd1fb","isWwObject":true},{"uid":"4f2229b0-d18a-46e3-b892-7d1f7e7ad8ff","isWwObject":true},{"uid":"3a30f031-23bb-42ed-b9f4-0d8d517c65e0","isWwObject":true},{"uid":"06c27a15-f0f0-43a0-b2b2-70f86b7518db","isWwObject":true},{"uid":"315bd9a6-424e-48c1-b717-24f5230a9550","isWwObject":true}],"_ww-layout_rowGap":"20px","_ww-layout_columnGap":"20px","_ww-layout_flexDirection":"column"}},"name":"Absence Form Fields","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"7e864543-8d8f-47b1-9843-a6753af59b43":{"uid":"7e864543-8d8f-47b1-9843-a6753af59b43","_state":{"style":{"default":{"width":"100%","margin":"16px 0 0 0","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"1fd4478b-ad74-4641-96a4-830246512405","isWwObject":true},{"uid":"0a0362d4-66f0-47bf-9df6-3c3ae276bbc4","isWwObject":true}],"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"flex-end"}},"name":"Absence Form Buttons","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"51bd61ce-7a11-4b7c-8ebb-f1c53cd8e0a0":{"uid":"51bd61ce-7a11-4b7c-8ebb-f1c53cd8e0a0","_state":{"style":{"default":{"display":"flex","padding":"0","overflow":"auto"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"9d79fda5-a602-4342-8dc6-76799caeea0f","isWwObject":true}],"_ww-layout_flexDirection":"column","_ww-layout_justifyContent":"flex-start"}},"name":"Pickup Tab Content","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"9d79fda5-a602-4342-8dc6-76799caeea0f":{"uid":"9d79fda5-a602-4342-8dc6-76799caeea0f","_state":{"style":{"default":{"width":"100%","height":"100%","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"validation":"change","formContent":[{"uid":"37273960-78f4-4456-8707-f87ee11f5cbb","isWwObject":true}],"autocomplete":true,"debounceDelay":"500ms","_ww-layout_flexDirection":"column"}},"name":"Pickup Form","wwObjectBaseId":"9ecb2cfc-cef7-4be8-b736-3e17a3b7e9ff","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"31c9c6e5-9836-459f-9c7e-4793dc09b8e6":{"uid":"31c9c6e5-9836-459f-9c7e-4793dc09b8e6","_state":{"style":{"default":{"width":"100%","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"92d760ed-8802-4205-9b68-2053d418af7d","isWwObject":true},{"uid":"36366dbd-27c9-4ac8-ba51-9c0dcfe158a3","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_flexDirection":"column"}},"name":"Pickup Student Field","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"92d760ed-8802-4205-9b68-2053d418af7d":{"uid":"92d760ed-8802-4205-9b68-2053d418af7d","_state":{"style":{"default":{"margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"p","text":{"en":"Student*"},"_ww-text_text":{"de":"<div>Sch√ºler*innen</div>","en":"Student*"},"_ww-text_color":"#374151","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"}},"name":"Pickup Student Label","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"36366dbd-27c9-4ac8-ba51-9c0dcfe158a3":{"uid":"36366dbd-27c9-4ac8-ba51-9c0dcfe158a3","_state":{"style":{"default":{"width":"100%"}},"states":[],"interactions":[{"id":"1c616595-61c1-491a-8e03-b3f84ebf258b","name":"Update Student ID","actions":{"action_ia_id":{"id":"action_ia_id","code":"const formData = {...variables['840b0dde-721f-4173-a6bb-83b4a67a977f']};\nformData.pickup.studentId = event.value;\nvariables['840b0dde-721f-4173-a6bb-83b4a67a977f'] = formData;","type":"custom-js"}},"trigger":"change","description":"Updates the student ID in the form data","firstAction":"action_ia_id"}]},"content":{"default":{"side":"bottom","align":"start","choices":{"code":"collections['d62b8548-7f35-4a50-a1b3-fd77bb8879a2']?.['data']","name":"Copy of formula","__wwtype":"f","defaultValue":[{"label":"John Smith","value":"1"},{"label":"Emma Johnson","value":"2"},{"label":"Michael Brown","value":"3"},{"label":"Sophia Davis","value":"4"}]},"offsetX":"0px","offsetY":"8px","disabled":false,"readonly":false,"required":true,"autoFocus":true,"fieldName":"","chipBorder":{"code":"[{\"label\":\"Option 1\",\"value\":\"opt1\"},{\"label\":\"Option 2\",\"value\":\"opt2\"}]","__wwtype":"f"},"optionIcon":null,"selectType":"single","showSearch":true,"validation":"","zIndexOpen":2,"boundOffset":"0px","chipBgColor":"#363636","chipPadding":"2px 8px","placeholder":{"de":"Sch√ºler ausw√§hlen","en":"Select a student"},"searchWidth":"100%","chipFontSize":"14px","chipIconSize":"14px","initialState":"closed","mappingLabel":{"code":"context.mapping?.['first_name']+\" \"+context.mapping?.['last_name']+\" \"+context.mapping?.['class_name']","type":"f"},"mappingValue":{"code":"context.mapping?.['profile_id']","type":"f"},"optionCursor":"pointer","searchBorder":false,"searchMargin":"0 0 8px 0","chipFontColor":"white","chipIconColor":"white","closeOnSelect":true,"dropdownWidth":{"code":"context.local.data?.['select']?.['select']?.['utils']?.['triggerWidth']+'px'","__wwtype":"f"},"manualTrigger":false,"optionPadding":"8px 16px","optionSpacing":"0px","searchBgColor":"#FAFAFA","searchPadding":"8px 16px","selectOnClick":true,"triggerBorder":false,"triggerHeight":"48px","triggerMargin":"0px","chipFontWeight":null,"dropdownBorder":false,"emptyStateText":{"en":"No results found","fr":"Aucun r√©sultat trouv√©"},"optionFontSize":"14px","optionIconSize":"12px","searchFontSize":"14px","triggerBgColor":"#FFFFFF","triggerPadding":"0 16px","triggerShadows":"","dropdownBgColor":"#FFFFFF","dropdownPadding":"8px 0","dropdownShadows":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)","initValueSingle":null,"mappingDisabled":{"code":"false","type":"f"},"optionFontColor":"#374151","optionIconColor":"#3B82F6","searchBorderAll":"1px solid #A3A3A3","searchFontColor":"black","triggerIconOpen":null,"triggerIconSize":"16px","unselectOnClick":false,"chipBorderRadius":"4px","customValidation":false,"optionFontWeight":null,"searchFontWeight":null,"selectedFontSize":"14px","triggerBorderAll":"1px solid #D1D5DB","triggerIconClose":null,"triggerIconColor":"#6B7280","dropdownBorderAll":"1px solid #B0B0B0","emptyStatePadding":"0px","searchPlaceholder":{"en":"Search","fr":"Rechercher"},"selectedFontColor":"#111827","selectedTextAlign":"left","emptyStateFontSize":"14px","optionBgColorHover":"#F3F4F6","optionBorderRadius":"4px","searchBorderBottom":"1px solid #E5E7EB","searchBorderRadius":"4px","selectedFontWeight":null,"closeOnClickOutside":true,"emptyStateFontColor":"black","emptyStateTextAlign":"center","placeholderFontSize":"14px","triggerBorderRadius":"8px","virtualScrollBuffer":600,"dropdownBorderRadius":"8px","emptyStateFontWeight":null,"optionBgColorFocused":"#f5f5f5","placeholderFontColor":"#9CA3AF","placeholderTextAlign":"left","placeholderFontWeight":null,"allowScrollingWhenOpen":false,"searchPlaceholderColor":"#9CA3AF","virtualScrollMinItemSize":40}},"name":"Pickup Student Select","wwObjectBaseId":"6145eb60-0af8-4e52-bcc6-dc0f6743654e","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"e5d110db-1dce-4365-a43a-12f5f18c521c":{"uid":"e5d110db-1dce-4365-a43a-12f5f18c521c","_state":{"style":{"default":{"margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"p","text":{"en":"From Date*"},"_ww-text_text":{"de":{"code":"return context.component?.variables?.['isMultiDay'] ? 'Von*' : 'Datum*';\r\n","__wwtype":"js","defaultValue":"<div>Datum</div>"},"en":"From Date*"},"_ww-text_color":"#374151","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"}},"name":"Pickup Start Date Label","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"36b374c7-7e3c-4f3f-917c-23e36d6d5529":{"uid":"36b374c7-7e3c-4f3f-917c-23e36d6d5529","_state":{"style":{"default":{"width":"20px","height":"20px"},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"icon":"phosphor-regular/calendar","color":"#6B7280"},"_wwHover_default":{}},"name":"Pickup Start Date Icon","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"1a221ef7-f3f1-47ff-b0e7-612e274c5299":{"uid":"1a221ef7-f3f1-47ff-b0e7-612e274c5299","_state":{"style":{"default":{"flex":"1 1 0","display":"flex","minWidth":"250px"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"e5d110db-1dce-4365-a43a-12f5f18c521c","isWwObject":true},{"uid":"40d62793-9a09-42c6-9ab2-e8c4aac1f719","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_flexDirection":"column"}},"name":"Pickup Start Date Field","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"ce52f91f-0e3d-4856-a82f-add1b0c7350e":{"uid":"ce52f91f-0e3d-4856-a82f-add1b0c7350e","_state":{"style":{"default":{"width":"100%","border":"1px solid #D1D5DB","cursor":"pointer","height":"48px","display":"flex","padding":"0 16px","borderRadius":"8px","backgroundColor":"#FFFFFF"},"_wwHover_default":{"display":"flex","customCss":{"border-color":"#9CA3AF"}}},"states":[{"id":"_wwHover","label":"hover"}],"interactions":[]},"content":{"default":{"children":[{"uid":"36b374c7-7e3c-4f3f-917c-23e36d6d5529","isWwObject":true},{"uid":"b8c00d26-b2ac-4c81-9665-af7d1b159983","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_alignItems":"center"},"_wwHover_default":{}},"name":"Pickup Start Date Trigger","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"3a63a843-bf2b-40df-bd05-9fe551e90a91":{"uid":"3a63a843-bf2b-40df-bd05-9fe551e90a91","_state":{"style":{"default":{"border":"none","cursor":"pointer","padding":"8px 16px","borderRadius":"6px","backgroundColor":"#3B82F6"},"_wwHover_default":{"backgroundColor":"#2563EB"}},"states":[],"interactions":[]},"content":{"default":{"text":{"en":"Select"},"disabled":false,"buttonType":"button","_ww-text_text":{"en":"Select"},"_ww-text_color":"#FFFFFF","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"},"_wwHover_default":{}},"name":"Pickup Start Date Select Button","wwObjectBaseId":"59dca300-db78-42e4-a7a6-0cbf22d3cc82","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"2e10a4bf-d502-499f-85a8-5f885310b809":{"uid":"2e10a4bf-d502-499f-85a8-5f885310b809","_state":{"style":{"default":{"width":"100%","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"1a221ef7-f3f1-47ff-b0e7-612e274c5299","isWwObject":true},{"uid":"b056b183-4289-4554-8ce2-cf92791bfc83","isWwObject":true}],"_ww-layout_rowGap":"16px","_ww-layout_flexWrap":"wrap","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"row"}},"name":"Pickup Dates Container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"b056b183-4289-4554-8ce2-cf92791bfc83":{"uid":"b056b183-4289-4554-8ce2-cf92791bfc83","_state":{"style":{"default":{"flex":"1 1 0","display":{"code":"context.component?.variables?.['isMultiDay']==true","__wwtype":"f","defaultValue":"flex"},"opacity":{"code":"return context.component?.formulas?.['578bb099-9de4-4f4b-9f0d-b605b98f874e']() ? 1 : 0.5","__wwtype":"js"},"minWidth":"250px","customCss":{"pointer-events":{"code":"return context.component?.formulas?.['578bb099-9de4-4f4b-9f0d-b605b98f874e']() ? 'auto' : 'none'","__wwtype":"js"}}}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"22a81f87-d8f6-4114-b05f-e13d574df93f","isWwObject":true},{"uid":"602ba165-8efc-4f1c-bfc0-bcfc484a2844","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_flexDirection":"column"}},"name":"Pickup End Date Field","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"22a81f87-d8f6-4114-b05f-e13d574df93f":{"uid":"22a81f87-d8f6-4114-b05f-e13d574df93f","_state":{"style":{"default":{"margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"p","text":{"en":"Until Date*"},"_ww-text_text":{"de":"<div>Bis*</div>","en":"Until Date*"},"_ww-text_color":"#374151","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"}},"name":"Pickup End Date Label","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"b9c66c5f-a3d1-4044-8969-5f929365ab7b":{"uid":"b9c66c5f-a3d1-4044-8969-5f929365ab7b","_state":{"style":{"default":{"width":"100%","border":"1px solid #D1D5DB","cursor":"pointer","height":"48px","display":"flex","padding":"0 16px","borderRadius":"8px","backgroundColor":"#FFFFFF"},"_wwHover_default":{"display":"flex","customCss":{"border-color":"#9CA3AF"}}},"states":[{"id":"_wwHover","label":"hover"}],"interactions":[]},"content":{"default":{"children":[{"uid":"3dade02f-df1f-4a5e-87f4-12992f84a271","isWwObject":true},{"uid":"99964288-f24c-45ec-b5b8-380420a0cc05","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_alignItems":"center"},"_wwHover_default":{}},"name":"Pickup End Date Trigger","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"3dade02f-df1f-4a5e-87f4-12992f84a271":{"uid":"3dade02f-df1f-4a5e-87f4-12992f84a271","_state":{"style":{"default":{"width":"20px","height":"20px"},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"icon":"phosphor-regular/calendar","color":"#6B7280"},"_wwHover_default":{}},"name":"Pickup End Date Icon","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"99964288-f24c-45ec-b5b8-380420a0cc05":{"uid":"99964288-f24c-45ec-b5b8-380420a0cc05","_state":{"style":{"default":{"flex":"1","margin":"0"},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"tag":"p","text":{"en":{"code":"return context.item.data?.['preview'] || 'Select date'","__wwtype":"js"}},"_ww-text_text":{"de":{"code":"return context.item.data?.['preview'] || 'Datum ausw√§hlen'","__wwtype":"js"},"en":{"code":"return context.item.data?.['preview'] || 'Select date'","__wwtype":"js"}},"_ww-text_color":"#111827","_ww-text_fontSize":"14px"},"_wwHover_default":{}},"name":"Pickup End Date Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"40e6e246-b9f0-40a6-895e-316723887b03":{"uid":"40e6e246-b9f0-40a6-895e-316723887b03","_state":{"style":{"default":{"border":"none","cursor":"pointer","padding":"8px 16px","borderRadius":"6px","backgroundColor":"#3B82F6"},"_wwHover_default":{"backgroundColor":"#2563EB"}},"states":[],"interactions":[]},"content":{"default":{"text":{"en":"Select"},"disabled":false,"buttonType":"button","_ww-text_text":{"en":"Select"},"_ww-text_color":"#FFFFFF","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"},"_wwHover_default":{}},"name":"Pickup End Date Select Button","wwObjectBaseId":"59dca300-db78-42e4-a7a6-0cbf22d3cc82","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"0ad8fcea-40b9-49f8-bb78-8682b1d4e8dd":{"uid":"0ad8fcea-40b9-49f8-bb78-8682b1d4e8dd","_state":{"style":{"default":{"width":"100%"}},"states":[],"interactions":[{"id":"e840ab57-1c5e-400f-8c28-784d7b769580","name":"Update Pickup Type","actions":{"action_ia_id":{"id":"action_ia_id","code":"const formData = {...variables['840b0dde-721f-4173-a6bb-83b4a67a977f']};\nformData.pickup.pickupType = event.value;\nvariables['840b0dde-721f-4173-a6bb-83b4a67a977f'] = formData;","type":"custom-js"}},"trigger":"change","description":"Updates the pickup type in the form data","firstAction":"action_ia_id"}]},"content":{"default":{"side":"bottom","align":"start","choices":[{"label":"Parent","value":"parent"},{"label":"Guardian","value":"guardian"},{"label":"Authorized Person","value":"authorized_person"},{"label":"School Bus","value":"school_bus"},{"label":"Public Transport","value":"public_transport"},{"label":"Self Dismissal","value":"self_dismissal"}],"offsetX":"0px","offsetY":"8px","disabled":false,"readonly":false,"required":true,"autoFocus":true,"fieldName":"","chipBorder":{"code":"[{\"label\":\"Option 1\",\"value\":\"opt1\"},{\"label\":\"Option 2\",\"value\":\"opt2\"}]","__wwtype":"f"},"optionIcon":null,"selectType":"single","showSearch":false,"validation":"","zIndexOpen":2,"boundOffset":"0px","chipBgColor":"#363636","chipPadding":"2px 8px","placeholder":{"de":"\tArt der Abholung ausw√§hlen","en":"Select pickup type"},"searchWidth":"100%","chipFontSize":"14px","chipIconSize":"14px","initialState":"closed","mappingLabel":{"code":"context.mapping?.['label']","type":"f"},"mappingValue":{"code":"context.mapping?.['value']","type":"f"},"optionCursor":"pointer","searchBorder":false,"searchMargin":"0px 0px 8px 0px","chipFontColor":"white","chipIconColor":"white","closeOnSelect":true,"dropdownWidth":{"code":"context.local.data?.['select']?.['select']?.['utils']?.['triggerWidth']+'px'","__wwtype":"f"},"manualTrigger":false,"optionPadding":"8px 16px","optionSpacing":"0px","searchBgColor":"#FAFAFA","searchPadding":"8px 12px","selectOnClick":true,"triggerBorder":false,"triggerHeight":"48px","triggerMargin":"0px","chipFontWeight":null,"dropdownBorder":false,"emptyStateText":{"en":"No results found","fr":"Aucun r√©sultat trouv√©"},"optionFontSize":"14px","optionIconSize":"12px","triggerBgColor":"#FFFFFF","triggerPadding":"0 16px","triggerShadows":"","dropdownBgColor":"#FFFFFF","dropdownPadding":"8px 0","dropdownShadows":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)","initValueSingle":null,"mappingDisabled":{"code":"false","type":"f"},"optionFontColor":"#374151","optionIconColor":"#3B82F6","searchBorderAll":"1px solid #A3A3A3","searchFontColor":"black","triggerIconOpen":null,"triggerIconSize":"16px","unselectOnClick":false,"chipBorderRadius":"4px","customValidation":false,"optionFontWeight":null,"searchFontWeight":null,"selectedFontSize":"14px","triggerBorderAll":"1px solid #D1D5DB","triggerIconClose":null,"triggerIconColor":"#6B7280","dropdownBorderAll":"1px solid #B0B0B0","emptyStatePadding":"0px","searchPlaceholder":{"en":"Search","fr":"Rechercher"},"selectedFontColor":"#111827","selectedTextAlign":"left","emptyStateFontSize":"14px","optionBgColorHover":"#F3F4F6","optionBorderRadius":"4px","searchBorderRadius":"4px","selectedFontWeight":null,"closeOnClickOutside":true,"emptyStateFontColor":"black","emptyStateTextAlign":"center","placeholderFontSize":"14px","triggerBorderRadius":"8px","virtualScrollBuffer":600,"dropdownBorderRadius":"8px","emptyStateFontWeight":null,"optionBgColorFocused":"#f5f5f5","placeholderFontColor":"#9CA3AF","placeholderTextAlign":"left","placeholderFontWeight":null,"allowScrollingWhenOpen":false,"searchPlaceholderColor":"#737373","virtualScrollMinItemSize":40}},"name":"Pickup Type Select","wwObjectBaseId":"6145eb60-0af8-4e52-bcc6-dc0f6743654e","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"b1dc3217-4728-4717-98a3-24531ff31c75":{"uid":"b1dc3217-4728-4717-98a3-24531ff31c75","_state":{"style":{"default":{"width":"100%","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"f64af16a-ae95-4709-9a21-eb05e2a17e6b","isWwObject":true},{"uid":"0ad8fcea-40b9-49f8-bb78-8682b1d4e8dd","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_flexDirection":"column"}},"name":"Pickup Type Field","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"f64af16a-ae95-4709-9a21-eb05e2a17e6b":{"uid":"f64af16a-ae95-4709-9a21-eb05e2a17e6b","_state":{"style":{"default":{"margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"p","text":{"en":"Pickup Type*"},"_ww-text_text":{"de":"<div>Art der Abholung*</div>","en":"Pickup Type*"},"_ww-text_color":"#374151","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"}},"name":"Pickup Type Label","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"ef43db4f-cf7d-43c8-b90d-cf3d1a6939bb":{"uid":"ef43db4f-cf7d-43c8-b90d-cf3d1a6939bb","_state":{"style":{"default":{"margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"p","text":{"en":"Additional Info"},"_ww-text_text":{"de":"<div>Weitere Angaben</div>","en":"Additional Info"},"_ww-text_color":"#374151","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"}},"name":"Pickup Info Label","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"b91b45ae-137b-4323-8f9b-1085e06cdc45":{"uid":"b91b45ae-137b-4323-8f9b-1085e06cdc45","_state":{"style":{"default":{"width":"100%","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"ef43db4f-cf7d-43c8-b90d-cf3d1a6939bb","isWwObject":true},{"uid":"ddb8580d-0715-414e-b4d9-4941559ee6a7","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_flexDirection":"column"}},"name":"Pickup Info Field","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"d101c263-1af7-4445-b9df-25c5c271a493":{"uid":"d101c263-1af7-4445-b9df-25c5c271a493","_state":{"style":{"default":{"width":"100%","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"83e6711b-f3ee-4ba4-b9cc-09e41ea9beb4","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_flexDirection":"column"}},"name":"Pickup Recurrence Field","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"37273960-78f4-4456-8707-f87ee11f5cbb":{"uid":"37273960-78f4-4456-8707-f87ee11f5cbb","_state":{"style":{"default":{"width":"100%","height":"100%","display":"flex","padding":"24px","overflow":"auto"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"2542c3c6-2e61-47e8-a96e-f6e25f626c88","isWwObject":true},{"uid":"02fde385-9128-4b0b-9da2-5ef988e892e2","isWwObject":true}],"_ww-layout_rowGap":"24px","_ww-layout_columnGap":"24px","_ww-layout_flexDirection":"column"}},"name":"Pickup Form Content","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"f88885ed-c066-4e4b-9c46-0a84ed5a20c8":{"uid":"f88885ed-c066-4e4b-9c46-0a84ed5a20c8","_state":{"style":{"default":{"border":"1px solid #D1D5DB","cursor":"pointer","padding":"10px 20px","borderRadius":"8px","backgroundColor":"#FFFFFF"},"_wwHover_default":{"customCss":{"border-color":"#9CA3AF"},"backgroundColor":"#F3F4F6"}},"states":[],"interactions":[{"id":"4d7e49ee-d73b-4a61-a66f-3fa4ce499f79","name":"Cancel Form","actions":{"action_ia_id":{"id":"action_ia_id","code":"await utilsFunctions.executePopupFunction(context)['fbb71b6a-5260-4830-90b5-a26a7227c269']()","type":"custom-js"}},"trigger":"click","description":"Cancels the form and closes the popup","firstAction":"action_ia_id"}]},"content":{"default":{"text":{"en":"Cancel"},"disabled":false,"buttonType":"button","_ww-text_text":{"de":"<div>Abbrechen</div>","en":"Cancel"},"_ww-text_color":"#4B5563","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"},"_wwHover_default":{}},"name":"Pickup Cancel Button","wwObjectBaseId":"59dca300-db78-42e4-a7a6-0cbf22d3cc82","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"02fde385-9128-4b0b-9da2-5ef988e892e2":{"uid":"02fde385-9128-4b0b-9da2-5ef988e892e2","_state":{"style":{"default":{"width":"100%","margin":"16px 0 0 0","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"f88885ed-c066-4e4b-9c46-0a84ed5a20c8","isWwObject":true},{"uid":"44cf0823-6a3c-4de1-ba10-0cb9f1a4f958","isWwObject":true}],"_ww-layout_rowGap":"16px","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"flex-end"}},"name":"Pickup Form Buttons","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"44cf0823-6a3c-4de1-ba10-0cb9f1a4f958":{"uid":"44cf0823-6a3c-4de1-ba10-0cb9f1a4f958","_state":{"style":{"default":{"border":"none","cursor":"pointer","padding":"10px 24px","transition":"all 0.2s ease","borderRadius":"8px","backgroundColor":"#3B82F6"},"_wwHover_default":{"backgroundColor":"#2563EB"},"_wwActive_default":{"backgroundColor":"#1D4ED8"}},"states":[],"interactions":[{"id":"324110a2-14ee-4ab2-af3f-eea40c9bbb73","name":"Submit Form","actions":{"action_ia_id":{"id":"action_ia_id","code":"await utilsFunctions.executePopupFunction(context)['ac6b2747-f30f-4745-a288-e85cfc348a6c']()","type":"custom-js"}},"trigger":"click","description":"Submits the form data","firstAction":"action_ia_id"}]},"content":{"default":{"text":{"en":"Save"},"disabled":false,"buttonType":"button","_ww-text_text":{"de":"<div>Speichern</div>","en":"Save"},"_ww-text_color":"#FFFFFF","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"},"_wwHover_default":{},"_wwActive_default":{}},"name":"Pickup Submit Button","wwObjectBaseId":"59dca300-db78-42e4-a7a6-0cbf22d3cc82","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"94ad54b9-fcc6-4c22-be89-f6f719569ce6":{"uid":"94ad54b9-fcc6-4c22-be89-f6f719569ce6","_state":{"style":{"default":{"cursor":"pointer","display":"flex","customCss":{"align-items":"center"}}},"states":[],"interactions":[{"id":"d8b4353f-2507-4e7d-8fcf-c2f87e8d7867","name":"Toggle Partial Day","actions":{"action_ia_id":{"id":"action_ia_id","code":"context.component.variables['isPartialDay'] = event.value;\n\n// Update form data\nconst formData = {...variables['840b0dde-721f-4173-a6bb-83b4a67a977f']};\nformData.absence.repeatPattern = event.value ? 'partial' : 'once';\nvariables['840b0dde-721f-4173-a6bb-83b4a67a977f'] = formData;","type":"custom-js"}},"trigger":"change","description":"Toggles the partial day option","firstAction":"action_ia_id"}]},"content":{"default":{"value":{"code":"context.component?.variables?.['isPartialDay']","__wwtype":"f","defaultValue":true},"checkbox":{"uid":"567dbf63-49fe-40bb-832c-4da13cac12d1","isWwObject":true},"readonly":false,"required":false,"fieldName":"","validation":"","containerGap":"0px","customValidation":false,"containerPosition":"right","embeddedContainer":{"uid":"e24b1d71-6056-47a8-b602-bf89c261a9b5","isWwObject":true},"isEmbeddedContainer":true}},"name":"Absence Partial Day Option","wwObjectBaseId":"aa29a661-07ce-484e-8abb-456186211282","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"1fd4478b-ad74-4641-96a4-830246512405":{"uid":"1fd4478b-ad74-4641-96a4-830246512405","_state":{"style":{"default":{"border":"1px solid #D1D5DB","cursor":"pointer","padding":"10px 20px","borderRadius":"8px","backgroundColor":"#FFFFFF"},"_wwHover_default":{"customCss":{"border-color":"#9CA3AF"},"backgroundColor":"#F3F4F6"}},"states":[],"interactions":[{"id":"49b6f9c5-d654-4456-986d-4afa821b4e0b","name":"Cancel Form","actions":{"action_ia_id":{"id":"action_ia_id","code":"await utilsFunctions.executePopupFunction(context)['fbb71b6a-5260-4830-90b5-a26a7227c269']()","type":"custom-js"}},"trigger":"click","description":"Cancels the form and closes the popup","firstAction":"action_ia_id"}]},"content":{"default":{"text":{"en":"Cancel"},"disabled":false,"buttonType":"button","_ww-text_text":{"de":"<div>Abbrechen</div>","en":"Cancel"},"_ww-text_color":"#4B5563","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"},"_wwHover_default":{}},"name":"Absence Cancel Button","wwObjectBaseId":"59dca300-db78-42e4-a7a6-0cbf22d3cc82","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"ddb8580d-0715-414e-b4d9-4941559ee6a7":{"uid":"ddb8580d-0715-414e-b4d9-4941559ee6a7","_state":{"style":{"default":{"width":"100%","border":"1px solid #D1D5DB","padding":"12px 16px","borderRadius":"8px","backgroundColor":"#FFFFFF"},"_wwFocus_default":{"boxShadow":"0 0 0 2px rgba(59, 130, 246, 0.2)","customCss":{"border-color":"#3B82F6"}},"_wwHover_default":{"customCss":{"border-color":"#9CA3AF"}}},"states":[],"interactions":[{"id":"33b57cf0-6757-45b4-8a6a-79f02427b5ba","name":"Update Pickup Info","actions":{"action_ia_id":{"id":"action_ia_id","code":"const formData = {...variables['840b0dde-721f-4173-a6bb-83b4a67a977f']};\nformData.pickup.pickupInfo = event.value;\nvariables['840b0dde-721f-4173-a6bb-83b4a67a977f'] = formData;","type":"custom-js"}},"trigger":"change","description":"Updates the pickup info in the form data","firstAction":"action_ia_id"}]},"content":{"default":{"max":"10000","min":"0","rows":4,"step":1,"type":"textarea","value":"","resize":false,"maxDate":"","minDate":"","debounce":false,"readonly":false,"required":true,"fieldName":"","precision":"0.1","hideArrows":false,"validation":"","placeholder":{"de":"\tZus√§tzliche Informationen zur Abholung eingeben","en":"Enter additional pickup information"},"autocomplete":false,"debounceDelay":"500ms","timePrecision":1,"_ww-text_color":"#111827","currencySymbol":"$","displayPassword":false,"customValidation":false,"_ww-text_fontSize":"14px","currencyShowSymbol":true,"currencySymbolColor":"#666666","currencyDecimalPlaces":2,"currencySymbolPadding":"4px","currencySymbolFontSize":"1em","currencySymbolPosition":"prefix","currencyDecimalSeparator":".","currencyThousandsSeparator":","},"_wwFocus_default":{},"_wwHover_default":{}},"name":"Pickup Info Input","wwObjectBaseId":"deb10a01-5eef-4aa1-9017-1b51c2ad6fd0","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"3a30f031-23bb-42ed-b9f4-0d8d517c65e0":{"uid":"3a30f031-23bb-42ed-b9f4-0d8d517c65e0","_state":{"style":{"default":{"width":"100%","display":{"code":"context.component?.variables?.['isPartialDay']==true","__wwtype":"f","defaultValue":"flex"},"opacity":{"code":"return context.component?.formulas?.['03f556ae-f67e-44ce-ae13-c1af56b493fe']() ? 1 : 0.5","__wwtype":"js"},"customCss":{"pointer-events":{"code":"return context.component?.formulas?.['03f556ae-f67e-44ce-ae13-c1af56b493fe']() ? 'auto' : 'none'","__wwtype":"js"}}}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"9c22659b-e8c2-46ff-8691-10a790c20ed5","isWwObject":true},{"uid":"74e7b65e-f1bb-433a-b1ec-b094d38dec07","isWwObject":true}],"_ww-layout_rowGap":"16px","_ww-layout_flexWrap":"wrap","_ww-layout_columnGap":"16px","_ww-layout_flexDirection":"row"}},"name":"Absence Periods Container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"6aa8ce98-4d38-4157-8138-b17877134148":{"uid":"6aa8ce98-4d38-4157-8138-b17877134148","_state":{"style":{"default":{"flex":"0 1 auto","width":"100%","height":"100%","display":"flex","padding":"24px","overflow":"auto"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"37b5a065-2a28-4920-a90c-c0037e35c564","isWwObject":true},{"uid":"7e864543-8d8f-47b1-9843-a6753af59b43","isWwObject":true}],"_ww-layout_rowGap":"24px","_ww-layout_columnGap":"24px","_ww-layout_flexDirection":"column"}},"name":"Absence Form Content","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"602ba165-8efc-4f1c-bfc0-bcfc484a2844":{"uid":"602ba165-8efc-4f1c-bfc0-bcfc484a2844","_state":{"style":{"default":{"width":"100%"}},"states":[],"interactions":[]},"content":{"default":{"lang":"pageLang","use24":false,"format":"custom","maxDate":null,"minDate":{"code":"context.component?.variables?.['40d62793-9a09-42c6-9ab2-e8c4aac1f719-value']","__wwtype":"f","defaultValue":null},"dateMode":"date","maxRange":7,"minRange":2,"readonly":false,"required":true,"timezone":"locale","autoApply":true,"autoRange":1,"flowSteps":["month","year","calendar","time","minutes","hours","seconds"],"rangeMode":"free","startDate":null,"weekStart":"1","enableFlow":false,"triggerZone":[{"uid":"b9c66c5f-a3d1-4044-8969-5f929365ab7b","isWwObject":true}],"weekNumbers":"none","allowedDates":[],"customFormat":"DD.MM.YYYY","menuPosition":"center","advancedDates":false,"disabledDates":[],"enableSeconds":false,"selectionMode":"single","themeCellSize":"35px","themeFontSize":"16px","advancedColors":false,"advancedStyles":false,"initValueMulti":null,"multiCalendars":2,"themeIconColor":"#959595","themeTextColor":"#212121","calendarOnlyFit":"stretch","hideOffsetDates":false,"initValueSingle":null,"leftSidebarZone":[],"multiDatesLimit":0,"noDisabledRange":false,"themeHoverColor":"#f3f3f3","closeOnAutoApply":true,"disabledWeekDays":[],"rightSidebarZone":[],"themeBorderColor":"#ddd","themeCellPadding":"5px","themeDangerColor":"#ff6f60","enableLeftSidebar":false,"initValueRangeEnd":null,"stickedDatePicker":false,"themeBorderRadius":"4px","themeMenuMinWidth":"250px","themePrimaryColor":"#1976d2","themeSuccessColor":"#76d275","themeTimeFontSize":"32px","enableCalendarOnly":false,"enablePartialRange":true,"enableRightSidebar":false,"multiCalendarsSolo":false,"themeDisabledColor":"#f6f6f6","actionSelectElement":{"uid":"40e6e246-b9f0-40a6-895e-316723887b03","isWwObject":true},"initValueRangeStart":null,"themeHighlightColor":"#1976d219","themeHoverIconColor":"#959595","themeHoverTextColor":"#212121","themeScrollBarColor":"#959595","themeSecondaryColor":"#c0c4cc","enableMultiCalendars":false,"ignoreTimeValidation":false,"themeBackgroundColor":"#ffffff","themeMenuBorderColor":"#ddd","themePreviewFontSize":"13px","themeBorderHoverColor":"#aaaeb7","themeCellBorderRadius":"4px","themePrimaryTextColor":"#f8f5f5","disableMonthYearSelect":false,"preventMinMaxNavigation":false,"themeSuccessDisabledColor":"#a3d9b1","themeScrollBarBackgroundColor":"#f3f3f3"}},"name":"Pickup End Date Picker","wwObjectBaseId":"985570fc-b3c0-4566-8004-82ab3b30a11d","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"40d62793-9a09-42c6-9ab2-e8c4aac1f719":{"uid":"40d62793-9a09-42c6-9ab2-e8c4aac1f719","_state":{"style":{"default":{"width":"100%"}},"states":[],"interactions":[{"id":"c8b875da-9652-49e4-b501-7e76fb44d3cd","icon":"workflow","name":"Untitled workflow","index":0,"actions":{"39e0b371-dc3f-4ded-85bc-564c6279a678":{"id":"39e0b371-dc3f-4ded-85bc-564c6279a678","path":"startDate","type":"variable","varId":"b6f40d10-857d-4735-9da0-3a4d34797b01","usePath":true,"internal":false,"varValue":{"code":"context.component?.variables?.['40d62793-9a09-42c6-9ab2-e8c4aac1f719-value']","__wwtype":"f"}}},"trigger":"change","isSearched":false,"description":"On change","firstAction":"39e0b371-dc3f-4ded-85bc-564c6279a678","triggerConditions":null}]},"content":{"default":{"lang":"pageLang","use24":false,"format":"custom","maxDate":null,"minDate":null,"dateMode":"date","maxRange":7,"minRange":2,"readonly":false,"required":true,"timezone":"locale","autoApply":true,"autoRange":1,"flowSteps":["month","year","calendar","time","minutes","hours","seconds"],"rangeMode":"free","startDate":null,"weekStart":"1","enableFlow":false,"triggerZone":[{"uid":"ce52f91f-0e3d-4856-a82f-add1b0c7350e","isWwObject":true}],"weekNumbers":"none","allowedDates":[],"customFormat":"DD.MM.YYYY","menuPosition":"center","advancedDates":false,"disabledDates":[],"enableSeconds":false,"selectionMode":"single","themeCellSize":"35px","themeFontSize":"16px","advancedColors":false,"advancedStyles":false,"initValueMulti":null,"multiCalendars":2,"themeIconColor":"#959595","themeTextColor":"#212121","calendarOnlyFit":"stretch","hideOffsetDates":false,"initValueSingle":{"code":"pluginFormulas['832d6f7a-42c3-43f1-a3ce-9a678272f811']['formatDate'](pluginFormulas['832d6f7a-42c3-43f1-a3ce-9a678272f811']['date'](),\"DD.MM.YYYY\")","__wwtype":"f","defaultValue":null},"leftSidebarZone":[],"multiDatesLimit":0,"noDisabledRange":false,"themeHoverColor":"#f3f3f3","closeOnAutoApply":true,"disabledWeekDays":[],"rightSidebarZone":[],"themeBorderColor":"#ddd","themeCellPadding":"5px","themeDangerColor":"#ff6f60","enableLeftSidebar":false,"initValueRangeEnd":null,"stickedDatePicker":false,"themeBorderRadius":"4px","themeMenuMinWidth":"250px","themePrimaryColor":"#1976d2","themeSuccessColor":"#76d275","themeTimeFontSize":"32px","enableCalendarOnly":false,"enablePartialRange":true,"enableRightSidebar":false,"multiCalendarsSolo":false,"themeDisabledColor":"#f6f6f6","actionSelectElement":{"uid":"3a63a843-bf2b-40df-bd05-9fe551e90a91","isWwObject":true},"initValueRangeStart":null,"themeHighlightColor":"#1976d219","themeHoverIconColor":"#959595","themeHoverTextColor":"#212121","themeScrollBarColor":"#959595","themeSecondaryColor":"#c0c4cc","enableMultiCalendars":false,"ignoreTimeValidation":false,"themeBackgroundColor":"#ffffff","themeMenuBorderColor":"#ddd","themePreviewFontSize":"13px","themeBorderHoverColor":"#aaaeb7","themeCellBorderRadius":"4px","themePrimaryTextColor":"#f8f5f5","disableMonthYearSelect":false,"preventMinMaxNavigation":false,"themeSuccessDisabledColor":"#a3d9b1","themeScrollBarBackgroundColor":"#f3f3f3"}},"name":"Pickup Start Date Picker","wwObjectBaseId":"985570fc-b3c0-4566-8004-82ab3b30a11d","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"4b4f177b-f5e2-4218-8586-04e872ec22be":{"uid":"4b4f177b-f5e2-4218-8586-04e872ec22be","_state":{"style":{"default":{"width":"100%"}},"states":[],"interactions":[]},"content":{"default":{"lang":"pageLang","use24":false,"format":"custom","maxDate":null,"minDate":null,"dateMode":"date","maxRange":7,"minRange":2,"readonly":false,"required":true,"timezone":"locale","autoApply":true,"autoRange":1,"flowSteps":["month","year","calendar","time","minutes","hours","seconds"],"rangeMode":"free","startDate":null,"weekStart":"1","enableFlow":false,"triggerZone":[{"uid":"0dd6bcb0-470d-4422-9eb6-5a079d72af7e","isWwObject":true}],"weekNumbers":"none","allowedDates":[],"customFormat":"DD.MM.YYYY","menuPosition":"center","advancedDates":false,"disabledDates":[],"enableSeconds":false,"selectionMode":"single","themeCellSize":"35px","themeFontSize":"16px","advancedColors":false,"advancedStyles":false,"initValueMulti":null,"multiCalendars":2,"themeIconColor":"#959595","themeTextColor":"#212121","calendarOnlyFit":"stretch","hideOffsetDates":false,"initValueSingle":{"code":"pluginFormulas['832d6f7a-42c3-43f1-a3ce-9a678272f811']['formatDate'](pluginFormulas['832d6f7a-42c3-43f1-a3ce-9a678272f811']['date'](),\"YYYY-MM-DD\")","__wwtype":"f","defaultValue":null},"leftSidebarZone":[],"multiDatesLimit":0,"noDisabledRange":false,"themeHoverColor":"#f3f3f3","closeOnAutoApply":true,"disabledWeekDays":[],"rightSidebarZone":[],"themeBorderColor":"#ddd","themeCellPadding":"5px","themeDangerColor":"#ff6f60","enableLeftSidebar":false,"initValueRangeEnd":null,"stickedDatePicker":false,"themeBorderRadius":"4px","themeMenuMinWidth":"250px","themePrimaryColor":"#1976d2","themeSuccessColor":"#76d275","themeTimeFontSize":"32px","enableCalendarOnly":false,"enablePartialRange":true,"enableRightSidebar":false,"multiCalendarsSolo":false,"themeDisabledColor":"#f6f6f6","actionSelectElement":{"uid":"1a7a4525-65e1-45c9-b99f-19ceaacf116f","isWwObject":true},"initValueRangeStart":null,"themeHighlightColor":"#1976d219","themeHoverIconColor":"#959595","themeHoverTextColor":"#212121","themeScrollBarColor":"#959595","themeSecondaryColor":"#c0c4cc","enableMultiCalendars":false,"ignoreTimeValidation":false,"themeBackgroundColor":"#ffffff","themeMenuBorderColor":"#ddd","themePreviewFontSize":"13px","themeBorderHoverColor":"#aaaeb7","themeCellBorderRadius":"4px","themePrimaryTextColor":"#f8f5f5","disableMonthYearSelect":false,"preventMinMaxNavigation":false,"themeSuccessDisabledColor":"#a3d9b1","themeScrollBarBackgroundColor":"#f3f3f3"}},"name":"Absence Start Date Picker","wwObjectBaseId":"985570fc-b3c0-4566-8004-82ab3b30a11d","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"b8c00d26-b2ac-4c81-9665-af7d1b159983":{"uid":"b8c00d26-b2ac-4c81-9665-af7d1b159983","_state":{"style":{"default":{"flex":"1","margin":"0"},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"tag":"p","text":{"en":{"code":"return context.item.data?.['preview'] || 'Select date'","__wwtype":"js"}},"_ww-text_text":{"de":{"code":"return context.item.data?.['preview'] || 'Datum ausw√§hlen'","__wwtype":"js"},"en":{"code":"return context.item.data?.['preview'] || 'Select date'","__wwtype":"js"}},"_ww-text_color":"#111827","_ww-text_fontSize":"14px"},"_wwHover_default":{}},"name":"Pickup Start Date Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"60f1280a-6204-4abc-96a1-14e019f1c0ce":{"uid":"60f1280a-6204-4abc-96a1-14e019f1c0ce","_state":{"style":{"default":{"margin":"0"}},"states":[],"interactions":[]},"content":{"default":{"tag":"p","text":{"en":"Reason"},"_ww-text_text":{"de":"<div>Grund f√ºr die Abwesenheit</div>","en":{"code":"context.component?.variables?.['f5ec19b6-4f8d-4239-bf60-2822e7d5502a-value']","__wwtype":"f","defaultValue":"Reason"}},"_ww-text_color":"#374151","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"}},"name":"Absence Reason Label","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"952b6ae6-9e46-44e1-8357-b9c59a3735fd":{"uid":"952b6ae6-9e46-44e1-8357-b9c59a3735fd","_state":{"style":{"default":{"width":"100%","border":"1px solid #D1D5DB","padding":"12px 16px","borderRadius":"8px","backgroundColor":"#FFFFFF"},"_wwFocus_default":{"boxShadow":"0 0 0 2px rgba(59, 130, 246, 0.2)","customCss":{"border-color":"#3B82F6"}},"_wwHover_default":{"customCss":{"border-color":"#9CA3AF"}}},"states":[],"interactions":[{"id":"dab8a211-f596-4339-ab21-26ae0bed06df","name":"Update Reason","actions":{"action_ia_id":{"id":"action_ia_id","code":"const formData = {...variables['840b0dde-721f-4173-a6bb-83b4a67a977f']};\nformData.absence.reason = event.value;\nvariables['840b0dde-721f-4173-a6bb-83b4a67a977f'] = formData;","type":"custom-js"}},"trigger":"change","description":"Updates the reason in the form data","firstAction":"action_ia_id"}]},"content":{"default":{"max":"10000","min":"0","rows":4,"step":1,"type":"textarea","value":"","resize":false,"maxDate":"","minDate":"","debounce":false,"readonly":false,"required":true,"fieldName":"","precision":"0.1","hideArrows":false,"validation":"","placeholder":{"de":"Grund f√ºr die Abwesenheit eingeben","en":"Enter reason for absence"},"autocomplete":false,"debounceDelay":"500ms","timePrecision":1,"_ww-text_color":"#111827","currencySymbol":"$","displayPassword":false,"customValidation":false,"_ww-text_fontSize":"14px","currencyShowSymbol":true,"currencySymbolColor":"#666666","currencyDecimalPlaces":2,"currencySymbolPadding":"4px","currencySymbolFontSize":"1em","currencySymbolPosition":"prefix","currencyDecimalSeparator":".","currencyThousandsSeparator":","},"_wwFocus_default":{},"_wwHover_default":{}},"name":"Absence Reason Input","wwObjectBaseId":"deb10a01-5eef-4aa1-9017-1b51c2ad6fd0","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"2e58eb68-b1c8-4d73-861d-166e192c6efb":{"uid":"2e58eb68-b1c8-4d73-861d-166e192c6efb","_state":{"style":{"default":{"flex":"1","margin":"0"},"_wwHover_default":{}},"states":[],"interactions":[]},"content":{"default":{"tag":"p","text":{"en":{"code":"return context.item.data?.['preview'] || 'Select date'","__wwtype":"js"}},"_ww-text_text":{"de":{"code":"return context.item.data?.['preview'] || 'Datum ausw√§hlen'","__wwtype":"js"},"en":{"code":"return context.item.data?.['preview'] || 'Select date'","__wwtype":"js"}},"_ww-text_color":"#111827","_ww-text_fontSize":"14px"},"_wwHover_default":{}},"name":"Absence Start Date Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"83e6711b-f3ee-4ba4-b9cc-09e41ea9beb4":{"uid":"83e6711b-f3ee-4ba4-b9cc-09e41ea9beb4","_state":{"style":{"default":{"width":"100%","display":{"code":"context.component?.variables?.['ecdfe610-274e-486e-ad69-79adac64e4e3-value']==true","__wwtype":"f","defaultValue":true}}}},"content":{"default":{"bd0dd207-1578-4aac-a94a-0dddabaee70b":{"code":"context.component?.variables?.['40d62793-9a09-42c6-9ab2-e8c4aac1f719-value']","__wwtype":"f"}}},"name":null,"wwObjectBaseId":null,"libraryComponentBaseId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b","parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"d7b6a771-dd39-4fc0-83c1-3ef3121a5b2b":{"uid":"d7b6a771-dd39-4fc0-83c1-3ef3121a5b2b","_state":{"style":{"default":{"width":"100%","display":"flex"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"61ab39cc-ce5a-4e51-a371-a5ad3d5c8383","isWwObject":true}],"_ww-layout_rowGap":"24px","_ww-layout_flexWrap":"wrap","_ww-layout_columnGap":"24px","_ww-layout_flexDirection":"row"}},"name":"Pickup Options Container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"61ab39cc-ce5a-4e51-a371-a5ad3d5c8383":{"uid":"61ab39cc-ce5a-4e51-a371-a5ad3d5c8383","_state":{"style":{"default":{"align":"flex-start","display":"flex","padding":"8px 0"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"ecdfe610-274e-486e-ad69-79adac64e4e3","isWwObject":true},{"uid":"b5f10fe3-a37a-479d-b6a2-43822ea8574d","isWwObject":true}],"_ww-layout_columnGap":"8px","_ww-layout_alignItems":"center"}},"name":"Recurring Field","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"b5f10fe3-a37a-479d-b6a2-43822ea8574d":{"uid":"b5f10fe3-a37a-479d-b6a2-43822ea8574d","_state":{"style":{"default":{"cursor":"pointer"}},"states":[],"interactions":[]},"content":{"default":{"tag":"label","text":{"en":"Wiederkehrender Beitrag"},"_ww-text_text":{"en":"Wiederkehrender Beitrag"},"_ww-text_color":"#334155","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"}},"name":"Recurring Label","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"ecdfe610-274e-486e-ad69-79adac64e4e3":{"uid":"ecdfe610-274e-486e-ad69-79adac64e4e3","_state":{"style":{"default":{"width":"40px","height":"24px","borderRadius":"12px"}},"states":[],"interactions":[{"id":"07c11b62-cd55-4004-ace1-a6e25136087f","name":"Update Is Recurring","actions":{"action_ia_id":{"id":"action_ia_id","code":"// Get the toggle value\nconst isRecurring = event.value;\n\n// Update the form data\nconst formData = {...context.component?.variables?.['formData']};\nformData.isRecurring = isRecurring;\ncontext.component.variables['formData'] = formData;\n\n// Validate the form\ncontext.component.variables['isValid'] = context.component?.formulas?.['bc06456a-dddf-427c-8a28-544ee1994f92']();","next":null,"type":"custom-js"}},"trigger":"change","description":"Updates the is recurring setting in form data","firstAction":"action_ia_id"}]},"content":{"default":{"value":{"code":"context.component?.props?.['e6ef4feb-4655-495c-bdbb-180860c0a10e']?.['is_recurring']","__wwtype":"f","defaultValue":false},"readonly":false,"required":true,"fieldName":"","validation":"","selectorSize":"60%","selectorColorOn":"#4a77bf","customValidation":false,"selectorColorOff":"#cbd5e1","backgroundColorOn":"#dbeafe","backgroundColorOff":"#f1f5f9"}},"name":"Recurring Toggle","wwObjectBaseId":"1ba25bdf-dee9-4e0e-a0b8-b3f3128c3b65","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"e8e4e90a-68d1-40ad-a2a2-0e8d65c9b7a7":{"uid":"e8e4e90a-68d1-40ad-a2a2-0e8d65c9b7a7","_state":{"style":{"default":{"cursor":"pointer"}},"states":[],"interactions":[]},"content":{"default":{"tag":"label","text":{"en":"Wiederkehrender Beitrag"},"_ww-text_text":{"en":"Wiederkehrender Beitrag"},"_ww-text_color":"#334155","_ww-text_fontSize":"14px","_ww-text_fontWeight":"500"}},"name":"Recurring Label","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"9bc08e25-0c11-46e5-a586-6e22512d9d14":{"uid":"9bc08e25-0c11-46e5-a586-6e22512d9d14","_state":{"style":{"default":{"align":"flex-start","display":"flex","padding":" 0","conditionalRendering":{"code":"return collections['a3bd1e48-4a7d-4146-94db-4cb1320be5a7']?.['data']?.[0]?.['role_name'] === \"Admin\" ||\r\n    collections['a3bd1e48-4a7d-4146-94db-4cb1320be5a7']?.['data']?.[0]?.['role_name'] === \"Teacher\";\r\n","__wwtype":"js","defaultValue":false}}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"bec8d7bd-1347-4065-aeb1-ecf279769477","isWwObject":true},{"uid":"e8e4e90a-68d1-40ad-a2a2-0e8d65c9b7a7","isWwObject":true}],"_ww-layout_columnGap":"8px","_ww-layout_alignItems":"center"}},"name":"Recurring Field","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"e49bed51-fbd9-4841-b120-45327a63b74c":{"uid":"e49bed51-fbd9-4841-b120-45327a63b74c","_state":{"style":{"default":{"width":"100%","display":{"code":"context.component?.variables?.['bec8d7bd-1347-4065-aeb1-ecf279769477-value']==true","__wwtype":"f","defaultValue":true}}}},"content":{"default":{"bd0dd207-1578-4aac-a94a-0dddabaee70b":{"code":"context.component?.variables?.['4b4f177b-f5e2-4218-8586-04e872ec22be-value']","__wwtype":"f"}}},"name":null,"wwObjectBaseId":null,"libraryComponentBaseId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b","parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"bec8d7bd-1347-4065-aeb1-ecf279769477":{"uid":"bec8d7bd-1347-4065-aeb1-ecf279769477","_state":{"style":{"default":{"width":"40px","height":"24px","borderRadius":"12px"}},"states":[],"interactions":[{"id":"07c11b62-cd55-4004-ace1-a6e25136087f","name":"Update Is Recurring","actions":{"action_ia_id":{"id":"action_ia_id","code":"// Get the toggle value\nconst isRecurring = event.value;\n\n// Update the form data\nconst formData = {...context.component?.variables?.['formData']};\nformData.isRecurring = isRecurring;\ncontext.component.variables['formData'] = formData;\n\n// Validate the form\ncontext.component.variables['isValid'] = context.component?.formulas?.['bc06456a-dddf-427c-8a28-544ee1994f92']();","next":null,"type":"custom-js"}},"trigger":"change","description":"Updates the is recurring setting in form data","firstAction":"action_ia_id"}]},"content":{"default":{"value":{"code":"context.component?.props?.['e6ef4feb-4655-495c-bdbb-180860c0a10e']?.['is_recurring']","__wwtype":"f","defaultValue":false},"readonly":false,"required":true,"fieldName":"","validation":"","selectorSize":"60%","selectorColorOn":"#4a77bf","customValidation":false,"selectorColorOff":"#cbd5e1","backgroundColorOn":"#dbeafe","backgroundColorOff":"#f1f5f9"}},"name":"Recurring Toggle abwesenheit","wwObjectBaseId":"1ba25bdf-dee9-4e0e-a0b8-b3f3128c3b65","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"74e7b65e-f1bb-433a-b1ec-b094d38dec07":{"uid":"74e7b65e-f1bb-433a-b1ec-b094d38dec07","_state":{"style":{"default":{"flex":"1 1 0","display":"flex","minWidth":"250px"}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"4ab1ecef-fb8f-4d6f-92f2-db5465171bfb","isWwObject":true},{"uid":"bdf0c633-ac6a-4a0c-9b0b-12034552f0d3","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_flexDirection":"column"}},"name":"Absence To Period Field","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"57c16f25-f911-4c19-b03b-21a49021f451":{"uid":"57c16f25-f911-4c19-b03b-21a49021f451","_state":{},"content":{"default":{"text":"Select","disabled":false,"buttonType":"button","_ww-text_text":"New text"}},"name":null,"wwObjectBaseId":"59dca300-db78-42e4-a7a6-0cbf22d3cc82","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"e0d1094c-bd7f-4aab-a1f2-0961a6798f41":{"uid":"e0d1094c-bd7f-4aab-a1f2-0961a6798f41","_state":{"style":{"default":{"width":"100%"}}},"content":{"default":{"tag":"p","_ww-text_text":{"de":{"code":"const time = context.component?.variables?.['f5ec19b6-4f8d-4239-bf60-2822e7d5502a-value'];\r\nconst hour = time?.['hours'];\r\nconst minute = time?.['minutes'];\r\n\r\nif (hour == null || minute == null) {\r\n  return 'Zeit w√§hlen';\r\n}\r\n\r\nconst paddedHour = String(hour).padStart(2, '0');\r\nconst paddedMinute = String(minute).padStart(2, '0');\r\n\r\nreturn `${paddedHour}:${paddedMinute}`;\r\n","__wwtype":"js"},"en":{"code":"const time = context.component?.variables?.['f5ec19b6-4f8d-4239-bf60-2822e7d5502a-value'];\r\nconst hour = time?.['hours'];\r\nconst minute = time?.['minutes'];\r\n\r\nif (hour == null || minute == null) {\r\n  return 'Pick a time';\r\n}\r\n\r\nconst paddedHour = String(hour).padStart(2, '0');\r\nconst paddedMinute = String(minute).padStart(2, '0');\r\n\r\nreturn `${paddedHour}:${paddedMinute}`;\r\n","__wwtype":"js"}}}},"name":null,"wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"193616b4-0322-4ba3-8edb-d520e534e2b1":{"uid":"193616b4-0322-4ba3-8edb-d520e534e2b1","_state":{"style":{"default":{"width":"auto","height":"auto","padding":"0px","customCss":{"width":"max-content"},"transform":"translate3d(0px,0px,0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg)","borderRadius":"auto"}}},"content":{"default":{"icon":"icon-clock","color":"#6E6E6E","fontSize":24}},"name":null,"wwObjectBaseId":"83d890fb-84f9-4386-b459-fb4be89a8e15","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"0dd6bcb0-470d-4422-9eb6-5a079d72af7e":{"uid":"0dd6bcb0-470d-4422-9eb6-5a079d72af7e","_state":{"style":{"default":{"width":"100%","border":"1px solid #D1D5DB","cursor":"pointer","height":"40px","display":"flex","padding":"0 16px","customCss":{},"borderRadius":"8px","backgroundColor":"#FFFFFF","animationDuration":"1000ms","animationKeyframes":"@keyframes keyframe-edition-animation { 0% {} 100% {}}"},"_wwHover_default":{"display":"flex","customCss":{"border-color":"#9CA3AF"}}},"states":[{"id":"_wwHover","label":"hover"}],"interactions":[{"id":"784f97fd-c87d-468e-a1c8-2b32410e50c1","icon":"workflow","name":"Untitled workflow","index":0,"actions":{"39e0b371-dc3f-4ded-85bc-564c6279a678":{"id":"39e0b371-dc3f-4ded-85bc-564c6279a678","path":"startDate","type":"variable","varId":"b6f40d10-857d-4735-9da0-3a4d34797b01","usePath":true,"internal":false,"varValue":{"code":"context.component?.variables?.['4b4f177b-f5e2-4218-8586-04e872ec22be-value']","__wwtype":"f"}}},"trigger":"click","isSearched":false,"description":"On change","firstAction":"39e0b371-dc3f-4ded-85bc-564c6279a678","triggerConditions":null}]},"content":{"default":{"children":[{"uid":"f3fa84cd-be1f-4305-b9bd-44af9fae0895","isWwObject":true},{"uid":"2e58eb68-b1c8-4d73-861d-166e192c6efb","isWwObject":true}],"_ww-layout_rowGap":"8px","_ww-layout_columnGap":"8px","_ww-layout_alignItems":"center"},"_wwHover_default":{}},"name":"Absence Start Date Trigger","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"9655385b-7705-41b9-9f86-b6a4250bc17d":{"uid":"9655385b-7705-41b9-9f86-b6a4250bc17d","_state":{"style":{"default":{"width":"100%","border":"1px solid #D1D5DB","cursor":"pointer","height":"48px","padding":"0 16px","aspectRatio":"unset","borderRadius":"8px","animationDuration":"1000ms"},"_wwHover_default":{"border":"1px solid #7B818A"}},"states":[{"id":"_wwHover","label":"hover"}]},"content":{"default":{"children":[{"uid":"e0d1094c-bd7f-4aab-a1f2-0961a6798f41","isWwObject":true},{"uid":"193616b4-0322-4ba3-8edb-d520e534e2b1","isWwObject":true}],"_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"space-between"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"05003b44-3816-4b22-b2aa-ed042fc7e5d3":{"uid":"05003b44-3816-4b22-b2aa-ed042fc7e5d3","_state":{},"content":{"default":{"text":"Select","disabled":false,"buttonType":"button","_ww-text_text":"New text"}},"name":null,"wwObjectBaseId":"59dca300-db78-42e4-a7a6-0cbf22d3cc82","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"3f15142a-aa3f-41fe-bc2a-f4deb00419b7":{"uid":"3f15142a-aa3f-41fe-bc2a-f4deb00419b7","_state":{"style":{"default":{"width":"auto","height":"auto","padding":"0px","customCss":{"width":"max-content"},"transform":"translate3d(0px,0px,0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg)","borderRadius":"auto"}}},"content":{"default":{"icon":"icon-clock","color":"#6E6E6E","fontSize":24}},"name":null,"wwObjectBaseId":"83d890fb-84f9-4386-b459-fb4be89a8e15","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"e374e84f-c975-4349-8ff4-0fef7b384a85":{"uid":"e374e84f-c975-4349-8ff4-0fef7b384a85","_state":{"style":{"default":{"width":"100%","border":"1px solid #D1D5DB","cursor":"pointer","height":"48px","padding":"0 16px","aspectRatio":"unset","borderRadius":"8px","animationDuration":"1000ms"},"_wwHover_default":{"border":"1px solid #7B818A"}},"states":[{"id":"_wwHover","label":"hover"}]},"content":{"default":{"children":[{"uid":"cd580bf3-ec29-4dc8-a0f4-013096fa8224","isWwObject":true},{"uid":"3f15142a-aa3f-41fe-bc2a-f4deb00419b7","isWwObject":true}],"_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"space-between"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"cd580bf3-ec29-4dc8-a0f4-013096fa8224":{"uid":"cd580bf3-ec29-4dc8-a0f4-013096fa8224","_state":{"style":{"default":{"width":"100%"}}},"content":{"default":{"tag":"p","_ww-text_text":{"de":{"code":"const time = context.component?.variables?.['bdf0c633-ac6a-4a0c-9b0b-12034552f0d3-value'];\r\nconst hour = time?.['hours'];\r\nconst minute = time?.['minutes'];\r\n\r\nif (hour == null || minute == null) {\r\n  return 'Zeit w√§hlen';\r\n}\r\n\r\nconst paddedHour = String(hour).padStart(2, '0');\r\nconst paddedMinute = String(minute).padStart(2, '0');\r\n\r\nreturn `${paddedHour}:${paddedMinute}`;\r\n","__wwtype":"js"},"en":{"code":"const time = context.component?.variables?.['bdf0c633-ac6a-4a0c-9b0b-12034552f0d3-value'];\r\nconst hour = time?.['hours'];\r\nconst minute = time?.['minutes'];\r\n\r\nif (hour == null || minute == null) {\r\n  return 'Pick a time';\r\n}\r\n\r\nconst paddedHour = String(hour).padStart(2, '0');\r\nconst paddedMinute = String(minute).padStart(2, '0');\r\n\r\nreturn `${paddedHour}:${paddedMinute}`;\r\n","__wwtype":"js"}}}},"name":null,"wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"25f09605-622b-4753-9880-42f9f59648f1":{"uid":"25f09605-622b-4753-9880-42f9f59648f1","_state":{"style":{"default":{"width":"100%"}},"states":[],"interactions":[{"id":"6d0fe393-e770-4025-adb1-8153322db00f","name":"Update Student ID","actions":{"action_ia_id":{"id":"action_ia_id","code":"const formData = {...variables['840b0dde-721f-4173-a6bb-83b4a67a977f']};\nformData.absence.studentId = event.value;\nvariables['840b0dde-721f-4173-a6bb-83b4a67a977f'] = formData;","type":"custom-js"}},"trigger":"change","description":"Updates the student ID in the form data","firstAction":"action_ia_id"}]},"content":{"default":{"side":"bottom","align":"start","choices":{"code":"collections['d62b8548-7f35-4a50-a1b3-fd77bb8879a2']?.['data']","__wwtype":"f","defaultValue":[{"label":"John Smith","value":"1"},{"label":"Emma Johnson","value":"2"},{"label":"Michael Brown","value":"3"},{"label":"Sophia Davis","value":"4"}]},"offsetX":"0px","offsetY":"8px","disabled":false,"readonly":false,"required":true,"autoFocus":true,"fieldName":"","chipBorder":{"code":"[{\"label\":\"Option 1\",\"value\":\"opt1\"},{\"label\":\"Option 2\",\"value\":\"opt2\"}]","__wwtype":"f"},"optionIcon":null,"selectType":"single","showSearch":true,"validation":"","zIndexOpen":2,"boundOffset":"0px","chipBgColor":"#363636","chipPadding":"2px 8px","placeholder":{"de":"Kind/er w√§hlen","en":"Select a student"},"searchWidth":"100%","chipFontSize":"14px","chipIconSize":"14px","initialState":"closed","mappingLabel":{"code":"context.mapping?.['first_name']+\" \"+context.mapping?.['last_name']+\" \"+context.mapping?.['class_name']","type":"f"},"mappingValue":{"code":"context.mapping?.['profile_id']","type":"f"},"optionCursor":"pointer","searchBorder":false,"searchMargin":"0 0 8px 0","chipFontColor":"white","chipIconColor":"white","closeOnSelect":true,"dropdownWidth":{"code":"context.local.data?.['select']?.['select']?.['utils']?.['triggerWidth']+'px'","__wwtype":"f"},"manualTrigger":false,"optionPadding":"8px 16px","optionSpacing":"0px","searchBgColor":"#FAFAFA","searchPadding":"8px 16px","selectOnClick":true,"triggerBorder":false,"triggerHeight":"40px","triggerMargin":"0px","chipFontWeight":null,"dropdownBorder":false,"emptyStateText":{"en":"No results found","fr":"Aucun r√©sultat trouv√©"},"optionFontSize":"14px","optionIconSize":"12px","searchFontSize":"14px","triggerBgColor":"#FFFFFF","triggerPadding":"0 16px","triggerShadows":"","dropdownBgColor":"#FFFFFF","dropdownPadding":"8px 0","dropdownShadows":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)","initValueSingle":null,"mappingDisabled":{"code":"false","type":"f"},"optionFontColor":"#374151","optionIconColor":"#3B82F6","searchBorderAll":"1px solid #A3A3A3","searchFontColor":"black","triggerIconOpen":null,"triggerIconSize":"16px","unselectOnClick":false,"chipBorderRadius":"4px","customValidation":false,"optionFontWeight":null,"searchFontWeight":null,"selectedFontSize":"14px","triggerBorderAll":"1px solid #D1D5DB","triggerIconClose":null,"triggerIconColor":"#6B7280","dropdownBorderAll":"1px solid #B0B0B0","dropdownMaxHeight":"400px","emptyStatePadding":"0px","searchPlaceholder":{"en":"Search","fr":"Rechercher"},"selectedFontColor":"#111827","selectedTextAlign":"left","emptyStateFontSize":"14px","optionBgColorHover":"#F3F4F6","optionBorderRadius":"4px","searchBorderBottom":"1px solid #E5E7EB","searchBorderRadius":"4px","selectedFontWeight":null,"closeOnClickOutside":true,"emptyStateFontColor":"black","emptyStateTextAlign":"center","placeholderFontSize":"14px","triggerBorderRadius":"8px","virtualScrollBuffer":600,"dropdownBorderRadius":"8px","emptyStateFontWeight":null,"optionBgColorFocused":"#f5f5f5","placeholderFontColor":"#9CA3AF","placeholderTextAlign":"left","placeholderFontWeight":null,"allowScrollingWhenOpen":true,"searchPlaceholderColor":"#9CA3AF","virtualScrollMinItemSize":40}},"name":"Absence Student Select","wwObjectBaseId":"6145eb60-0af8-4e52-bcc6-dc0f6743654e","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"f5ec19b6-4f8d-4239-bf60-2822e7d5502a":{"uid":"f5ec19b6-4f8d-4239-bf60-2822e7d5502a","_state":{},"content":{"default":{"lang":"pageLang","use24":true,"format":"HH:mm","readonly":false,"required":false,"autoApply":true,"triggerZone":[{"uid":"9655385b-7705-41b9-9f86-b6a4250bc17d","isWwObject":true}],"customFormat":"","menuPosition":"center","enableSeconds":false,"themeCellSize":"35px","themeFontSize":"16px","advancedColors":false,"advancedStyles":false,"themeIconColor":"#959595","themeTextColor":"#212121","initValueSingle":{"code":"return{\r\n  \"hours\": 8,\r\n  \"minutes\": 0,\r\n  \"seconds\": 0\r\n}","__wwtype":"js","defaultValue":"08:00:00"},"themeHoverColor":"#f3f3f3","closeOnAutoApply":true,"themeBorderColor":"#ddd","themeCellPadding":"5px","themeDangerColor":"#ff6f60","stickedTimePicker":false,"themeBorderRadius":"4px","themeMenuMinWidth":"250px","themePrimaryColor":"#1976d2","themeSuccessColor":"#76d275","themeTimeFontSize":"32px","themeDisabledColor":"#f6f6f6","actionSelectElement":{"uid":"57c16f25-f911-4c19-b03b-21a49021f451","isWwObject":true},"themeHighlightColor":"#1976d219","themeHoverIconColor":"#959595","themeHoverTextColor":"#212121","themeScrollBarColor":"#959595","themeSecondaryColor":"#c0c4cc","themeBackgroundColor":"#ffffff","themeMenuBorderColor":"#ddd","themeBorderHoverColor":"#aaaeb7","themeCellBorderRadius":"4px","themePrimaryTextColor":"#f8f5f5","themeSuccessDisabledColor":"#a3d9b1","themeScrollBarBackgroundColor":"#f3f3f3"}},"name":"timepicker start","wwObjectBaseId":"5b94cfa1-02b5-4440-9ba3-f97c56f3160e","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"bdf0c633-ac6a-4a0c-9b0b-12034552f0d3":{"uid":"bdf0c633-ac6a-4a0c-9b0b-12034552f0d3","_state":{},"content":{"default":{"lang":"pageLang","use24":true,"format":"HH:mm","readonly":false,"required":false,"autoApply":true,"triggerZone":[{"uid":"e374e84f-c975-4349-8ff4-0fef7b384a85","isWwObject":true}],"customFormat":"","menuPosition":"center","enableSeconds":false,"themeCellSize":"35px","themeFontSize":"16px","advancedColors":false,"advancedStyles":false,"themeIconColor":"#959595","themeTextColor":"#212121","initValueSingle":{"code":"return{\r\n  \"hours\": 9,\r\n  \"minutes\": 0,\r\n  \"seconds\": 0\r\n}","__wwtype":"js","defaultValue":null},"themeHoverColor":"#f3f3f3","closeOnAutoApply":true,"themeBorderColor":"#ddd","themeCellPadding":"5px","themeDangerColor":"#ff6f60","stickedTimePicker":false,"themeBorderRadius":"4px","themeMenuMinWidth":"250px","themePrimaryColor":"#1976d2","themeSuccessColor":"#76d275","themeTimeFontSize":"32px","themeDisabledColor":"#f6f6f6","actionSelectElement":{"uid":"05003b44-3816-4b22-b2aa-ed042fc7e5d3","isWwObject":true},"themeHighlightColor":"#1976d219","themeHoverIconColor":"#959595","themeHoverTextColor":"#212121","themeScrollBarColor":"#959595","themeSecondaryColor":"#c0c4cc","themeBackgroundColor":"#ffffff","themeMenuBorderColor":"#ddd","themeBorderHoverColor":"#aaaeb7","themeCellBorderRadius":"4px","themePrimaryTextColor":"#f8f5f5","themeSuccessDisabledColor":"#a3d9b1","themeScrollBarBackgroundColor":"#f3f3f3"}},"name":"time picker end","wwObjectBaseId":"5b94cfa1-02b5-4440-9ba3-f97c56f3160e","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"1ff5b162-a937-4c8d-93d8-f8f8c27c0b9b":{"uid":"1ff5b162-a937-4c8d-93d8-f8f8c27c0b9b","_state":{"style":{"default":{"flex":"0 1 auto","align":"center","cursor":"pointer","display":"block","padding":"12px 16px","borderTop":"0px","borderLeft":"0px","transition":"all 0.2s ease","borderRight":"0px","borderBottom":"5px solid #00000000","borderRadius":"8px 8px 0 0","backgroundColor":"#F3F4F6"},"AW0E58_default":{"borderTop":"0px","borderLeft":"0px","borderRight":"0px","borderBottom":"5px solid #3a82f6","backgroundColor":"#FFFFFF"}},"states":[{"id":"AW0E58","label":"active","isAppliedToChidlrenElements":true}],"interactions":[]},"content":{"default":{"children":[{"uid":"1c9a927e-41d0-4746-a93d-326f667272a0","isWwObject":true}]},"AW0E58_default":{}},"name":"Absence Tab Header","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"e6cbe8d0-7924-426d-b481-36d28125d935"},"1c000ea8-a1c2-403a-83d5-849c4d11c63c":{"uid":"1c000ea8-a1c2-403a-83d5-849c4d11c63c","_state":{"style":{"default":{"margin":"0 0 0 8px"}}},"content":{"default":{"icon":"icon-chevron-right","color":"#FFFFFF","fontSize":16}},"name":null,"wwObjectBaseId":"83d890fb-84f9-4386-b459-fb4be89a8e15","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"3f1c666b-f0bc-49c9-bc79-7e4b33b15917":{"uid":"3f1c666b-f0bc-49c9-bc79-7e4b33b15917","_state":{"style":{"default":{"flex":"1 0 auto","align":"center","width":"100%","display":"flex","customCss":{}}},"states":[],"interactions":[]},"content":{"default":{"children":[{"uid":"dbcb674f-6ac3-43aa-929d-584f985e0688","isWwObject":true},{"uid":"b4d15e1b-eba1-4935-b1bf-904c9fcf4bfb","isWwObject":true},{"uid":"8a45b50e-261a-499f-ba1e-8f0e8d4e14cf","isWwObject":true},{"uid":"e028ddcd-10d2-4a8a-bd56-430fa0d26c83","isWwObject":true}],"_ww-layout_rowGap":"10px","_ww-layout_columnGap":"10px","_ww-layout_flexDirection":"column","_ww-layout_justifyContent":"center"}},"name":"Student info","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"8a45b50e-261a-499f-ba1e-8f0e8d4e14cf":{"uid":"8a45b50e-261a-499f-ba1e-8f0e8d4e14cf","_state":{"style":{"default":{"flex":"1 0 auto","margin":"0 0 20px 0"}}},"content":{"default":{"children":[{"uid":"af0c86bc-cbed-4f66-aba9-966e8166e247","isWwObject":true},{"uid":"c04c91b8-e51e-4d65-ad26-dbc7edcbd4cf","isWwObject":true}],"_ww-layout_rowGap":"5px","_ww-layout_flexDirection":"column"}},"name":"Relationship Field","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"dbcb674f-6ac3-43aa-929d-584f985e0688":{"uid":"dbcb674f-6ac3-43aa-929d-584f985e0688","_state":{"style":{"default":{"width":"100%","margin":"0 0 20px 0"}}},"content":{"default":{"children":[{"uid":"5271397e-9dde-42af-9470-7571808bee9a","isWwObject":true},{"uid":"fcc7fc66-7300-483b-a611-2dc12e9ad065","isWwObject":true}],"_ww-layout_reverse":false,"_ww-layout_flexWrap":true,"_ww-layout_pushLast":false,"_ww-layout_alignItems":"flex-start","_ww-layout_flexDirection":"column","_ww-layout_justifyContent":"center"}},"name":"Code Field","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"e028ddcd-10d2-4a8a-bd56-430fa0d26c83":{"uid":"e028ddcd-10d2-4a8a-bd56-430fa0d26c83","_state":{"style":{"default":{"align":"flex-start","width":"100%","border":"1px solid #2563EB","cursor":"pointer","height":"40px","margin":"16px 0 0 0","padding":"0px 16px","maxWidth":"auto","boxShadow":"0px 1px 1px 0px #27272A05","borderRadius":"8px","backgroundColor":"#2563EB"},"_wwHover_default":{"backgroundColor":"#1D4ED8"}},"states":[{"id":"_wwHover","label":"Hover"}]},"content":{"default":{"disabled":false,"leftIcon":{"uid":"609fa53a-4824-42ab-acea-0bd221bfac4f","isWwObject":true},"fontStyle":"ww-font-style-text","rightIcon":{"uid":"1c000ea8-a1c2-403a-83d5-849c4d11c63c","isWwObject":true},"buttonType":"submit","globalStyle":{},"hasLeftIcon":false,"hasRightIcon":false,"_ww-text_font":null,"_ww-text_text":{"en":"<div>Validate and link</div>"},"_ww-text_color":"#FFFFFF","_ww-text_nowrap":false,"backgroundColor":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"14px","_ww-text_textAlign":"","_ww-text_fontFamily":"'Inter', sans-serif","_ww-text_fontWeight":500,"_ww-text_lineHeight":"20px","_ww-text_textShadow":"","_ww-text_wordSpacing":"","_ww-text_letterSpacing":"0px","_ww-text_textTransform":"","_ww-text_textDecoration":"none","_ww-text_textDecorationStyle":"solid"}},"name":"Primary button","wwObjectBaseId":"6f8796b1-8273-498d-95fc-7013b7c63214","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"fcc7fc66-7300-483b-a611-2dc12e9ad065":{"uid":"fcc7fc66-7300-483b-a611-2dc12e9ad065","_state":{"style":{"default":{"width":"100%","border":"1px solid #D4D4D8","height":"38px","margin":"0px 0px 0px 0px","padding":"0px 0px 0px 12px","borderRadius":"8px"}}},"content":{"default":{"max":10000,"min":0,"cols":10,"rows":4,"step":1,"type":"text","color":"#000000","value":"","resize":false,"maxDate":"","minDate":"","debounce":false,"fontSize":"15px","readonly":false,"required":true,"isTooltip":true,"precision":"0.1","fontFamily":"","hideArrows":false,"transition":"400ms","placeholder":{"de":"Zugangscode ","en":"Enter your code"},"autocomplete":false,"debounceDelay":"500ms","timePrecision":1,"forceAnimation":false,"timingFunction":"cubic-bezier(0, 1.08, 0.76, 1)","_ww-text_nowrap":false,"displayPassword":false,"animationTrigger":"input","placeholderColor":"var(--90c16692-2f90-421f-8214-a766bf2842a6,#A1A1AA)","_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","placeholderElement":{"uid":"f58e8f6d-e8e7-48a9-a2b8-2132f13d72e2","isWwObject":true},"placeholderScaling":0.8,"_ww-text_fontWeight":400,"_ww-text_lineHeight":"24px","advancedPlaceholder":false,"placeholderPosition":"outside","_ww-text_wordSpacing":"0px","positioningAjustment":"0px","_ww-text_letterSpacing":"0px","_ww-text_textDecoration":"none","_ww-text_textDecorationStyle":"solid"}},"name":"Code Input","wwObjectBaseId":"aeb78b9a-6fb6-4c49-931d-faedcfad67ba","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"0ef0b2cb-28ab-469c-8139-c3b7315a50ac":{"uid":"0ef0b2cb-28ab-469c-8139-c3b7315a50ac","_state":{"style":{"default":{"align":"center","width":"100%","margin":"48px 0 0 0"}},"interactions":[{"id":"4b1610a5-d724-478e-a639-a1e519489ac0","icon":"cursor","name":"Untitled workflow","index":0,"actions":{"34117bbc-d413-4759-b840-77082ef0c816":{"id":"34117bbc-d413-4759-b840-77082ef0c816","type":"_wwLocalMethod_popup.close"},"40926264-0bfc-41b2-828a-ffc7a31293d5":{"id":"40926264-0bfc-41b2-828a-ffc7a31293d5","next":"34117bbc-d413-4759-b840-77082ef0c816","type":"fetch-collections","collectionsId":["b2401a50-b8b7-4e37-a9fd-94c2e3722469",null]},"687460cc-6144-4f2c-9792-038bbe1957f1":{"id":"687460cc-6144-4f2c-9792-038bbe1957f1","next":"40926264-0bfc-41b2-828a-ffc7a31293d5","type":"execute-workflow:e3e9d329-0a4b-41b0-a358-abe6ed77fec4","parameters":{"input_code":{"code":"context.component?.variables?.['fcc7fc66-7300-483b-a611-2dc12e9ad065-value']","__wwtype":"f"},"relationship":{"code":"context.component?.variables?.['c04c91b8-e51e-4d65-ad26-dbc7edcbd4cf-value']","__wwtype":"f"},"child_date_of_birth":{"code":"return context.component?.variables?.['a3aa9a08-b37a-4637-938f-5e3246c758f2-value']?.split('T')[0]\r\n","__wwtype":"js"}}}},"trigger":"submit","isSearched":false,"description":"On click","firstAction":"687460cc-6144-4f2c-9792-038bbe1957f1","firstErrorAction":null,"triggerConditions":null}]},"content":{"default":{"formContent":[{"uid":"3f1c666b-f0bc-49c9-bc79-7e4b33b15917","isWwObject":true}],"autocomplete":true}},"name":null,"wwObjectBaseId":"69d0b3ef-b265-494c-8cd1-874da4aa1834","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"16800884-37fb-404d-9eb6-9062a48632f0":{"uid":"16800884-37fb-404d-9eb6-9062a48632f0","_state":{"name":"Select button","style":{}},"content":{"default":{"disabled":false,"buttonType":"button","_ww-text_text":"Select","_ww-text_nowrap":false,"_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false,"_ww-text_fontWeight":"initial","_ww-text_wordSpacing":"0px","_ww-text_letterSpacing":"0px","_ww-text_textTransform":"none","_ww-text_textDecoration":"none","_ww-text_textDecorationStyle":"solid"}},"name":"Select button","wwObjectBaseId":"6f8796b1-8273-498d-95fc-7013b7c63214","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"2f7fc272-89fe-46d8-b465-f674429a0f77":{"uid":"2f7fc272-89fe-46d8-b465-f674429a0f77","_state":{"style":{"default":{"width":"100%","height":"38px","padding":"0 12px"}}},"content":{"default":{"children":[{"uid":"e173dba2-4b9e-4ee3-bfbf-f8cc1aabed66","isWwObject":true},{"uid":"f6ecc1d5-3c15-4977-9069-ab0ee8625f6e","isWwObject":true}],"_ww-layout_reverse":false,"_ww-layout_flexWrap":true,"_ww-layout_pushLast":false,"_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"space-between"}},"name":"Placeholder container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"f6ecc1d5-3c15-4977-9069-ab0ee8625f6e":{"uid":"f6ecc1d5-3c15-4977-9069-ab0ee8625f6e","_state":{"style":{"default":{"width":"auto","height":"auto","padding":"0px","customCss":{"width":"max-content"},"transform":"translate3d(0px,0px,0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg)","borderRadius":"auto"}}},"content":{"default":{"icon":"icon-calendar","color":"#6E6E6E","fontSize":24}},"name":null,"wwObjectBaseId":"83d890fb-84f9-4386-b459-fb4be89a8e15","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"e173dba2-4b9e-4ee3-bfbf-f8cc1aabed66":{"uid":"e173dba2-4b9e-4ee3-bfbf-f8cc1aabed66","_state":{"name":"Date input","style":{}},"content":{"default":{"tag":"p","_ww-text_text":{"en":{"code":"context.item.data['preview']||\"Select a date\"","__wwtype":"f","defaultValue":"<div>Select a date</div>"}},"_ww-text_nowrap":false,"_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false,"_ww-text_wordSpacing":"0px","_ww-text_letterSpacing":"0px","_ww-text_textDecoration":"none","_ww-text_textDecorationStyle":"solid"}},"name":"Placeholder","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"a3aa9a08-b37a-4637-938f-5e3246c758f2":{"uid":"a3aa9a08-b37a-4637-938f-5e3246c758f2","_state":{"style":{"default":{"border":"1px solid #d1d5db","cursor":"pointer","padding":"0px 0px"}}},"content":{"default":{"lang":"pageLang","use24":false,"format":"custom","maxDate":"","minDate":"","dateMode":"datetime","maxRange":7,"minRange":2,"readonly":false,"required":false,"timezone":"locale","autoApply":true,"autoRange":1,"flowSteps":["month","year","calendar","time","minutes","hours","seconds"],"rangeMode":"free","startDate":"","weekStart":"1","enableFlow":false,"orientation":"horizontal","triggerZone":[{"uid":"2f7fc272-89fe-46d8-b465-f674429a0f77","isWwObject":true}],"weekNumbers":"none","allowedDates":[],"customFormat":"DD.MM.YYYY","menuPosition":"center","advancedDates":true,"closeOnScroll":false,"disabledDates":[],"enableSeconds":false,"selectionMode":"single","themeCellSize":"35px","themeFontSize":"16px","advancedColors":false,"advancedStyles":false,"initValueMulti":null,"multiCalendars":2,"themeIconColor":"#959595","themeTextColor":"#212121","calendarOnlyFit":"stretch","hideOffsetDates":false,"initValueSingle":null,"leftSidebarZone":[],"multiDatesLimit":0,"noDisabledRange":false,"themeHoverColor":"#f3f3f3","closeOnAutoApply":true,"disabledWeekDays":[],"rightSidebarZone":[],"themeBorderColor":"#ddd","themeCellPadding":"5px","themeDangerColor":"#ff6f60","enableLeftSidebar":false,"initValueRangeEnd":null,"stickedDatePicker":false,"themeBorderRadius":"4px","themeMenuMinWidth":"250px","themePrimaryColor":"#1976d2","themeSuccessColor":"#76d275","themeTimeFontSize":"32px","enableCalendarOnly":false,"enablePartialRange":false,"enableRightSidebar":false,"multiCalendarsSolo":false,"themeDisabledColor":"#f6f6f6","actionSelectElement":{"uid":"16800884-37fb-404d-9eb6-9062a48632f0","isWwObject":true},"initValueRangeStart":null,"themeHighlightColor":"#1976d219","themeHoverIconColor":"#959595","themeHoverTextColor":"#212121","themeScrollBarColor":"#959595","themeSecondaryColor":"#c0c4cc","enableMultiCalendars":false,"ignoreTimeValidation":false,"themeBackgroundColor":"#ffffff","themeMenuBorderColor":"#ddd","themePreviewFontSize":"13px","themeBorderHoverColor":"#aaaeb7","themeCellBorderRadius":"4px","themePrimaryTextColor":"#f8f5f5","disableMonthYearSelect":false,"preventMinMaxNavigation":false,"themeSuccessDisabledColor":"#a3d9b1","themeScrollBarBackgroundColor":"#f3f3f3"}},"name":"Date and Time picker","wwObjectBaseId":"985570fc-b3c0-4566-8004-82ab3b30a11d","libraryComponentBaseId":null,"parentLibraryComponentId":"1d005943-01c6-49c5-8a4e-71dde5c02a42"},"816a66a2-1723-4afd-b93d-93eb54dd8bd8":{"uid":"816a66a2-1723-4afd-b93d-93eb54dd8bd8","_state":{"style":{"default":{"width":"auto","height":"auto","padding":"0px","customCss":{"width":"max-content"},"transform":"translate3d(0px,0px,0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg)","borderRadius":"auto"}}},"content":{"default":{"icon":"icon-calendar","color":"#6E6E6E","fontSize":24}},"name":null,"wwObjectBaseId":"83d890fb-84f9-4386-b459-fb4be89a8e15","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"feb4ee20-754f-4b8b-b33c-3c4930f549df":{"uid":"feb4ee20-754f-4b8b-b33c-3c4930f549df","_state":{"name":"Select button","style":{}},"content":{"default":{"disabled":false,"buttonType":"button","_ww-text_text":"Select","_ww-text_nowrap":false,"_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false,"_ww-text_fontWeight":"initial","_ww-text_wordSpacing":"0px","_ww-text_letterSpacing":"0px","_ww-text_textTransform":"none","_ww-text_textDecoration":"none","_ww-text_textDecorationStyle":"solid"}},"name":"Select button","wwObjectBaseId":"6f8796b1-8273-498d-95fc-7013b7c63214","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"263b2a06-5514-4bfd-89a5-c5baf896d76f":{"uid":"263b2a06-5514-4bfd-89a5-c5baf896d76f","_state":{"style":{"default":{"width":"100%","height":"30px","padding":"0 12px"}}},"content":{"default":{"children":[{"uid":"75d76340-f95d-4ceb-8dff-42380dbc497e","isWwObject":true},{"uid":"816a66a2-1723-4afd-b93d-93eb54dd8bd8","isWwObject":true}],"_ww-layout_reverse":false,"_ww-layout_flexWrap":true,"_ww-layout_pushLast":false,"_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"space-between"}},"name":"Placeholder container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"82f573f2-ee95-4500-8e2c-35be090e5e61":{"uid":"82f573f2-ee95-4500-8e2c-35be090e5e61","_state":{"style":{"default":{"gridRow":"2","gridColumn":"2"}}},"content":{"default":{"children":[{"uid":"293a0cc9-1342-41fe-84fd-9dd3eb102e10","isWwObject":true},{"uid":"5675cb8a-b711-4294-8a92-9412e9b2256a","isWwObject":true}],"_ww-layout_rowGap":"10px","_ww-layout_columnGap":"10px","_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"flex-start"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"0ecdfd8c-9a2a-49fc-88f4-58112bed22f0":{"uid":"0ecdfd8c-9a2a-49fc-88f4-58112bed22f0","_state":{"style":{"default":{"width":"25px","gridRow":"2","gridColumn":"1"}}},"content":{"default":{"icon":"phosphor-bold/repeat-bold"}},"name":"Icon","wwObjectBaseId":"1b1e2173-9b78-42cc-a8ee-a6167caea340","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"967b83d8-a716-4bab-bbd3-038fea5abbad":{"uid":"967b83d8-a716-4bab-bbd3-038fea5abbad","_state":{"style":{"default":{"gridRow":"5","gridColumn":"2"}}},"content":{"default":{"children":[{"uid":"9d3e4cc0-4a9d-4d72-a259-372a92023f78","isWwObject":true},{"uid":"f68d417b-c02c-4a11-ab95-e5c1e4fc9d1a","isWwObject":true},{"uid":"4dd0e32c-fcf4-4e72-9e0e-ef9d0862e91b","isWwObject":true},{"uid":"8e51cda6-909d-4daa-ba13-4f3ac00b9b38","isWwObject":true},{"uid":"0c10f04f-a7f5-4ffa-9d4e-760fe0ab4b8e","isWwObject":true}],"_ww-layout_rowGap":"10px","_ww-layout_columnGap":"10px","_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"space-between"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"810988ed-fe7b-47cc-86f3-dca7197ec0a3":{"uid":"810988ed-fe7b-47cc-86f3-dca7197ec0a3","_state":{"style":{}},"content":{"default":{"children":[{"uid":"1cba7456-f139-4099-8076-92bcaf5e8f1d","isWwObject":true},{"uid":"8be96b95-1bde-4084-bf26-3e01a01922fb","isWwObject":true}],"_ww-layout_rowGap":"10px","_ww-layout_columnGap":"10px","_ww-layout_flexDirection":"row"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"3b137471-174f-45b9-91f6-2348a35117bf":{"uid":"3b137471-174f-45b9-91f6-2348a35117bf","_state":{"style":{"default":{"margin":"0 0 0 4px"}}},"content":{"default":{"tag":"p","_ww-text_text":{"en":"New text"},"_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false}},"name":"Option","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"91d0a0ab-d3b3-4f4a-b967-5a69f83e07e9":{"uid":"91d0a0ab-d3b3-4f4a-b967-5a69f83e07e9","_state":{"style":{"default":{"gridRow":"3","gridColumn":"2"}}},"content":{"default":{"children":[{"uid":"1a00dae6-7e84-4691-a8a8-b9c47b62a141","isWwObject":true},{"uid":"b5c1713d-d964-498f-858b-5bf023dcd02f","isWwObject":true}],"_ww-layout_flexDirection":"column"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"1a00dae6-7e84-4691-a8a8-b9c47b62a141":{"uid":"1a00dae6-7e84-4691-a8a8-b9c47b62a141","_state":{"style":{"default":{"align":"center","width":"100%","display":{"code":"return (\r\n  context.component?.variables?.['8be96b95-1bde-4084-bf26-3e01a01922fb-value'] === \"week\" ||\r\n  (\r\n    context.component?.variables?.['1cba7456-f139-4099-8076-92bcaf5e8f1d-value'] === 1 &&\r\n    context.component?.variables?.['8be96b95-1bde-4084-bf26-3e01a01922fb-value'] === \"day\"\r\n  )\r\n);\r\n","__wwtype":"js","defaultValue":"flex"},"maxWidth":"940px"}},"dynamicConfiguration":{"content":{"children":[{"key":"label","type":"Text"},{"key":"value","type":"Text"}]}}},"content":{"default":{"children":{"code":"collections['9750c008-5b3f-4bd0-8402-d792ff4b5b3c']?.['data']","__wwtype":"f","repeatable":[{"uid":"d4daf8cb-a1f7-4b21-8a82-9fb77c7a8e24","isWwObject":true}],"defaultValue":[]},"_ww-layout_rowGap":"10px","_ww-layout_columnGap":"10px","_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"center"}},"name":"Container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"b5c1713d-d964-498f-858b-5bf023dcd02f":{"uid":"b5c1713d-d964-498f-858b-5bf023dcd02f","_state":{"style":{"default":{"align":"center","width":"100%","display":"flex","maxWidth":"940px"}},"dynamicConfiguration":{"content":{"children":[{"key":"label","type":"Text"},{"key":"value","type":"Text"}]}}},"content":{"default":{"children":[{"uid":"3512fa21-5d38-4948-ba14-2b92e6686d64","isWwObject":true}],"_ww-layout_rowGap":"10px","_ww-layout_columnGap":"10px","_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"center"}},"name":"Container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"7c686f20-bb7e-4161-892e-ece2b170d948":{"uid":"7c686f20-bb7e-4161-892e-ece2b170d948","_state":{"style":{"default":{"align":"center","width":"100px","display":"block","gridRow":"1","rowSpan":"","textAlign":null,"columnSpan":"","gridColumn":"1"}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_text":{"en":"<div>Start</div>"},"transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"14px","_ww-text_sanitize":false}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"34873434-dff9-4ac9-a825-cdada85ca709":{"uid":"34873434-dff9-4ac9-a825-cdada85ca709","_state":{"style":{}},"content":{"default":{"children":[{"uid":"7c686f20-bb7e-4161-892e-ece2b170d948","isWwObject":true},{"uid":"238320d2-a07c-4c44-b183-a758d99d4853","isWwObject":true}],"_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"center"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"0077b432-6742-4503-8455-34c483a8dab7":{"uid":"0077b432-6742-4503-8455-34c483a8dab7","_state":{"style":{"default":{"display":{"code":"return context.component?.variables?.['8be96b95-1bde-4084-bf26-3e01a01922fb-value'] !== \"day\";\r\n","__wwtype":"js","defaultValue":true},"gridRow":"4","gridColumn":"1"}}},"content":{"default":{"children":[{"uid":"eae39fde-60be-4b3e-a272-ff72f72faa97","isWwObject":true},{"uid":"23abc534-5782-444d-9476-89b57f76ca79","isWwObject":true}],"_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"space-between"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"aa56e465-64d5-4eea-b83e-30c9fbee6d64":{"uid":"aa56e465-64d5-4eea-b83e-30c9fbee6d64","_state":{"name":"Select button","style":{}},"content":{"default":{"disabled":false,"buttonType":"button","_ww-text_text":"Select","_ww-text_nowrap":false,"_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false,"_ww-text_fontWeight":"initial","_ww-text_wordSpacing":"0px","_ww-text_letterSpacing":"0px","_ww-text_textTransform":"none","_ww-text_textDecoration":"none","_ww-text_textDecorationStyle":"solid"}},"name":"Select button","wwObjectBaseId":"6f8796b1-8273-498d-95fc-7013b7c63214","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"bdb60640-464f-4a79-a29c-ad97e1275b70":{"uid":"bdb60640-464f-4a79-a29c-ad97e1275b70","_state":{"style":{"default":{"width":"100%","height":"30px","padding":"0 12px"}}},"content":{"default":{"children":[{"uid":"61543631-667e-458c-8634-e8e8a519fe02","isWwObject":true},{"uid":"f94e6366-bfb0-4dde-a0bd-3da20159f229","isWwObject":true}],"_ww-layout_reverse":false,"_ww-layout_flexWrap":true,"_ww-layout_pushLast":false,"_ww-layout_alignItems":"center","_ww-layout_flexDirection":"row","_ww-layout_justifyContent":"space-between"}},"name":"Placeholder container","wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"f94e6366-bfb0-4dde-a0bd-3da20159f229":{"uid":"f94e6366-bfb0-4dde-a0bd-3da20159f229","_state":{"style":{"default":{"width":"auto","height":"auto","padding":"0px","customCss":{"width":"max-content"},"transform":"translate3d(0px,0px,0px) rotateX(0deg) rotateY(0deg) rotateZ(0deg)","borderRadius":"auto"}}},"content":{"default":{"icon":"icon-calendar","color":"#6E6E6E","fontSize":24}},"name":null,"wwObjectBaseId":"83d890fb-84f9-4386-b459-fb4be89a8e15","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"238320d2-a07c-4c44-b183-a758d99d4853":{"uid":"238320d2-a07c-4c44-b183-a758d99d4853","_state":{"style":{"default":{"flex":"1 0 auto","border":"1px solid #d1d5db","cursor":"pointer","gridRow":"1","padding":"0px 0px","rowSpan":"","columnSpan":"","gridColumn":"2"}},"interactions":[{"id":"eb71c62b-0f94-4ff6-a5d1-4f12c31b8789","icon":"workflow","name":"Untitled workflow","index":0,"actions":{"b2d67980-945d-41d6-9e6c-c687916ad38f":{"id":"b2d67980-945d-41d6-9e6c-c687916ad38f","path":"startDate","type":"variable","varId":"5a384279-14a4-49d8-a236-ba57d8b89b3c","usePath":true,"internal":true,"varValue":{"code":"context.component?.variables?.['238320d2-a07c-4c44-b183-a758d99d4853-value']","__wwtype":"f"}}},"trigger":"change","isSearched":false,"description":"On change","firstAction":"b2d67980-945d-41d6-9e6c-c687916ad38f"}]},"content":{"default":{"lang":"pageLang","use24":false,"format":"custom","maxDate":{"code":"context.component?.variables?.['23abc534-5782-444d-9476-89b57f76ca79-value']","__wwtype":"f","defaultValue":""},"minDate":{"code":"pluginFormulas['832d6f7a-42c3-43f1-a3ce-9a678272f811']['date']()","__wwtype":"f","defaultValue":""},"dateMode":"date","maxRange":7,"minRange":2,"readonly":false,"required":false,"timezone":"locale","autoApply":true,"autoRange":1,"flowSteps":["month","year","calendar","time","minutes","hours","seconds"],"rangeMode":"free","startDate":"","weekStart":"1","enableFlow":false,"orientation":"horizontal","triggerZone":[{"uid":"263b2a06-5514-4bfd-89a5-c5baf896d76f","isWwObject":true}],"weekNumbers":"none","allowedDates":[],"customFormat":"DD.MM.YYYY","menuPosition":"center","advancedDates":true,"closeOnScroll":false,"disabledDates":[],"enableSeconds":false,"selectionMode":"single","themeCellSize":"35px","themeFontSize":"16px","advancedColors":false,"advancedStyles":false,"initValueMulti":null,"multiCalendars":2,"themeIconColor":"#959595","themeTextColor":"#212121","calendarOnlyFit":"stretch","hideOffsetDates":false,"initValueSingle":{"code":"return context.component?.props?.[/* start date */ 'bd0dd207-1578-4aac-a94a-0dddabaee70b']","__wwtype":"js","defaultValue":null},"leftSidebarZone":[],"multiDatesLimit":0,"noDisabledRange":false,"themeHoverColor":"#f3f3f3","closeOnAutoApply":true,"disabledWeekDays":[],"rightSidebarZone":[],"themeBorderColor":"#ddd","themeCellPadding":"5px","themeDangerColor":"#ff6f60","enableLeftSidebar":false,"initValueRangeEnd":null,"stickedDatePicker":false,"themeBorderRadius":"4px","themeMenuMinWidth":"250px","themePrimaryColor":"#1976d2","themeSuccessColor":"#76d275","themeTimeFontSize":"32px","enableCalendarOnly":false,"enablePartialRange":false,"enableRightSidebar":false,"multiCalendarsSolo":false,"themeDisabledColor":"#f6f6f6","actionSelectElement":{"uid":"feb4ee20-754f-4b8b-b33c-3c4930f549df","isWwObject":true},"initValueRangeStart":null,"themeHighlightColor":"#1976d219","themeHoverIconColor":"#959595","themeHoverTextColor":"#212121","themeScrollBarColor":"#959595","themeSecondaryColor":"#c0c4cc","enableMultiCalendars":false,"ignoreTimeValidation":false,"themeBackgroundColor":"#ffffff","themeMenuBorderColor":"#ddd","themePreviewFontSize":"13px","themeBorderHoverColor":"#aaaeb7","themeCellBorderRadius":"4px","themePrimaryTextColor":"#f8f5f5","disableMonthYearSelect":false,"preventMinMaxNavigation":false,"themeSuccessDisabledColor":"#a3d9b1","themeScrollBarBackgroundColor":"#f3f3f3"}},"name":"Date and Time picker start","wwObjectBaseId":"985570fc-b3c0-4566-8004-82ab3b30a11d","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"ead22cc2-07fe-47a6-adb9-65b46078b586":{"uid":"ead22cc2-07fe-47a6-adb9-65b46078b586","_state":{"style":{"default":{"width":"80%","display":"grid"}}},"content":{"default":{"children":[{"uid":"34873434-dff9-4ac9-a825-cdada85ca709","isWwObject":true},{"uid":"82f573f2-ee95-4500-8e2c-35be090e5e61","isWwObject":true},{"uid":"91d0a0ab-d3b3-4f4a-b967-5a69f83e07e9","isWwObject":true},{"uid":"0077b432-6742-4503-8455-34c483a8dab7","isWwObject":true},{"uid":"967b83d8-a716-4bab-bbd3-038fea5abbad","isWwObject":true}],"_ww-grid_rowGap":"10px","_ww-grid_columns":["20%","75%"],"_ww-layout_rowGap":"10px","_ww-grid_columnGap":"10px","_ww-layout_columnGap":"10px","_ww-layout_alignItems":"stretch","_ww-grid_flowDirection":"row","_ww-layout_flexDirection":"column"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"5675cb8a-b711-4294-8a92-9412e9b2256a":{"uid":"5675cb8a-b711-4294-8a92-9412e9b2256a","_state":{"style":{}},"content":{"default":{"children":[{"uid":"e77f4688-ab29-490a-a259-ae79abb1085f","isWwObject":true},{"uid":"810988ed-fe7b-47cc-86f3-dca7197ec0a3","isWwObject":true}],"_ww-layout_flexDirection":"row"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"293a0cc9-1342-41fe-84fd-9dd3eb102e10":{"uid":"293a0cc9-1342-41fe-84fd-9dd3eb102e10","_state":{"style":{"default":{"width":"100px"}}},"content":{"default":{"children":[{"uid":"0ecdfd8c-9a2a-49fc-88f4-58112bed22f0","isWwObject":true}],"_ww-layout_flexDirection":"column"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"6178a266-3d08-4a73-adbd-daedf32bb6a9":{"uid":"6178a266-3d08-4a73-adbd-daedf32bb6a9","_state":{"style":{"default":{"width":"20px","minWidth":"20px"}},"states":[{"id":"uyPXNG","label":"selected","condition":{"code":"wwFormulas.contains(variables['b6f40d10-857d-4735-9da0-3a4d34797b01']?.['weekDays'],context.item.data?.['day_number'])","__wwtype":"f"}}]},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_text":{"de":{"code":"return context.item.data?.['name_de']?.charAt(0) || '';\r\n","__wwtype":"js"},"en":{"code":"return context.item.data?.['name_en']?.charAt(0) || '';\r\n","__wwtype":"js","defaultValue":"<p>This is some text</p>"}},"transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false,"_ww-text_textAlign":"center","_ww-text_fontWeight":600},"uyPXNG_default":{"_ww-text_color":"#FFFFFF"}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"8be96b95-1bde-4084-bf26-3e01a01922fb":{"uid":"8be96b95-1bde-4084-bf26-3e01a01922fb","_state":{"style":{"default":{"width":"200px"}},"interactions":[{"id":"7cf538b6-ae73-431c-b8ed-a17dc8ac3c80","icon":"workflow","name":"Untitled workflow","index":0,"actions":{"0d1ae835-9885-4b43-8dd6-f73470a11a63":{"id":"0d1ae835-9885-4b43-8dd6-f73470a11a63","next":"db8fe5b8-9f81-4880-83d9-918bb86a89b2","type":"filter","value":{"code":"return variables['b6f40d10-857d-4735-9da0-3a4d34797b01']?.['repeatEveryUnit'] !== \"month\";\r\n","__wwtype":"js"}},"b2d67980-945d-41d6-9e6c-c687916ad38f":{"id":"b2d67980-945d-41d6-9e6c-c687916ad38f","next":"0d1ae835-9885-4b43-8dd6-f73470a11a63","path":"repeatEveryUnit","type":"variable","varId":"b6f40d10-857d-4735-9da0-3a4d34797b01","usePath":true,"internal":false,"varValue":{"code":"context.component?.variables?.['8be96b95-1bde-4084-bf26-3e01a01922fb-value']","__wwtype":"f"}},"db8fe5b8-9f81-4880-83d9-918bb86a89b2":{"id":"db8fe5b8-9f81-4880-83d9-918bb86a89b2","path":"monthlyText","type":"variable","varId":"b6f40d10-857d-4735-9da0-3a4d34797b01","usePath":true,"internal":false,"varValue":""}},"trigger":"change","isSearched":false,"description":"On change","firstAction":"b2d67980-945d-41d6-9e6c-c687916ad38f"}],"dynamicConfiguration":{"content":{"choices":[{"key":"Label en","type":"Text"},{"key":"Label de","type":"Text"}]}}},"content":{"default":{"side":"bottom","align":"start","choices":{"code":"return [\r\n  { label: \"Tag\", value: \"day\" },\r\n  { label: \"Woche\", value: \"week\" },\r\n  { label: \"Monat\", value: \"month\" },\r\n];\r\n","__wwtype":"js","defaultValue":[{"Label":"day","Label de":"tag","Label en":"day"},{"Label de":"woche","Label en":"week"},{"Label de":"monat","Label en":"month"},{"Label de":"jahr","Label en":"year"}]},"offsetX":"0px","offsetY":"8px","disabled":false,"readonly":false,"required":false,"autoFocus":true,"fieldName":"","chipBorder":{"code":"[{\"label\":\"Option 1\",\"value\":\"opt1\"},{\"label\":\"Option 2\",\"value\":\"opt2\"}]","__wwtype":"f"},"optionIcon":null,"selectType":"single","showSearch":false,"validation":"","zIndexOpen":2,"boundOffset":"0px","chipBgColor":"#363636","chipPadding":"2px 8px","placeholder":{"en":"Select a value"},"searchWidth":"100%","chipFontSize":"14px","chipIconSize":"14px","initialState":"closed","mappingLabel":{"code":"context.mapping?.['label']","type":"f"},"mappingValue":{"code":"context.mapping?.['value']","type":"f"},"optionCursor":"pointer","searchBorder":false,"searchMargin":"0px 0px 8px 0px","chipFontColor":"white","chipIconColor":"white","closeOnSelect":true,"dropdownWidth":{"code":"context.local.data?.['select']?.['select']?.['utils']?.['triggerWidth']+'px'","__wwtype":"f"},"manualTrigger":false,"optionBgColor":"white","optionPadding":"8px","optionSpacing":"0px","searchBgColor":"#FAFAFA","searchPadding":"8px 12px","selectOnClick":true,"triggerBorder":false,"triggerHeight":"25px","triggerMargin":"0px","chipFontWeight":null,"dropdownBorder":false,"emptyStateText":{"en":"No results found","fr":"Aucun r√©sultat trouv√©"},"optionFontSize":"14px","optionIconSize":"12px","triggerBgColor":"white","triggerPadding":"8px 8px","triggerShadows":"","dropdownBgColor":"#FFFFFF","dropdownPadding":"8px","dropdownShadows":"","initValueSingle":{"code":"variables['b6f40d10-857d-4735-9da0-3a4d34797b01']?.['repeatEveryUnit']","__wwtype":"f","defaultValue":"week"},"mappingDisabled":{"code":"false","type":"f"},"optionFontColor":"black","optionIconColor":"black","searchBorderAll":"1px solid #A3A3A3","searchFontColor":"black","triggerIconOpen":null,"triggerIconSize":"16px","unselectOnClick":false,"chipBorderRadius":"4px","customValidation":false,"optionFontWeight":null,"searchFontWeight":null,"selectedFontSize":"14px","triggerBorderAll":"1px solid #B0B0B0","triggerIconClose":null,"triggerIconColor":"black","dropdownBorderAll":"1px solid #B0B0B0","emptyStatePadding":"0px","searchPlaceholder":{"en":"Search","fr":"Rechercher"},"selectedFontColor":"#333","selectedTextAlign":"left","emptyStateFontSize":"14px","optionBgColorHover":"#f5f5f5","optionBorderRadius":"4px","searchBorderRadius":"4px","selectedFontWeight":null,"closeOnClickOutside":true,"emptyStateFontColor":"black","emptyStateTextAlign":"center","placeholderFontSize":"14px","triggerBorderRadius":"4px","virtualScrollBuffer":600,"dropdownBorderRadius":"4px","emptyStateFontWeight":null,"optionBgColorFocused":"#f5f5f5","placeholderFontColor":"#333","placeholderTextAlign":"left","placeholderFontWeight":null,"allowScrollingWhenOpen":false,"searchPlaceholderColor":"#737373","virtualScrollMinItemSize":40}},"name":"Select","wwObjectBaseId":"6145eb60-0af8-4e52-bcc6-dc0f6743654e","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"3512fa21-5d38-4948-ba14-2b92e6686d64":{"uid":"3512fa21-5d38-4948-ba14-2b92e6686d64","_state":{"style":{"default":{"display":{"code":"context.component?.variables?.['8be96b95-1bde-4084-bf26-3e01a01922fb-value']==\"month\"","__wwtype":"f","defaultValue":true}}},"interactions":[{"id":"89b4dd3d-b83d-44c9-8a2d-c72aa0f4c7f0","icon":"workflow","name":"Untitled workflow","index":0,"actions":{"b2d67980-945d-41d6-9e6c-c687916ad38f":{"id":"b2d67980-945d-41d6-9e6c-c687916ad38f","path":"monthlyText","type":"variable","varId":"b6f40d10-857d-4735-9da0-3a4d34797b01","usePath":true,"internal":false,"varValue":{"code":"context.component?.variables?.['3512fa21-5d38-4948-ba14-2b92e6686d64-value']","__wwtype":"f"}}},"trigger":"change","isSearched":false,"description":"On change","firstAction":"b2d67980-945d-41d6-9e6c-c687916ad38f"}]},"content":{"default":{"value":{"code":"context.component?.variables?.['5a384279-14a4-49d8-a236-ba57d8b89b3c']?.['monthlyText']","__wwtype":"f","defaultValue":""},"options":{"code":"const recurrence = context.component?.variables?.['5a384279-14a4-49d8-a236-ba57d8b89b3c'];\nconst startDate = recurrence?.startDate ? new Date(recurrence.startDate) : new Date();\n\nconst day = startDate.getDate();\nconst weekdayIndex = startDate.getDay();\nconst weekdayNames = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\nconst ordinals = [\"first\", \"second\", \"third\", \"fourth\", \"fifth\"];\n\nfunction getOrdinalSuffix(n) {\n  const j = n % 10, k = n % 100;\n  if (j === 1 && k !== 11) return n + \"st\";\n  if (j === 2 && k !== 12) return n + \"nd\";\n  if (j === 3 && k !== 13) return n + \"rd\";\n  return n + \"th\";\n}\n\nconst weekNumber = Math.floor((day - 1) / 7) + 1;\n\nreturn [\n  {\n    label: `On the ${getOrdinalSuffix(day)} of every month`,\n    value: \"day\"\n  },\n  {\n    label: `On the ${ordinals[weekNumber - 1]} ${weekdayNames[weekdayIndex]} of every month`,\n    value: \"weekday\"\n  }\n];\n","__wwtype":"js","defaultValue":[{"label":"Default","value":"default"},{"label":"Light","value":"light"}]},"flexWrap":true,"required":true,"direction":"column","alignItems":"flex-start","labelField":"['label']","valueField":"['value']","choicesElement":{"uid":"3b137471-174f-45b9-91f6-2348a35117bf","isWwObject":true},"justifyContent":"center"}},"name":"Radio group","wwObjectBaseId":"70a53858-53ca-40a5-ad88-c1cd33b5cc9f","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"d4daf8cb-a1f7-4b21-8a82-9fb77c7a8e24":{"uid":"d4daf8cb-a1f7-4b21-8a82-9fb77c7a8e24","_state":{"style":{"default":{"border":"1px solid ","cursor":"pointer","padding":"10px","borderRadius":"100%"},"3hvTDG_default":{"backgroundColor":"#1972D7"},"a7HKlH_default":{"backgroundColor":"#BABABA"}},"states":[{"id":"3hvTDG","label":"weekdays selected","condition":{"code":"wwFormulas.contains(variables['b6f40d10-857d-4735-9da0-3a4d34797b01']?.['weekDays'],context.item.data?.['day_number'])","__wwtype":"f"}},{"id":"a7HKlH","label":"Date after","condition":{"code":"const recurrence = variables['b6f40d10-857d-4735-9da0-3a4d34797b01'];\r\nconst isDayUnit = recurrence?.repeatEveryUnit === \"day\";\r\nconst dayNumber = context.item.data?.['day_number'];\r\n\r\n// Get day of week for the recurrence start date (0=Sun, 1=Mon,...)\r\nconst startDateDayOfWeek = pluginFormulas['832d6f7a-42c3-43f1-a3ce-9a678272f811']['getDayOfWeek'](recurrence?.['startDate']);\r\n\r\n// Instead of comparing with currentDay, check if dayNumber is after startDateDayOfWeek\r\nreturn isDayUnit && dayNumber < startDateDayOfWeek;\r\n","__wwtype":"js"}}],"interactions":[{"id":"3d7577df-ca72-4889-a1ec-6d7b29adbb81","name":"Toggle weekday selection","actions":{"__ID_1__":{"id":"__ID_1__","name":"Toggle weekday","next":"03aa1228-657f-4183-bb2d-39fdef858e8d","type":"variable","varId":"b6f40d10-857d-4735-9da0-3a4d34797b01","varValue":{"code":"const currentRecurrence = variables['b6f40d10-857d-4735-9da0-3a4d34797b01'] || { weekDays: [] };\nconst dayNumber = context.item.data?.['day_number'];\nconst currentWeekDays = currentRecurrence.weekDays || [];\nconst index = currentWeekDays.indexOf(dayNumber);\nconst newWeekDays = [...currentWeekDays];\n\nif (index === -1) {\n    newWeekDays.push(dayNumber);\n} else {\n    newWeekDays.splice(index, 1);\n}\n\nreturn { ...currentRecurrence, weekDays: newWeekDays };\n","__wwtype":"js"},"description":"Updates the weekDays array in the recurrence variable","__wwdescription":"Updates the weekDays array in the recurrence variable"},"__ID_ERROR_1__":{"id":"__ID_ERROR_1__","name":"Log error","next":null,"type":"log","level":"error","message":"Failed to toggle weekday","__wwdescription":""},"033aa85f-9619-4810-ba91-476dd9b4cf95":{"id":"033aa85f-9619-4810-ba91-476dd9b4cf95"},"03aa1228-657f-4183-bb2d-39fdef858e8d":{"id":"03aa1228-657f-4183-bb2d-39fdef858e8d","next":null,"type":"if","value":{"code":"variables['b6f40d10-857d-4735-9da0-3a4d34797b01']?.['repeatEveryUnit']==\"day\"&&variables['b6f40d10-857d-4735-9da0-3a4d34797b01']?.['repeatEveryNumber']==1","__wwtype":"f"},"branches":[{"id":"6d43187a-cfe0-4c3e-b75c-afc4ac1ec240","value":true},{"id":"033aa85f-9619-4810-ba91-476dd9b4cf95","value":false}]},"6d43187a-cfe0-4c3e-b75c-afc4ac1ec240":{"id":"6d43187a-cfe0-4c3e-b75c-afc4ac1ec240","path":"endDate","type":"variable","varId":"b6f40d10-857d-4735-9da0-3a4d34797b01","usePath":true,"internal":false,"varValue":{"code":"const recurrenceVar = variables['b6f40d10-857d-4735-9da0-3a4d34797b01'];\r\nif (!recurrenceVar) return null;\r\n\r\nconst startDateStr = recurrenceVar.startDate;\r\nconst repeatUnit = recurrenceVar.repeatEveryUnit;\r\nconst weekDays = Array.isArray(recurrenceVar.weekDays) ? recurrenceVar.weekDays : [];\r\n\r\nif (!startDateStr) return null;\r\n\r\nif (repeatUnit === \"day\" && weekDays.length > 0) {\r\n  const startDate = new Date(startDateStr);\r\n  const startDay = startDate.getDay();\r\n\r\n  // Calculate offsets for each weekday relative to startDate\r\n  const offsets = weekDays.map(day => ((day - startDay + 7) % 7));\r\n\r\n  const maxOffset = Math.max(...offsets);\r\n\r\n  // Add maxOffset days to startDate to get endDate\r\n  startDate.setDate(startDate.getDate() + maxOffset);\r\n\r\n  // Format date as YYYY-MM-DD\r\n  const yyyy = startDate.getFullYear();\r\n  const mm = String(startDate.getMonth() + 1).padStart(2, '0');\r\n  const dd = String(startDate.getDate()).padStart(2, '0');\r\n\r\n  return `${yyyy}-${mm}-${dd}`;\r\n} else {\r\n  return recurrenceVar.endDate || null;\r\n}\r\n","__wwtype":"js"}},"711f2a1f-e195-4b48-b70d-2be607223e01":{"id":"711f2a1f-e195-4b48-b70d-2be607223e01","next":"__ID_1__","type":"filter","value":{"code":"const recurrence = variables['b6f40d10-857d-4735-9da0-3a4d34797b01'];\nconst dayNumber = context.item.data?.['day_number'];\nconst currentDay = pluginFormulas['832d6f7a-42c3-43f1-a3ce-9a678272f811']['getDayOfWeek'](variables['b6f40d10-857d-4735-9da0-3a4d34797b01']?.['startDate']);\n\nif (recurrence?.repeatEveryUnit === \"day\" && dayNumber < currentDay) {\n  return false;\n}\n\nreturn true;\n","__wwtype":"js"}}},"trigger":"click","description":"Toggles the selected weekday in the recurrence weekDays array","firstAction":"711f2a1f-e195-4b48-b70d-2be607223e01","firstErrorAction":"__ID_ERROR_1__"}]},"content":{"default":{"children":[{"uid":"6178a266-3d08-4a73-adbd-daedf32bb6a9","isWwObject":true}],"_ww-layout_rowGap":"10px","_ww-layout_columnGap":"10px"}},"name":null,"wwObjectBaseId":"b783dc65-d528-4f74-8c14-e27c934c39b1","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"23abc534-5782-444d-9476-89b57f76ca79":{"uid":"23abc534-5782-444d-9476-89b57f76ca79","_state":{"style":{"default":{"flex":"1 0 auto","border":"1px solid #d1d5db","cursor":"pointer","gridRow":"4","padding":"0px 0px","rowSpan":"","columnSpan":"","gridColumn":"2"}},"interactions":[{"id":"eb71c62b-0f94-4ff6-a5d1-4f12c31b8789","icon":"workflow","name":"Untitled workflow","index":0,"actions":{"b2d67980-945d-41d6-9e6c-c687916ad38f":{"id":"b2d67980-945d-41d6-9e6c-c687916ad38f","path":"endDate","type":"variable","varId":"b6f40d10-857d-4735-9da0-3a4d34797b01","usePath":true,"internal":false,"varValue":{"code":"context.component?.variables?.['23abc534-5782-444d-9476-89b57f76ca79-value']","__wwtype":"f"}}},"trigger":"change","isSearched":false,"description":"On change","firstAction":"b2d67980-945d-41d6-9e6c-c687916ad38f"}]},"content":{"default":{"lang":"pageLang","use24":false,"format":"custom","maxDate":"","minDate":{"code":"context.component?.variables?.['238320d2-a07c-4c44-b183-a758d99d4853-value']","__wwtype":"f","defaultValue":""},"dateMode":"date","maxRange":7,"minRange":2,"readonly":{"code":"variables['b6f40d10-857d-4735-9da0-3a4d34797b01']?.['repeatEveryUnit']==\"day\"","__wwtype":"f","defaultValue":false},"required":false,"timezone":"locale","autoApply":true,"autoRange":1,"flowSteps":["month","year","calendar","time","minutes","hours","seconds"],"rangeMode":"free","startDate":"","weekStart":"1","enableFlow":false,"orientation":"horizontal","triggerZone":[{"uid":"bdb60640-464f-4a79-a29c-ad97e1275b70","isWwObject":true}],"weekNumbers":"none","allowedDates":[],"customFormat":"DD.MM.YYYY","menuPosition":"center","advancedDates":true,"closeOnScroll":false,"disabledDates":[],"enableSeconds":false,"selectionMode":"single","themeCellSize":"35px","themeFontSize":"16px","advancedColors":false,"advancedStyles":false,"initValueMulti":null,"multiCalendars":2,"themeIconColor":"#959595","themeTextColor":"#212121","calendarOnlyFit":"stretch","hideOffsetDates":false,"initValueSingle":{"code":"const recurrenceVar = variables['b6f40d10-857d-4735-9da0-3a4d34797b01'];\r\nif (!recurrenceVar) return null;\r\n\r\nconst startDateStr = recurrenceVar.startDate;\r\nconst repeatUnit = recurrenceVar.repeatEveryUnit;\r\nconst weekDays = Array.isArray(recurrenceVar.weekDays) ? recurrenceVar.weekDays : [];\r\n\r\nif (!startDateStr) return null;\r\n\r\nif (repeatUnit === \"day\" && weekDays.length > 0) {\r\n  const startDate = new Date(startDateStr);\r\n  const startDay = startDate.getDay();\r\n\r\n  // Calculate offsets for each weekday relative to startDate\r\n  const offsets = weekDays.map(day => ((day - startDay + 7) % 7));\r\n\r\n  const maxOffset = Math.max(...offsets);\r\n\r\n  // Add maxOffset days to startDate to get endDate\r\n  startDate.setDate(startDate.getDate() + maxOffset);\r\n\r\n  // Format date as YYYY-MM-DD\r\n  const yyyy = startDate.getFullYear();\r\n  const mm = String(startDate.getMonth() + 1).padStart(2, '0');\r\n  const dd = String(startDate.getDate()).padStart(2, '0');\r\n\r\n  return `${yyyy}-${mm}-${dd}`;\r\n} else {\r\n  return recurrenceVar.endDate || null;\r\n}\r\n","__wwtype":"js","defaultValue":null},"leftSidebarZone":[],"multiDatesLimit":0,"noDisabledRange":false,"themeHoverColor":"#f3f3f3","closeOnAutoApply":true,"disabledWeekDays":[],"rightSidebarZone":[],"themeBorderColor":"#ddd","themeCellPadding":"5px","themeDangerColor":"#ff6f60","enableLeftSidebar":false,"initValueRangeEnd":null,"stickedDatePicker":false,"themeBorderRadius":"4px","themeMenuMinWidth":"250px","themePrimaryColor":"#1976d2","themeSuccessColor":"#76d275","themeTimeFontSize":"32px","enableCalendarOnly":false,"enablePartialRange":false,"enableRightSidebar":false,"multiCalendarsSolo":false,"themeDisabledColor":"#f6f6f6","actionSelectElement":{"uid":"aa56e465-64d5-4eea-b83e-30c9fbee6d64","isWwObject":true},"initValueRangeStart":null,"themeHighlightColor":"#1976d219","themeHoverIconColor":"#959595","themeHoverTextColor":"#212121","themeScrollBarColor":"#959595","themeSecondaryColor":"#c0c4cc","enableMultiCalendars":false,"ignoreTimeValidation":false,"themeBackgroundColor":"#ffffff","themeMenuBorderColor":"#ddd","themePreviewFontSize":"13px","themeBorderHoverColor":"#aaaeb7","themeCellBorderRadius":"4px","themePrimaryTextColor":"#f8f5f5","disableMonthYearSelect":false,"preventMinMaxNavigation":false,"themeSuccessDisabledColor":"#a3d9b1","themeScrollBarBackgroundColor":"#f3f3f3"}},"name":"Date and Time picker end","wwObjectBaseId":"985570fc-b3c0-4566-8004-82ab3b30a11d","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"9d3e4cc0-4a9d-4d72-a259-372a92023f78":{"uid":"9d3e4cc0-4a9d-4d72-a259-372a92023f78","_state":{"style":{"default":{"display":{"code":"variables['b6f40d10-857d-4735-9da0-3a4d34797b01']?.['repeatEveryNumber']==1&&variables['b6f40d10-857d-4735-9da0-3a4d34797b01']?.['repeatEveryUnit']==\"day\"","__wwtype":"f","defaultValue":true}}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_text":{"de":{"code":"const recurrence = variables['b6f40d10-857d-4735-9da0-3a4d34797b01'];\r\nconst _ = recurrence?.repeatEveryNumber; // force reactivity\r\n\r\nif (!recurrence) {\r\n  return '<span style=\"color: red;\">‚ö†Ô∏è Keine Wiederholungsdaten</span>';\r\n}\r\n\r\nif (!recurrence.startDate || isNaN(new Date(recurrence.startDate).getTime())) {\r\n  return '<span style=\"color: red;\">‚ö†Ô∏è Bitte Startdatum w√§hlen</span>';\r\n}\r\n\r\nconst dayNames = ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'];\r\n\r\nconst startDate = new Date(recurrence.startDate);\r\nconst endDate = new Date(recurrence.endDate);\r\nconst weekDays = Array.isArray(recurrence.weekDays) ? recurrence.weekDays : [];\r\n\r\nif (weekDays.length === 0) {\r\n  return '<span style=\"color: red;\">‚ö†Ô∏è Bitte Wochentage ausw√§hlen</span>';\r\n}\r\n\r\n// Build all dates in range matching weekdays\r\nlet datesInRange = [];\r\nfor (let d = new Date(startDate); d <= endDate; d.setDate(d.getDate() + 1)) {\r\n  if (weekDays.includes(d.getDay())) {\r\n    datesInRange.push(new Date(d));\r\n  }\r\n}\r\n\r\n// Map dates to { dayName, dayNum }\r\nlet dayObjects = datesInRange.map(d => ({\r\n  dayName: dayNames[d.getDay()],\r\n  dayNum: d.getDate()\r\n}));\r\n\r\n// Group consecutive days\r\nlet grouped = [];\r\nlet tempGroup = [];\r\n\r\nfor (let i = 0; i < dayObjects.length; i++) {\r\n  if (tempGroup.length === 0) {\r\n    tempGroup.push(dayObjects[i]);\r\n  } else {\r\n    const prev = tempGroup[tempGroup.length - 1];\r\n    if (dayObjects[i].dayNum === prev.dayNum + 1) {\r\n      tempGroup.push(dayObjects[i]);\r\n    } else {\r\n      grouped.push(tempGroup);\r\n      tempGroup = [dayObjects[i]];\r\n    }\r\n  }\r\n}\r\nif (tempGroup.length) grouped.push(tempGroup);\r\n\r\n// Format groups (single day or range)\r\nconst formattedGroups = grouped.map(group => {\r\n  if (group.length === 1) {\r\n    return `${group[0].dayName} ${group[0].dayNum}.`;\r\n  } else {\r\n    return `${group[0].dayName} ${group[0].dayNum}. - ${group[group.length - 1].dayName} ${group[group.length - 1].dayNum}.`;\r\n  }\r\n});\r\n\r\n// Join with commas and \"und\"\r\nlet repeatPhrase = '';\r\nif (formattedGroups.length === 1) {\r\n  repeatPhrase = `Wiederholt sich am ${formattedGroups[0]}`;\r\n} else if (formattedGroups.length === 2) {\r\n  repeatPhrase = `Wiederholt sich am ${formattedGroups[0]} und ${formattedGroups[1]}`;\r\n} else {\r\n  const last = formattedGroups.pop();\r\n  repeatPhrase = `Wiederholt sich am ${formattedGroups.join(', ')} und ${last}`;\r\n}\r\n\r\nreturn repeatPhrase;\r\n","__wwtype":"js"},"en":{"code":"const recurrence = variables['b6f40d10-857d-4735-9da0-3a4d34797b01'];\nconst _ = recurrence?.repeatEveryNumber; // force reactivity\n\nif (!recurrence) {\n    return '<span style=\"color: red;\">‚ö†Ô∏è Keine Wiederholungsdaten</span>';\n}\n\nif (!recurrence.startDate || isNaN(new Date(recurrence.startDate).getTime())) {\n    return '<span style=\"color: red;\">‚ö†Ô∏è Bitte Startdatum w√§hlen</span>';\n}\n\nconst unitMap = {\n    day: 'Tag',\n    week: 'Woche',\n    month: 'Monat',\n    year: 'Jahr'\n};\n\nconst dayNames = ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'];\n\nconst num = recurrence.repeatEveryNumber || 1;\nconst unit = unitMap[recurrence.repeatEveryUnit] || 'Tag';\n\nlet repeatPhrase = '';\nif (num === 1) {\n    repeatPhrase = `Wiederholt sich jede ${unit}`;\n} else if (num === 2) {\n    repeatPhrase = `Wiederholt sich jede zweite ${unit}`;\n} else {\n    repeatPhrase = `Wiederholt sich alle ${num} ${unit}${unit === 'Tag' ? 'e' : 'n'}`;\n}\n\nlet dayPhrase = '';\nif (unit === 'Woche' && Array.isArray(recurrence.weekDays) && recurrence.weekDays.length > 0) {\n    const days = recurrence.weekDays.map(i => dayNames[i]);\n    if (days.length === 1) {\n        dayPhrase = ` am ${days[0]}`;\n    } else if (days.length === 2) {\n        dayPhrase = ` am ${days[0]} und ${days[1]}`;\n    } else {\n        const last = days.pop();\n        dayPhrase = ` am ${days.join(', ')} und ${last}`;\n    }\n}\n\nlet endPhrase = '';\nif (recurrence.endDate) {\n    const endDate = new Date(recurrence.endDate);\n    const formattedEnd = endDate.toLocaleDateString('de-DE', {\n        day: '2-digit',\n        month: 'short',\n        year: 'numeric'\n    });\n    endPhrase = ` bis zum ${formattedEnd}`;\n}\n\nreturn `${repeatPhrase}${dayPhrase}${endPhrase}`;\n","__wwtype":"js","defaultValue":"<p>This is some text</p>"}},"_ww-text_color":"#0E00D6","transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"14px","_ww-text_sanitize":false}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"f68d417b-c02c-4a11-ab95-e5c1e4fc9d1a":{"uid":"f68d417b-c02c-4a11-ab95-e5c1e4fc9d1a","_state":{"style":{"default":{"display":{"code":"variables['b6f40d10-857d-4735-9da0-3a4d34797b01']?.['repeatEveryNumber']>1&&variables['b6f40d10-857d-4735-9da0-3a4d34797b01']?.['repeatEveryUnit']==\"day\"","__wwtype":"f","defaultValue":true}}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_text":{"de":{"code":"const recurrence = variables['b6f40d10-857d-4735-9da0-3a4d34797b01'];\r\n\r\nif (!recurrence) {\r\n  return '<span style=\"color: red;\">‚ö†Ô∏è Keine Wiederholungsdaten</span>';\r\n}\r\n\r\nif (!recurrence.startDate || isNaN(new Date(recurrence.startDate).getTime())) {\r\n  return '<span style=\"color: red;\">‚ö†Ô∏è Bitte Startdatum w√§hlen</span>';\r\n}\r\n\r\nfunction formatDate(dateStr) {\r\n  const d = new Date(dateStr);\r\n  return d.toLocaleDateString('de-DE', { day: 'numeric', month: 'long' });\r\n}\r\n\r\nif (!Array.isArray(recurrence.weekDays) || recurrence.weekDays.length === 0) {\r\n  // No weekdays selected ‚Äî just show start and end range\r\n  const startFormatted = formatDate(recurrence.startDate);\r\n  const endFormatted = formatDate(recurrence.endDate);\r\n  return `Wiederholt sich von ${startFormatted} bis ${endFormatted}`;\r\n}\r\n\r\nreturn ''; // Or handle other cases elsewhere\r\n","__wwtype":"js"},"en":{"code":"const recurrence = variables['b6f40d10-857d-4735-9da0-3a4d34797b01'];\nconst _ = recurrence?.repeatEveryNumber; // force reactivity\n\nif (!recurrence) {\n    return '<span style=\"color: red;\">‚ö†Ô∏è Keine Wiederholungsdaten</span>';\n}\n\nif (!recurrence.startDate || isNaN(new Date(recurrence.startDate).getTime())) {\n    return '<span style=\"color: red;\">‚ö†Ô∏è Bitte Startdatum w√§hlen</span>';\n}\n\nconst unitMap = {\n    day: 'Tag',\n    week: 'Woche',\n    month: 'Monat',\n    year: 'Jahr'\n};\n\nconst dayNames = ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'];\n\nconst num = recurrence.repeatEveryNumber || 1;\nconst unit = unitMap[recurrence.repeatEveryUnit] || 'Tag';\n\nlet repeatPhrase = '';\nif (num === 1) {\n    repeatPhrase = `Wiederholt sich jede ${unit}`;\n} else if (num === 2) {\n    repeatPhrase = `Wiederholt sich jede zweite ${unit}`;\n} else {\n    repeatPhrase = `Wiederholt sich alle ${num} ${unit}${unit === 'Tag' ? 'e' : 'n'}`;\n}\n\nlet dayPhrase = '';\nif (unit === 'Woche' && Array.isArray(recurrence.weekDays) && recurrence.weekDays.length > 0) {\n    const days = recurrence.weekDays.map(i => dayNames[i]);\n    if (days.length === 1) {\n        dayPhrase = ` am ${days[0]}`;\n    } else if (days.length === 2) {\n        dayPhrase = ` am ${days[0]} und ${days[1]}`;\n    } else {\n        const last = days.pop();\n        dayPhrase = ` am ${days.join(', ')} und ${last}`;\n    }\n}\n\nlet endPhrase = '';\nif (recurrence.endDate) {\n    const endDate = new Date(recurrence.endDate);\n    const formattedEnd = endDate.toLocaleDateString('de-DE', {\n        day: '2-digit',\n        month: 'short',\n        year: 'numeric'\n    });\n    endPhrase = ` bis zum ${formattedEnd}`;\n}\n\nreturn `${repeatPhrase}${dayPhrase}${endPhrase}`;\n","__wwtype":"js","defaultValue":"<p>This is some text</p>"}},"_ww-text_color":"#0E00D6","transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"14px","_ww-text_sanitize":false}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"4dd0e32c-fcf4-4e72-9e0e-ef9d0862e91b":{"uid":"4dd0e32c-fcf4-4e72-9e0e-ef9d0862e91b","_state":{"style":{"default":{"display":{"code":"variables['b6f40d10-857d-4735-9da0-3a4d34797b01']?.['repeatEveryNumber']==1&&variables['b6f40d10-857d-4735-9da0-3a4d34797b01']?.['repeatEveryUnit']==\"week\"","__wwtype":"f","defaultValue":true}}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_text":{"de":{"code":"const recurrence = variables['b6f40d10-857d-4735-9da0-3a4d34797b01'];\r\nconst _ = recurrence?.repeatEveryNumber; // force reactivity\r\n\r\nif (!recurrence) {\r\n  return '<span style=\"color: red;\">‚ö†Ô∏è Keine Wiederholungsdaten</span>';\r\n}\r\n\r\nif (!recurrence.startDate || isNaN(new Date(recurrence.startDate).getTime())) {\r\n  return '<span style=\"color: red;\">‚ö†Ô∏è Bitte Startdatum w√§hlen</span>';\r\n}\r\n\r\nif (!recurrence.endDate || isNaN(new Date(recurrence.endDate).getTime())) {\r\n  return '<span style=\"color: red;\">‚ö†Ô∏è Bitte Enddatum w√§hlen</span>';\r\n}\r\n\r\nconst dayNamesFull = ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'];\r\n\r\nfunction formatDate(dateStr) {\r\n  const d = new Date(dateStr);\r\n  return d.toLocaleDateString('de-DE', { day: '2-digit', month: '2-digit', year: 'numeric' });\r\n}\r\n\r\nconst num = recurrence.repeatEveryNumber || 1;\r\n\r\nconst unitMap = {\r\n  day: 'Tag',\r\n  week: 'Woche',\r\n  month: 'Monat',\r\n  year: 'Jahr'\r\n};\r\nconst unit = unitMap[recurrence.repeatEveryUnit] || 'Tag';\r\n\r\nconst hasWeekDays = Array.isArray(recurrence.weekDays) && recurrence.weekDays.length > 0;\r\n\r\nconst startFormatted = formatDate(recurrence.startDate);\r\nconst endFormatted = formatDate(recurrence.endDate);\r\n\r\nlet repeatPhrase = `Wiederholt sich ab dem ${startFormatted} jede${num === 1 ? '' : ' ' + num + 'te'} ${unit}`;\r\n\r\nif (hasWeekDays) {\r\n  // Sort weekdays ascending\r\n  const sortedDays = recurrence.weekDays.slice().sort((a, b) => a - b);\r\n\r\n  // Group consecutive weekdays\r\n  let groups = [];\r\n  let group = [sortedDays[0]];\r\n\r\n  for (let i = 1; i < sortedDays.length; i++) {\r\n    if (sortedDays[i] === sortedDays[i - 1] + 1) {\r\n      group.push(sortedDays[i]);\r\n    } else {\r\n      groups.push(group);\r\n      group = [sortedDays[i]];\r\n    }\r\n  }\r\n  groups.push(group);\r\n\r\n  // Format groups with either \"Montag\" or \"von Montag bis Mittwoch\"\r\n  const formattedGroups = groups.map(g => {\r\n    if (g.length === 1) {\r\n      return dayNamesFull[g[0]];\r\n    } else {\r\n      return `von ${dayNamesFull[g[0]]} bis ${dayNamesFull[g[g.length - 1]]}`;\r\n    }\r\n  });\r\n\r\n  // Build phrase preserving order and handling \"am\" for single days nicely\r\n  let daysPhraseParts = formattedGroups.map(grp => {\r\n    if (grp.startsWith('von ')) {\r\n      return grp;\r\n    } else {\r\n      return 'am ' + grp;\r\n    }\r\n  });\r\n\r\n  let daysPhrase = '';\r\n  let bufferSingles = [];\r\n\r\n  function flushSingles() {\r\n    if (bufferSingles.length === 1) {\r\n      daysPhrase += (daysPhrase ? ' und ' : '') + 'am ' + bufferSingles[0];\r\n    } else if (bufferSingles.length > 1) {\r\n      daysPhrase += (daysPhrase ? ' und ' : '') + 'am ' + bufferSingles.join(' und ');\r\n    }\r\n    bufferSingles = [];\r\n  }\r\n\r\n  for (const part of daysPhraseParts) {\r\n    if (part.startsWith('am ')) {\r\n      bufferSingles.push(part.slice(3));\r\n    } else {\r\n      flushSingles();\r\n      daysPhrase += (daysPhrase ? ' und ' : '') + part;\r\n    }\r\n  }\r\n  flushSingles();\r\n\r\n  repeatPhrase += ' ' + daysPhrase + ` bis zum ${endFormatted}`;\r\n} else {\r\n  repeatPhrase += ` bis zum ${endFormatted}`;\r\n}\r\n\r\nreturn repeatPhrase;\r\n","__wwtype":"js"},"en":{"code":"const recurrence = variables['b6f40d10-857d-4735-9da0-3a4d34797b01'];\nconst _ = recurrence?.repeatEveryNumber; // force reactivity\n\nif (!recurrence) {\n    return '<span style=\"color: red;\">‚ö†Ô∏è Keine Wiederholungsdaten</span>';\n}\n\nif (!recurrence.startDate || isNaN(new Date(recurrence.startDate).getTime())) {\n    return '<span style=\"color: red;\">‚ö†Ô∏è Bitte Startdatum w√§hlen</span>';\n}\n\nconst unitMap = {\n    day: 'Tag',\n    week: 'Woche',\n    month: 'Monat',\n    year: 'Jahr'\n};\n\nconst dayNames = ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'];\n\nconst num = recurrence.repeatEveryNumber || 1;\nconst unit = unitMap[recurrence.repeatEveryUnit] || 'Tag';\n\nlet repeatPhrase = '';\nif (num === 1) {\n    repeatPhrase = `Wiederholt sich jede ${unit}`;\n} else if (num === 2) {\n    repeatPhrase = `Wiederholt sich jede zweite ${unit}`;\n} else {\n    repeatPhrase = `Wiederholt sich alle ${num} ${unit}${unit === 'Tag' ? 'e' : 'n'}`;\n}\n\nlet dayPhrase = '';\nif (unit === 'Woche' && Array.isArray(recurrence.weekDays) && recurrence.weekDays.length > 0) {\n    const days = recurrence.weekDays.map(i => dayNames[i]);\n    if (days.length === 1) {\n        dayPhrase = ` am ${days[0]}`;\n    } else if (days.length === 2) {\n        dayPhrase = ` am ${days[0]} und ${days[1]}`;\n    } else {\n        const last = days.pop();\n        dayPhrase = ` am ${days.join(', ')} und ${last}`;\n    }\n}\n\nlet endPhrase = '';\nif (recurrence.endDate) {\n    const endDate = new Date(recurrence.endDate);\n    const formattedEnd = endDate.toLocaleDateString('de-DE', {\n        day: '2-digit',\n        month: 'short',\n        year: 'numeric'\n    });\n    endPhrase = ` bis zum ${formattedEnd}`;\n}\n\nreturn `${repeatPhrase}${dayPhrase}${endPhrase}`;\n","__wwtype":"js","defaultValue":"<p>This is some text</p>"}},"_ww-text_color":"#0E00D6","transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"14px","_ww-text_sanitize":false}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"8e51cda6-909d-4daa-ba13-4f3ac00b9b38":{"uid":"8e51cda6-909d-4daa-ba13-4f3ac00b9b38","_state":{"style":{"default":{"display":{"code":"variables['b6f40d10-857d-4735-9da0-3a4d34797b01']?.['repeatEveryNumber']>1&&variables['b6f40d10-857d-4735-9da0-3a4d34797b01']?.['repeatEveryUnit']==\"week\"","__wwtype":"f","defaultValue":true}}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_text":{"de":{"code":"const recurrence = variables['b6f40d10-857d-4735-9da0-3a4d34797b01'];\r\nconst _ = recurrence?.repeatEveryNumber; // force reactivity\r\n\r\nif (!recurrence) {\r\n  return '<span style=\"color: red;\">‚ö†Ô∏è Keine Wiederholungsdaten</span>';\r\n}\r\n\r\nif (!recurrence.startDate || isNaN(new Date(recurrence.startDate).getTime())) {\r\n  return '<span style=\"color: red;\">‚ö†Ô∏è Bitte Startdatum w√§hlen</span>';\r\n}\r\n\r\nif (!recurrence.endDate || isNaN(new Date(recurrence.endDate).getTime())) {\r\n  return '<span style=\"color: red;\">‚ö†Ô∏è Bitte Enddatum w√§hlen</span>';\r\n}\r\n\r\nconst dayNamesFull = ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'];\r\nconst dayNamesShort = ['So', 'Mo', 'Di', 'Mi', 'Do', 'Fr', 'Sa'];\r\n\r\nfunction formatDate(dateStr) {\r\n  const d = new Date(dateStr);\r\n  return d.toLocaleDateString('de-DE', { day: '2-digit', month: '2-digit', year: 'numeric' });\r\n}\r\n\r\nconst num = recurrence.repeatEveryNumber || 1;\r\n\r\nconst unitMap = {\r\n  day: 'Tag',\r\n  week: 'Woche',\r\n  month: 'Monat',\r\n  year: 'Jahr'\r\n};\r\nconst unit = unitMap[recurrence.repeatEveryUnit] || 'Tag';\r\n\r\nconst hasWeekDays = Array.isArray(recurrence.weekDays) && recurrence.weekDays.length > 0;\r\n\r\nconst startFormatted = formatDate(recurrence.startDate);\r\nconst endFormatted = formatDate(recurrence.endDate);\r\n\r\nlet repeatPhrase = `Wiederholt sich ab dem ${startFormatted} jede${num === 1 ? '' : ' ' + num + 'te'} ${unit}`;\r\n\r\nif (hasWeekDays) {\r\n  // Sort weekdays ascending\r\n  const sortedDays = recurrence.weekDays.slice().sort((a, b) => a - b);\r\n\r\n  // Check for consecutive groups of weekdays\r\n  let groups = [];\r\n  let group = [sortedDays[0]];\r\n\r\n  for (let i = 1; i < sortedDays.length; i++) {\r\n    if (sortedDays[i] === sortedDays[i - 1] + 1) {\r\n      group.push(sortedDays[i]);\r\n    } else {\r\n      groups.push(group);\r\n      group = [sortedDays[i]];\r\n    }\r\n  }\r\n  groups.push(group);\r\n\r\n  // Format each group either as \"Montag bis Mittwoch\" or \"Montag\"\r\n  const formattedGroups = groups.map(g => {\r\n    if (g.length === 1) {\r\n      return dayNamesFull[g[0]];\r\n    } else {\r\n      return `${dayNamesFull[g[0]]} bis ${dayNamesFull[g[g.length - 1]]}`;\r\n    }\r\n  });\r\n\r\n  // Join groups with \" und \"\r\n  let daysPhrase = '';\r\n  if (formattedGroups.length === 1) {\r\n    daysPhrase = formattedGroups[0];\r\n  } else if (formattedGroups.length === 2) {\r\n    daysPhrase = `${formattedGroups[0]} und ${formattedGroups[1]}`;\r\n  } else {\r\n    const last = formattedGroups.pop();\r\n    daysPhrase = `${formattedGroups.join(', ')} und ${last}`;\r\n  }\r\n\r\n  repeatPhrase += ` ${recurrence.repeatEveryUnit === 'week' ? 'am' : 'an'} ${daysPhrase} bis zum ${endFormatted}`;\r\n} else {\r\n  // No weekdays ‚Äî just show range with repeat interval\r\n  repeatPhrase += ` bis zum ${endFormatted}`;\r\n}\r\n\r\nreturn repeatPhrase;\r\n","__wwtype":"js"},"en":{"code":"const recurrence = variables['b6f40d10-857d-4735-9da0-3a4d34797b01'];\nconst _ = recurrence?.repeatEveryNumber; // force reactivity\n\nif (!recurrence) {\n    return '<span style=\"color: red;\">‚ö†Ô∏è Keine Wiederholungsdaten</span>';\n}\n\nif (!recurrence.startDate || isNaN(new Date(recurrence.startDate).getTime())) {\n    return '<span style=\"color: red;\">‚ö†Ô∏è Bitte Startdatum w√§hlen</span>';\n}\n\nconst unitMap = {\n    day: 'Tag',\n    week: 'Woche',\n    month: 'Monat',\n    year: 'Jahr'\n};\n\nconst dayNames = ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'];\n\nconst num = recurrence.repeatEveryNumber || 1;\nconst unit = unitMap[recurrence.repeatEveryUnit] || 'Tag';\n\nlet repeatPhrase = '';\nif (num === 1) {\n    repeatPhrase = `Wiederholt sich jede ${unit}`;\n} else if (num === 2) {\n    repeatPhrase = `Wiederholt sich jede zweite ${unit}`;\n} else {\n    repeatPhrase = `Wiederholt sich alle ${num} ${unit}${unit === 'Tag' ? 'e' : 'n'}`;\n}\n\nlet dayPhrase = '';\nif (unit === 'Woche' && Array.isArray(recurrence.weekDays) && recurrence.weekDays.length > 0) {\n    const days = recurrence.weekDays.map(i => dayNames[i]);\n    if (days.length === 1) {\n        dayPhrase = ` am ${days[0]}`;\n    } else if (days.length === 2) {\n        dayPhrase = ` am ${days[0]} und ${days[1]}`;\n    } else {\n        const last = days.pop();\n        dayPhrase = ` am ${days.join(', ')} und ${last}`;\n    }\n}\n\nlet endPhrase = '';\nif (recurrence.endDate) {\n    const endDate = new Date(recurrence.endDate);\n    const formattedEnd = endDate.toLocaleDateString('de-DE', {\n        day: '2-digit',\n        month: 'short',\n        year: 'numeric'\n    });\n    endPhrase = ` bis zum ${formattedEnd}`;\n}\n\nreturn `${repeatPhrase}${dayPhrase}${endPhrase}`;\n","__wwtype":"js","defaultValue":"<p>This is some text</p>"}},"_ww-text_color":"#0E00D6","transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"14px","_ww-text_sanitize":false}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"0c10f04f-a7f5-4ffa-9d4e-760fe0ab4b8e":{"uid":"0c10f04f-a7f5-4ffa-9d4e-760fe0ab4b8e","_state":{"style":{"default":{"display":{"code":"variables['b6f40d10-857d-4735-9da0-3a4d34797b01']?.['repeatEveryUnit']==\"month\"","__wwtype":"f","defaultValue":true}}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_text":{"de":{"code":"const recurrence = variables['b6f40d10-857d-4735-9da0-3a4d34797b01'];\r\nconst _ = recurrence?.repeatEveryNumber; // force reactivity\r\n\r\nif (!recurrence) {\r\n  return '<span style=\"color: red;\">‚ö†Ô∏è Keine Wiederholungsdaten</span>';\r\n}\r\n\r\nif (!recurrence.startDate || isNaN(new Date(recurrence.startDate).getTime())) {\r\n  return '<span style=\"color: red;\">‚ö†Ô∏è Bitte Startdatum w√§hlen</span>';\r\n}\r\n\r\nif (!recurrence.endDate || isNaN(new Date(recurrence.endDate).getTime())) {\r\n  return '<span style=\"color: red;\">‚ö†Ô∏è Bitte Enddatum w√§hlen</span>';\r\n}\r\n\r\nconst dayNamesFull = ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'];\r\n\r\nfunction formatDate(dateStr) {\r\n  const d = new Date(dateStr);\r\n  return d.toLocaleDateString('de-DE', { day: 'numeric', month: 'long' });\r\n}\r\n\r\nconst num = recurrence.repeatEveryNumber || 1;\r\n\r\nconst unitMap = {\r\n  day: 'Tag',\r\n  week: 'Woche',\r\n  month: 'Monat',\r\n  year: 'Jahr'\r\n};\r\n\r\nconst unit = unitMap[recurrence.repeatEveryUnit] || 'Monat';\r\n\r\nconst startDate = new Date(recurrence.startDate);\r\nconst endDate = new Date(recurrence.endDate);\r\n\r\n// Compose the repeat interval phrase\r\nlet repeatIntervalPhrase = `Wiederholt sich jede${num === 1 ? '' : ' ' + num + 'te'} ${unit}`;\r\n\r\n// Compose the date phrase based on monthlyText\r\nlet datePhrase = '';\r\nif (recurrence.monthlyText === 'day') {\r\n  // Day of month: e.g. \"am 15.\"\r\n  datePhrase = `am ${startDate.getDate()}.`;\r\n} else if (recurrence.monthlyText === 'weekday') {\r\n  // Nth weekday of month e.g. 3rd Tuesday\r\n  const dayOfWeek = startDate.getDay(); // 0=Sun ... 6=Sat\r\n  const dayOfMonth = startDate.getDate();\r\n  const nth = Math.floor((dayOfMonth - 1) / 7) + 1;\r\n\r\n  const ordinals = ['erste', 'zweite', 'dritte', 'vierte', 'f√ºnfte'];\r\n  const nthText = ordinals[nth - 1] || `${nth}te`;\r\n\r\n  datePhrase = `am ${nthText} ${dayNamesFull[dayOfWeek]}`;\r\n} else {\r\n  datePhrase = '';\r\n}\r\n\r\n// Compose end date phrase\r\nlet endPhrase = ` bis zum ${formatDate(endDate.toISOString())}`;\r\n\r\nreturn `${repeatIntervalPhrase} ${datePhrase}${endPhrase}`;\r\n","__wwtype":"js"},"en":{"code":"const recurrence = variables['b6f40d10-857d-4735-9da0-3a4d34797b01'];\nconst _ = recurrence?.repeatEveryNumber; // force reactivity\n\nif (!recurrence) {\n    return '<span style=\"color: red;\">‚ö†Ô∏è Keine Wiederholungsdaten</span>';\n}\n\nif (!recurrence.startDate || isNaN(new Date(recurrence.startDate).getTime())) {\n    return '<span style=\"color: red;\">‚ö†Ô∏è Bitte Startdatum w√§hlen</span>';\n}\n\nconst unitMap = {\n    day: 'Tag',\n    week: 'Woche',\n    month: 'Monat',\n    year: 'Jahr'\n};\n\nconst dayNames = ['Sonntag', 'Montag', 'Dienstag', 'Mittwoch', 'Donnerstag', 'Freitag', 'Samstag'];\n\nconst num = recurrence.repeatEveryNumber || 1;\nconst unit = unitMap[recurrence.repeatEveryUnit] || 'Tag';\n\nlet repeatPhrase = '';\nif (num === 1) {\n    repeatPhrase = `Wiederholt sich jede ${unit}`;\n} else if (num === 2) {\n    repeatPhrase = `Wiederholt sich jede zweite ${unit}`;\n} else {\n    repeatPhrase = `Wiederholt sich alle ${num} ${unit}${unit === 'Tag' ? 'e' : 'n'}`;\n}\n\nlet dayPhrase = '';\nif (unit === 'Woche' && Array.isArray(recurrence.weekDays) && recurrence.weekDays.length > 0) {\n    const days = recurrence.weekDays.map(i => dayNames[i]);\n    if (days.length === 1) {\n        dayPhrase = ` am ${days[0]}`;\n    } else if (days.length === 2) {\n        dayPhrase = ` am ${days[0]} und ${days[1]}`;\n    } else {\n        const last = days.pop();\n        dayPhrase = ` am ${days.join(', ')} und ${last}`;\n    }\n}\n\nlet endPhrase = '';\nif (recurrence.endDate) {\n    const endDate = new Date(recurrence.endDate);\n    const formattedEnd = endDate.toLocaleDateString('de-DE', {\n        day: '2-digit',\n        month: 'short',\n        year: 'numeric'\n    });\n    endPhrase = ` bis zum ${formattedEnd}`;\n}\n\nreturn `${repeatPhrase}${dayPhrase}${endPhrase}`;\n","__wwtype":"js","defaultValue":"<p>This is some text</p>"}},"_ww-text_color":"#0E00D6","transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"14px","_ww-text_sanitize":false}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"1cba7456-f139-4099-8076-92bcaf5e8f1d":{"uid":"1cba7456-f139-4099-8076-92bcaf5e8f1d","_state":{"style":{"default":{"width":"80px"}},"interactions":[{"id":"d462fd65-d83f-42a1-bd8f-a15c4d562866","actions":{"b2d67980-945d-41d6-9e6c-c687916ad38f":{"id":"b2d67980-945d-41d6-9e6c-c687916ad38f","next":"d91e11b3-2aaa-4efd-a4a8-44786e9221f4","path":"repeatEveryNumber","type":"variable","varId":"b6f40d10-857d-4735-9da0-3a4d34797b01","usePath":true,"internal":false,"varValue":{"code":"context.component?.variables?.['1cba7456-f139-4099-8076-92bcaf5e8f1d-value']","__wwtype":"f"}},"d91e11b3-2aaa-4efd-a4a8-44786e9221f4":{"id":"d91e11b3-2aaa-4efd-a4a8-44786e9221f4","next":"f0802b5d-c338-4d20-825a-39a3f2a6907d","type":"filter","value":{"code":"variables['b6f40d10-857d-4735-9da0-3a4d34797b01']?.['repeatEveryUnit']==\"day\"","__wwtype":"f"}},"f0802b5d-c338-4d20-825a-39a3f2a6907d":{"id":"f0802b5d-c338-4d20-825a-39a3f2a6907d","path":"weekDays","type":"variable","varId":"b6f40d10-857d-4735-9da0-3a4d34797b01","usePath":true,"internal":false,"varValue":[]}},"trigger":"change","firstAction":"b2d67980-945d-41d6-9e6c-c687916ad38f"},{"id":"13ba9787-074b-4b15-9acb-1bb06df7acd6","actions":{"52b05bc2-7453-4ee5-9ac1-d95c4a020bc0":{"id":"52b05bc2-7453-4ee5-9ac1-d95c4a020bc0","next":"b2efc873-7839-46b0-a43b-5a1226bbd577","type":"filter","value":{"code":"variables['b6f40d10-857d-4735-9da0-3a4d34797b01']?.['repeatEveryUnit']==\"day\"&&variables['b6f40d10-857d-4735-9da0-3a4d34797b01']?.['repeatEveryNumber']>1","__wwtype":"f"}},"74c721f8-8198-4c36-ac6a-0ba77cdad09c":{"id":"74c721f8-8198-4c36-ac6a-0ba77cdad09c","path":"endDate","type":"variable","varId":"b6f40d10-857d-4735-9da0-3a4d34797b01","usePath":true,"internal":false,"varValue":null},"b2efc873-7839-46b0-a43b-5a1226bbd577":{"id":"b2efc873-7839-46b0-a43b-5a1226bbd577","next":"e6fe2566-7990-490e-aeac-eb1ee5428461","path":"endDate","type":"variable","varId":"b6f40d10-857d-4735-9da0-3a4d34797b01","usePath":true,"internal":false,"varValue":{"code":"const startDateStr = context.component?.props?.['bd0dd207-1578-4aac-a94a-0dddabaee70b'];\r\nconst daysToAdd = Number(context.component?.variables?.['1cba7456-f139-4099-8076-92bcaf5e8f1d-value']);\r\n\r\nif (!startDateStr || isNaN(daysToAdd)) {\r\n  return null; // or handle error\r\n}\r\n\r\nconst startDate = new Date(startDateStr);\r\nstartDate.setDate(startDate.getDate() + daysToAdd - 1);\r\n\r\nreturn startDate.toISOString().split('T')[0]; // returns date as YYYY-MM-DD string\r\n","__wwtype":"js"}},"e6fe2566-7990-490e-aeac-eb1ee5428461":{"id":"e6fe2566-7990-490e-aeac-eb1ee5428461","next":"74c721f8-8198-4c36-ac6a-0ba77cdad09c","type":"filter","value":{"code":"context.component?.variables?.['1cba7456-f139-4099-8076-92bcaf5e8f1d-value']==1","__wwtype":"f"}}},"trigger":"change","firstAction":"52b05bc2-7453-4ee5-9ac1-d95c4a020bc0"},{"id":"8dd0f9f9-90bf-460f-99e6-9b024198efe0","name":"Copy of workflow","actions":{"74c721f8-8198-4c36-ac6a-0ba77cdad09c":{"id":"74c721f8-8198-4c36-ac6a-0ba77cdad09c","path":"endDate","type":"variable","varId":"b6f40d10-857d-4735-9da0-3a4d34797b01","usePath":true,"internal":false,"varValue":null},"e6fe2566-7990-490e-aeac-eb1ee5428461":{"id":"e6fe2566-7990-490e-aeac-eb1ee5428461","next":"74c721f8-8198-4c36-ac6a-0ba77cdad09c","type":"filter","value":{"code":"context.component?.variables?.['1cba7456-f139-4099-8076-92bcaf5e8f1d-value']==1","__wwtype":"f"}}},"trigger":"change","firstAction":"e6fe2566-7990-490e-aeac-eb1ee5428461"}]},"content":{"default":{"side":"bottom","align":"start","choices":{"code":"return Array.from({ length: 99 }, (_, i) => ({\r\n    label: `${i + 1}`,\r\n    value: i + 1\r\n}));\r\n","__wwtype":"js"},"offsetX":"0px","offsetY":"8px","disabled":false,"readonly":false,"required":false,"autoFocus":true,"fieldName":"","chipBorder":{"code":"[{\"label\":\"Option 1\",\"value\":\"opt1\"},{\"label\":\"Option 2\",\"value\":\"opt2\"}]","__wwtype":"f"},"optionIcon":null,"selectType":"single","showSearch":true,"validation":"","zIndexOpen":2,"boundOffset":"0px","chipBgColor":"#363636","chipPadding":"2px 8px","placeholder":{"en":"Select a value"},"searchWidth":"100%","chipFontSize":"14px","chipIconSize":"14px","initialState":"closed","mappingLabel":{"code":"context.mapping?.['label']","type":"f"},"mappingValue":{"code":"context.mapping?.['value']","type":"f"},"optionCursor":"pointer","searchBorder":false,"searchMargin":"0px 0px 8px 0px","chipFontColor":"white","chipIconColor":"white","closeOnSelect":true,"dropdownWidth":{"code":"context.local.data?.['select']?.['select']?.['utils']?.['triggerWidth']+'px'","__wwtype":"f"},"manualTrigger":false,"optionBgColor":"white","optionPadding":"8px","optionSpacing":"0px","searchBgColor":"#FAFAFA","searchPadding":"8px 12px","selectOnClick":true,"triggerBorder":false,"triggerHeight":"25px","triggerMargin":"0px","chipFontWeight":null,"dropdownBorder":false,"emptyStateText":{"en":"No results found","fr":"Aucun r√©sultat trouv√©"},"optionFontSize":"14px","optionIconSize":"12px","triggerBgColor":"white","triggerPadding":"8px 8px","triggerShadows":"","dropdownBgColor":"#FFFFFF","dropdownPadding":"8px","dropdownShadows":"","initValueSingle":{"code":"return variables['b6f40d10-857d-4735-9da0-3a4d34797b01']?.['repeatEveryNumber'] ?? 1;\r\n","__wwtype":"js","defaultValue":"1"},"mappingDisabled":{"code":"false","type":"f"},"optionFontColor":"black","optionIconColor":"black","searchBorderAll":"1px solid #A3A3A3","searchFontColor":"black","triggerIconOpen":null,"triggerIconSize":"16px","unselectOnClick":true,"chipBorderRadius":"4px","customValidation":false,"optionFontWeight":null,"searchFontWeight":null,"selectedFontSize":"14px","triggerBorderAll":"1px solid #B0B0B0","triggerIconClose":null,"triggerIconColor":"black","dropdownBorderAll":"1px solid #B0B0B0","dropdownMaxHeight":"200px","emptyStatePadding":"0px","searchPlaceholder":{"en":"Search","fr":"Rechercher"},"selectedFontColor":"#333","selectedTextAlign":"left","emptyStateFontSize":"14px","optionBgColorHover":"#f5f5f5","optionBorderRadius":"4px","searchBorderRadius":"4px","selectedFontWeight":null,"closeOnClickOutside":true,"emptyStateFontColor":"black","emptyStateTextAlign":"center","placeholderFontSize":"14px","triggerBorderRadius":"4px","virtualScrollBuffer":600,"dropdownBorderRadius":"4px","emptyStateFontWeight":null,"optionBgColorFocused":"#f5f5f5","placeholderFontColor":"#333","placeholderTextAlign":"left","placeholderFontWeight":null,"allowScrollingWhenOpen":true,"searchPlaceholderColor":"#737373","virtualScrollMinItemSize":40}},"name":"Select","wwObjectBaseId":"6145eb60-0af8-4e52-bcc6-dc0f6743654e","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"75d76340-f95d-4ceb-8dff-42380dbc497e":{"uid":"75d76340-f95d-4ceb-8dff-42380dbc497e","_state":{"name":"Date input","style":{"default":{"flex":"0 1 auto"}}},"content":{"default":{"tag":"p","_ww-text_text":{"de":{"code":"context.item.data?.['preview']||\"Datum ausw√§hlen\"","__wwtype":"f"},"en":{"code":"context.item.data['preview']||\"Select a date\"","__wwtype":"f","defaultValue":"<div>Select a date</div>"}},"_ww-text_nowrap":false,"_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false,"_ww-text_wordSpacing":"0px","_ww-text_letterSpacing":"0px","_ww-text_textDecoration":"none","_ww-text_textDecorationStyle":"solid"}},"name":"Placeholder","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"e77f4688-ab29-490a-a259-ae79abb1085f":{"uid":"e77f4688-ab29-490a-a259-ae79abb1085f","_state":{"style":{"default":{"align":"center","margin":"0 10px 0 0","display":"block","rowSpan":"","textAlign":null}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_text":{"de":"<div>Wiederhole alle\n</div>","en":"<div>Repeat every</div>"},"transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"14px","_ww-text_sanitize":false}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"eae39fde-60be-4b3e-a272-ff72f72faa97":{"uid":"eae39fde-60be-4b3e-a272-ff72f72faa97","_state":{"style":{"default":{"align":"center","width":"100px","display":"block","gridRow":"4","rowSpan":"","textAlign":null,"columnSpan":"","gridColumn":"1"}}},"content":{"tablet":{},"default":{"tag":"p","bgColor":"","shadows":"","fontStyle":"ww-font-style-text","textColor":"","globalStyle":{},"_ww-text_text":{"de":"<div>Enddatum\n</div>","en":"<div>Start</div>"},"transformation":"","_ww-text_ellipsis":false,"_ww-text_fontSize":"14px","_ww-text_sanitize":false}},"name":"Text","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"},"61543631-667e-458c-8634-e8e8a519fe02":{"uid":"61543631-667e-458c-8634-e8e8a519fe02","_state":{"name":"Date input","style":{"default":{"flex":"0 1 auto"}}},"content":{"default":{"tag":"p","_ww-text_text":{"de":{"code":"context.item.data?.['preview']||\"Enddatum ausw√§hlen\"","__wwtype":"f"},"en":{"code":"context.item.data?.['preview']||\"Select a date\"","__wwtype":"f","defaultValue":"<div>Select a date</div>"}},"_ww-text_nowrap":false,"_ww-text_ellipsis":false,"_ww-text_fontSize":"16px","_ww-text_sanitize":false,"_ww-text_wordSpacing":"0px","_ww-text_letterSpacing":"0px","_ww-text_textDecoration":"none","_ww-text_textDecorationStyle":"solid"}},"name":"Placeholder","wwObjectBaseId":"d7904e9d-fc9a-4d80-9e32-728e097879ad","libraryComponentBaseId":null,"parentLibraryComponentId":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b"}},"collections":[{"id":"7984b78f-7f27-4d48-9cd7-fd268c14ddcd","designId":"d93a1b88-4f83-4782-a4d6-6bc9db5c53b3","settingsId":"1380fd5e-642d-426e-880f-d81769a573e6","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"Student_daily_logs","displayBy":null,"lastSyncDate":null,"config":{"table":"student_daily_log","dataFields":[],"fieldsMode":"guided","isAutoFetch":false,"primaryData":["id"],"isPersistentOnNav":true,"dataFieldsAdvanced":""},"error":null,"limit":null,"mode":"dynamic","filter":[],"sort":[],"isSyncing":false,"needSync":false,"fields":{},"folder":null,"description":null,"createdAt":"2025-05-27T13:54:24.620Z","updatedAt":"2025-07-05T15:40:36.770Z","data":{}},{"id":"18b475b5-a69a-4000-8dfe-1cb5558734f5","designId":"d93a1b88-4f83-4782-a4d6-6bc9db5c53b3","settingsId":"1380fd5e-642d-426e-880f-d81769a573e6","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"View School days","displayBy":null,"lastSyncDate":null,"config":{"table":"vw_school_days","dataFields":[],"fieldsMode":"guided","isAutoFetch":true,"primaryData":["day_id"],"isPersistentOnNav":true,"dataFieldsAdvanced":""},"error":null,"limit":null,"mode":"dynamic","filter":{"link":"$and","conditions":[]},"sort":[],"isSyncing":false,"needSync":false,"fields":{},"folder":"Structure/","description":null,"createdAt":"2025-05-24T10:50:19.680Z","updatedAt":"2025-07-05T15:40:36.770Z","data":{}},{"id":"d62b8548-7f35-4a50-a1b3-fd77bb8879a2","designId":"d93a1b88-4f83-4782-a4d6-6bc9db5c53b3","settingsId":"1380fd5e-642d-426e-880f-d81769a573e6","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"Students","displayBy":null,"lastSyncDate":null,"config":{"table":"vw_student_profiles","dataFields":[],"fieldsMode":"guided","isAutoFetch":true,"primaryData":["profile_id"],"isPersistentOnNav":true,"dataFieldsAdvanced":"profile_id, first_name, last_name, class_id, class:class_id ( name ), date_of_birth, gender, middle_name, nickname, allergies, profile_picture_url\n"},"error":null,"limit":null,"mode":"dynamic","filter":{"link":"$and","conditions":[]},"sort":[],"isSyncing":false,"needSync":false,"fields":{},"folder":"Profile info/","description":null,"createdAt":"2025-05-05T09:34:59.442Z","updatedAt":"2025-07-14T11:09:56.825Z","data":{}},{"id":"ee9baa8f-ba17-4f4b-b915-bb972423be13","designId":"d93a1b88-4f83-4782-a4d6-6bc9db5c53b3","settingsId":"1380fd5e-642d-426e-880f-d81769a573e6","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"Schedules","displayBy":null,"lastSyncDate":null,"config":{"table":"vw_course_schedules_detailed","dataFields":[],"fieldsMode":"guided","isAutoFetch":true,"primaryData":["id"],"isPersistentOnNav":true,"dataFieldsAdvanced":"id,\ncourse_id,\nday_of_week,\nstart_time,\nend_time,\nstart_date,\nend_date,\nroom_id,\nschool_id,\ncreated_at,\nteacher_ids,\nvalid_from,\nvalid_until,\nteacher_info:teacher_id (\n  profile_info_staff (\n    first_name,\n    last_name\n  )\n)\n"},"error":null,"limit":null,"mode":"dynamic","filter":{"link":"$and","conditions":[{"field":"is_archived","value":false,"operator":"$eq","isEmptyIgnored":false}]},"sort":[{"key":"created_at","direction":"DESC"}],"isSyncing":false,"needSync":false,"fields":{},"folder":null,"description":null,"createdAt":"2025-04-22T17:31:46.698Z","updatedAt":"2025-08-19T15:13:22.731Z","data":{}},{"id":"cc215fad-c61a-4270-9a1b-b50c3b1bfcc9","designId":"d93a1b88-4f83-4782-a4d6-6bc9db5c53b3","settingsId":"1380fd5e-642d-426e-880f-d81769a573e6","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"Periods","displayBy":null,"lastSyncDate":null,"config":{"table":"schedule_periods","dataFields":[],"fieldsMode":"guided","isAutoFetch":true,"primaryData":["id"],"isPersistentOnNav":true,"dataFieldsAdvanced":""},"error":null,"limit":null,"mode":"dynamic","filter":[],"sort":[],"isSyncing":false,"needSync":false,"fields":{},"folder":"Structure/","description":null,"createdAt":"2025-05-12T08:28:01.998Z","updatedAt":"2025-07-05T15:40:36.770Z","data":{}},{"id":"9750c008-5b3f-4bd0-8402-d792ff4b5b3c","designId":"d93a1b88-4f83-4782-a4d6-6bc9db5c53b3","settingsId":"1380fd5e-642d-426e-880f-d81769a573e6","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"Days of week","displayBy":null,"lastSyncDate":null,"config":{"table":"structure_days","dataFields":[],"fieldsMode":"guided","isAutoFetch":true,"primaryData":["id"],"isPersistentOnNav":true,"dataFieldsAdvanced":""},"error":null,"limit":null,"mode":"dynamic","filter":[],"sort":[],"isSyncing":false,"needSync":false,"fields":{},"folder":null,"description":null,"createdAt":"2025-05-16T13:50:11.604Z","updatedAt":"2025-07-05T15:40:36.770Z","data":{}},{"id":"881b151d-4f64-4d96-a74b-812bb9282cb8","designId":"d93a1b88-4f83-4782-a4d6-6bc9db5c53b3","settingsId":"1380fd5e-642d-426e-880f-d81769a573e6","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"Check In/out View","displayBy":null,"lastSyncDate":null,"config":{"table":"vw_checkin_students_today","dataFields":[],"fieldsMode":"guided","isAutoFetch":true,"primaryData":["student_id","daily_log_id"],"isPersistentOnNav":true,"dataFieldsAdvanced":""},"error":null,"limit":null,"mode":"dynamic","filter":[],"sort":[],"isSyncing":false,"needSync":false,"fields":{},"folder":"Daily checkins/","description":null,"createdAt":"2025-05-26T18:19:53.246Z","updatedAt":"2025-07-05T15:40:36.770Z","data":{}},{"id":"9055904c-c2ae-48bf-8755-996372f07f17","designId":"d93a1b88-4f83-4782-a4d6-6bc9db5c53b3","settingsId":"1380fd5e-642d-426e-880f-d81769a573e6","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"Lesson attendance today","displayBy":null,"lastSyncDate":null,"config":{"table":"vw_student_attendance_today","dataFields":["student_id","class_id","presence_status","lesson_status","lesson_id"],"fieldsMode":"guided","isAutoFetch":true,"primaryData":["student_id"],"isPersistentOnNav":true,"dataFieldsAdvanced":""},"error":null,"limit":null,"mode":"dynamic","filter":[],"sort":[],"isSyncing":false,"needSync":false,"fields":{},"folder":"Daily checkins/","description":null,"createdAt":"2025-07-06T16:01:19.538Z","updatedAt":"2025-07-06T16:03:15.809Z","data":{}},{"id":"c9dca7c3-737b-451f-9a2c-018d5a3a05a1","designId":"d93a1b88-4f83-4782-a4d6-6bc9db5c53b3","settingsId":"1380fd5e-642d-426e-880f-d81769a573e6","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"bulletin_posts","displayBy":null,"lastSyncDate":null,"config":{"table":"vw_bulletin_post_users","dataFields":[],"fieldsMode":"guided","isAutoFetch":true,"primaryData":["post_id","visible_group_id"],"isPersistentOnNav":true,"dataFieldsAdvanced":""},"error":null,"limit":null,"mode":"dynamic","filter":{"link":"$and","conditions":[]},"sort":[],"isSyncing":false,"needSync":false,"fields":{},"folder":"Bulletin_board/","description":null,"createdAt":"2025-07-13T11:06:08.579Z","updatedAt":"2025-07-14T15:50:20.125Z","data":{}},{"id":"78c83cc8-c624-4691-8900-e0cc211f7533","designId":"d93a1b88-4f83-4782-a4d6-6bc9db5c53b3","settingsId":"1380fd5e-642d-426e-880f-d81769a573e6","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"Pickup info","displayBy":null,"lastSyncDate":null,"config":{"table":"student_weekly_pickup_arrangements","dataFields":[],"fieldsMode":"guided","isAutoFetch":true,"primaryData":["id"],"isPersistentOnNav":true,"dataFieldsAdvanced":""},"error":null,"limit":null,"mode":"dynamic","filter":[],"sort":[],"isSyncing":false,"needSync":false,"fields":{},"folder":"Profile info/","description":null,"createdAt":"2025-08-06T16:36:56.948Z","updatedAt":"2025-08-06T16:37:19.980Z","data":{}},{"id":"5a94bf43-aa17-443b-8075-2f49611c7f71","designId":"d93a1b88-4f83-4782-a4d6-6bc9db5c53b3","settingsId":"1380fd5e-642d-426e-880f-d81769a573e6","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"School","displayBy":null,"lastSyncDate":null,"config":{"table":"structure_schools","dataFields":["id","name","timezone","language","year_groups","Logo","principal_id","email","phone","fax","address_street","address_number","address_postal_code","address_city","address_country","floor_options","building_options","allow_custom_course_times"],"fieldsMode":"guided","isAutoFetch":true,"primaryData":["id"],"isPersistentOnNav":true,"dataFieldsAdvanced":""},"error":null,"limit":null,"mode":"dynamic","filter":{"link":"$and","conditions":[]},"sort":[],"isSyncing":false,"needSync":false,"fields":{},"folder":"Structure/","description":null,"createdAt":"2025-04-22T14:48:14.746Z","updatedAt":"2025-07-14T06:52:54.579Z","data":{}},{"id":"5a41ba23-eb84-4d5d-aaf6-6a30c785f669","designId":"d93a1b88-4f83-4782-a4d6-6bc9db5c53b3","settingsId":"1380fd5e-642d-426e-880f-d81769a573e6","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"Attendance overview","displayBy":null,"lastSyncDate":null,"config":{"table":"vw_daily_attendance_overview","dataFields":[],"fieldsMode":"guided","isAutoFetch":true,"primaryData":[],"isPersistentOnNav":true,"dataFieldsAdvanced":""},"error":null,"limit":null,"mode":"dynamic","filter":[],"sort":[],"isSyncing":false,"needSync":false,"fields":{},"folder":"Daily checkins/","description":null,"createdAt":"2025-05-30T08:34:02.300Z","updatedAt":"2025-07-05T15:40:36.770Z","data":{}},{"id":"b8d0c0e2-1e1a-49c1-b2e7-6d468ab46eb2","designId":"d93a1b88-4f83-4782-a4d6-6bc9db5c53b3","settingsId":"1380fd5e-642d-426e-880f-d81769a573e6","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"Classes","displayBy":null,"lastSyncDate":null,"config":{"table":"structure_classes","dataFields":[],"fieldsMode":"guided","isAutoFetch":true,"primaryData":["id"],"isPersistentOnNav":true,"dataFieldsAdvanced":"id, school_id"},"error":null,"limit":null,"mode":"dynamic","filter":{"link":"$and","conditions":[]},"sort":[{"key":"name","direction":"ASC"}],"isSyncing":false,"needSync":false,"fields":{},"folder":"Structure/","description":null,"createdAt":"2025-05-06T11:39:06.477Z","updatedAt":"2025-07-14T06:52:10.314Z","data":{}},{"id":"01c07f87-68bb-480d-b7d1-e5d908c2b5fb","designId":"d93a1b88-4f83-4782-a4d6-6bc9db5c53b3","settingsId":"1380fd5e-642d-426e-880f-d81769a573e6","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"Attendance overview by class","displayBy":null,"lastSyncDate":null,"config":{"table":"vw_daily_attendance_by_class","dataFields":[],"fieldsMode":"guided","isAutoFetch":true,"primaryData":["class_id"],"isPersistentOnNav":true,"dataFieldsAdvanced":""},"error":null,"limit":null,"mode":"dynamic","filter":[],"sort":[],"isSyncing":false,"needSync":false,"fields":{},"folder":"Daily checkins/","description":null,"createdAt":"2025-05-29T18:53:06.020Z","updatedAt":"2025-07-05T15:40:36.770Z","data":{}},{"id":"cb56054d-54ad-438b-99d1-197fac60978a","designId":"d93a1b88-4f83-4782-a4d6-6bc9db5c53b3","settingsId":"1380fd5e-642d-426e-880f-d81769a573e6","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"Student absences","displayBy":null,"lastSyncDate":null,"config":{"table":"vw_attendance_dashboard","dataFields":[],"fieldsMode":"guided","isAutoFetch":true,"primaryData":["absence_note_id"],"isPersistentOnNav":true,"dataFieldsAdvanced":""},"error":null,"limit":null,"mode":"dynamic","filter":[],"sort":[],"isSyncing":false,"needSync":false,"fields":{},"folder":"Student Absences/","description":null,"createdAt":"2025-08-24T18:21:19.896Z","updatedAt":"2025-08-25T08:44:20.040Z","data":{}},{"id":"bc58fbf4-7a59-489e-9323-72fe54c88fdb","designId":"d93a1b88-4f83-4782-a4d6-6bc9db5c53b3","settingsId":"1380fd5e-642d-426e-880f-d81769a573e6","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"daily log","displayBy":null,"lastSyncDate":null,"config":{"table":"student_daily_log","dataFields":[],"fieldsMode":"guided","isAutoFetch":true,"primaryData":["id"],"isPersistentOnNav":true,"dataFieldsAdvanced":""},"error":null,"limit":null,"mode":"dynamic","filter":{"link":"$and","conditions":[]},"sort":[],"isSyncing":false,"needSync":false,"fields":{},"folder":null,"description":null,"createdAt":"2025-05-27T14:51:11.827Z","updatedAt":"2025-08-03T20:42:46.916Z","data":{}},{"id":"b2401a50-b8b7-4e37-a9fd-94c2e3722469","designId":"d93a1b88-4f83-4782-a4d6-6bc9db5c53b3","settingsId":"1380fd5e-642d-426e-880f-d81769a573e6","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"Family Members","displayBy":null,"lastSyncDate":null,"config":{"table":"family_members","dataFields":[],"fieldsMode":"guided","isAutoFetch":true,"primaryData":["family_id","profile_id"],"isPersistentOnNav":true,"dataFieldsAdvanced":""},"error":null,"limit":null,"mode":"dynamic","filter":{"link":"$and","conditions":[{"link":"$or","conditions":[]}]},"sort":[],"isSyncing":false,"needSync":false,"fields":{},"folder":"Profile info/","description":null,"createdAt":"2025-07-01T11:53:19.900Z","updatedAt":"2025-08-05T13:29:34.663Z","data":{}},{"id":"a3bd1e48-4a7d-4146-94db-4cb1320be5a7","designId":"d93a1b88-4f83-4782-a4d6-6bc9db5c53b3","settingsId":"1380fd5e-642d-426e-880f-d81769a573e6","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"Current Profile","displayBy":null,"lastSyncDate":null,"config":{"table":"vwm_user_login_profiles","dataFields":[],"fieldsMode":"guided","isAutoFetch":true,"primaryData":["id"],"isPersistentOnNav":true,"dataFieldsAdvanced":""},"error":null,"limit":null,"mode":"dynamic","filter":{"link":"$and","conditions":[{"field":"id","value":{"code":"pluginVariables['1fa0dd68-5069-436c-9a7d-3b54c340f1fa']['user']?.['user_metadata']?.['profile_id']","__wwtype":"f"},"operator":"$eq"}]},"sort":[],"isSyncing":false,"needSync":false,"fields":{},"folder":null,"description":null,"createdAt":"2025-04-22T14:59:53.760Z","updatedAt":"2025-08-02T21:19:55.633Z","data":{}},{"id":"16b855fd-bc0f-4542-92d4-72348c410e64","designId":"d93a1b88-4f83-4782-a4d6-6bc9db5c53b3","settingsId":"1380fd5e-642d-426e-880f-d81769a573e6","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"Registrations CTA","displayBy":null,"lastSyncDate":null,"config":{"table":"vw_parent_open_registration_cta","dataFields":[],"fieldsMode":"guided","isAutoFetch":true,"primaryData":["registration_period_id"],"isPersistentOnNav":true,"dataFieldsAdvanced":""},"error":null,"limit":null,"mode":"dynamic","filter":[],"sort":[],"isSyncing":false,"needSync":false,"fields":{},"folder":"Parent portal/","description":null,"createdAt":"2025-08-15T15:08:44.741Z","updatedAt":"2025-08-15T15:54:55.630Z","data":{}},{"id":"a2df9501-1d71-4d48-bfc2-9609d7e76dd6","designId":"d93a1b88-4f83-4782-a4d6-6bc9db5c53b3","settingsId":"1380fd5e-642d-426e-880f-d81769a573e6","pluginId":"f9ef41c3-1c53-4857-855b-f2f6a40b7186","type":"single","name":"registrations","displayBy":null,"lastSyncDate":null,"config":{"table":"vw_parent_course_windows","dataFields":[],"fieldsMode":"guided","isAutoFetch":true,"primaryData":["window_id"],"isPersistentOnNav":true,"dataFieldsAdvanced":""},"error":null,"limit":null,"mode":"dynamic","filter":[],"sort":[],"isSyncing":false,"needSync":false,"fields":{},"folder":"Parent portal/","description":null,"createdAt":"2025-08-15T15:55:15.871Z","updatedAt":"2025-08-15T15:55:32.187Z","data":{}}],"variables":[{"id":"840b0dde-721f-4173-a6bb-83b4a67a977f","type":"object","name":"quickEntryForm","defaultValue":{"pickup":{"studentId":"","pickupInfo":"","pickupTime":"14:00","pickupType":"","repeatPattern":"once"},"absence":{"reason":"","endDate":"","startDate":"","studentId":"","attachment":null}},"isLocalStorage":false,"isPersistentOnNav":true},{"id":"81e4928e-1d7e-45d5-91e7-d7d658a4836a","type":"string","name":"selectedTab","defaultValue":"absence","isLocalStorage":false,"isPersistentOnNav":true},{"id":"b124b4f5-0f77-4f92-b4cf-874d71967c20","type":"string","name":"parent_link_student_error_message","defaultValue":"","isLocalStorage":false,"isPersistentOnNav":false},{"id":"672b885c-0661-4adb-97f9-82b1a7562784","type":"string","name":"Section showing","defaultValue":"","isLocalStorage":false,"isPersistentOnNav":false},{"id":"9f567e70-e20b-44ac-8c59-0dc1fc75a8e0","type":"string","name":"currentView","defaultValue":"list","isLocalStorage":false,"isPersistentOnNav":true},{"id":"6984db79-fffd-4316-8f6b-847592026bf1","type":"object","name":"currentTime","defaultValue":{"date":"2024-06-25","time":"07:45","period":"Before first period","dayStatus":"before_start","isSchoolDay":true},"isLocalStorage":false,"isPersistentOnNav":true},{"id":"235f2438-9f0b-412f-866c-d350e65024ad","type":"boolean","name":"isLoading","defaultValue":false,"isLocalStorage":false,"isPersistentOnNav":false},{"id":"a978df6a-4a73-46dd-bf3e-3cf6295bcd65","type":"string","name":"selectedLanguage","defaultValue":"en","isLocalStorage":true,"isPersistentOnNav":true},{"id":"589c4e86-9ced-493e-a573-a19d141d62bd","type":"array","name":"Student connections","defaultValue":[],"isLocalStorage":false,"isPersistentOnNav":false},{"id":"a5465bfa-e22b-46bb-b13e-a7d1da7d93da","type":"object","name":"Student","defaultValue":{},"isLocalStorage":false,"isPersistentOnNav":true},{"id":"91a37c0c-4675-4e88-938b-55f2b193e266","type":"object","name":"parent_portal_selected_student","defaultValue":{},"isLocalStorage":false,"isPersistentOnNav":false},{"id":"86392f12-7b19-4a23-ab45-ffdc6c792ef0","type":"object","name":"quickEntryForm","defaultValue":{"pickup":{"studentId":"","pickupInfo":"","pickupTime":"14:00","pickupType":"","repeatPattern":"once"},"absence":{"reason":"","endDate":"","startDate":"","studentId":"","attachment":null}},"isLocalStorage":false,"isPersistentOnNav":true},{"id":"1be2275a-ecca-410e-9bb7-83f4be0806dd","type":"string","name":"supabase_url","defaultValue":"https://api.schulflex.app","isLocalStorage":false,"isPersistentOnNav":false},{"id":"b6f40d10-857d-4735-9da0-3a4d34797b01","type":"object","name":"recurance","defaultValue":{"endDate":null,"weekDays":[],"startDate":null,"monthlyText":"","repeatEveryUnit":"day","repeatEveryNumber":1},"isLocalStorage":false,"isPersistentOnNav":false},{"id":"461d0f2f-dc00-49e1-9e80-a8921a1df303","type":"string","name":"Section_Display","defaultValue":"home","isLocalStorage":false,"isPersistentOnNav":false},{"id":"dbb33dce-f242-4fe9-8aa9-1712edef6c62","type":"object","name":"course_registration_interview","defaultValue":{"step":"","student":"","course_choices":""},"isLocalStorage":false,"isPersistentOnNav":false},{"id":"5b89a262-6663-487b-a82f-f06e55069599","type":"object","name":"Wishes","defaultValue":{},"isLocalStorage":false,"isPersistentOnNav":false}],"workflows":[{"id":"bd146d7b-c64b-4b47-b018-1b48203d1681","parameters":[],"actions":{"4434bf10-d9ef-4653-a8b2-6748a4c456fb":{"id":"4434bf10-d9ef-4653-a8b2-6748a4c456fb","code":"// Set loading state to true\n  variables['235f2438-9f0b-412f-866c-d350e65024ad'] = true;\n  \n  // Simulate API call to fetch children data\n  setTimeout(() => {\n    // Mock data for children\n    variables['ecd04bdb-77bc-4e14-b890-f7eded312348'] = [\n      {\n        id: '1',\n        firstName: 'Charlotte',\n        lastName: 'Smith',\n        photoUrl: 'https://images.unsplash.com/photo-1517677129300-07b130802f46?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=150&q=80',\n        attendanceStatus: 'Present',\n        grade: '5th Grade',\n        teacher: 'Ms. Johnson'\n      },\n      {\n        id: '2',\n        firstName: 'Lucas',\n        lastName: 'Smith',\n        photoUrl: 'https://images.unsplash.com/photo-1545696968-1a5245650b36?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=150&q=80',\n        attendanceStatus: 'Present',\n        grade: '3rd Grade',\n        teacher: 'Mr. Davis'\n      }\n    ];\n    \n    // Mock data for announcements\n    variables['5cb2dc7f-b426-4343-92f4-9b4fa7051225'] = [\n      {\n        id: '1',\n        title: 'Early dismissal at 1:00 PM today',\n        message: 'Due to staff development, all students will be dismissed at 1:00 PM today.',\n        priority: 'high',\n        startDate: new Date().toISOString(),\n        endDate: new Date(new Date().setDate(new Date().getDate() + 1)).toISOString(),\n        visibleToRoles: ['parent', 'teacher']\n      },\n      {\n        id: '2',\n        title: 'School Picture Day',\n        message: 'School pictures will be taken next Monday. Please ensure your child is dressed appropriately.',\n        priority: 'medium',\n        startDate: new Date().toISOString(),\n        endDate: new Date(new Date().setDate(new Date().getDate() + 5)).toISOString(),\n        visibleToRoles: ['parent', 'teacher', 'student']\n      },\n      {\n        id: '3',\n        title: 'New Lunch Menu',\n        message: 'The updated lunch menu for the month is now available on the school website.',\n        priority: 'normal',\n        startDate: new Date().toISOString(),\n        endDate: new Date(new Date().setDate(new Date().getDate() + 30)).toISOString(),\n        visibleToRoles: ['parent', 'teacher', 'student']\n      }\n    ];\n    \n    // Mock data for events\n    variables['4db53841-0fc3-4cad-8de2-910dd5e9357f'] = [\n      {\n        id: '1',\n        title: 'Science Exploration Week',\n        description: 'A week of hands-on science activities and experiments.',\n        startDate: new Date(new Date().setDate(new Date().getDate() + 7)).toISOString(),\n        endDate: new Date(new Date().setDate(new Date().getDate() + 11)).toISOString()\n      },\n      {\n        id: '2',\n        title: 'Parent-Teacher Conferences',\n        description: 'Schedule your meeting with your child\\'s teacher.',\n        startDate: new Date(new Date().setDate(new Date().getDate() + 14)).toISOString(),\n        endDate: new Date(new Date().setDate(new Date().getDate() + 15)).toISOString()\n      },\n      {\n        id: '3',\n        title: 'Field Trip to Museum',\n        description: 'Permission slips due by next Friday.',\n        startDate: new Date(new Date().setDate(new Date().getDate() + 21)).toISOString(),\n        endDate: new Date(new Date().setDate(new Date().getDate() + 21)).toISOString()\n      }\n    ];\n    \n    // Set loading state to false after data is loaded\n    variables['235f2438-9f0b-412f-866c-d350e65024ad'] = false;\n  }, 1500);","next":null,"type":"custom-js"}},"firstAction":"4434bf10-d9ef-4653-a8b2-6748a4c456fb","firstErrorAction":null},{"id":"22917b4e-628e-45cf-98ca-319053a5cfad","parameters":[{"name":"activeTab","type":"string","defaultValue":"absence"}],"actions":{"1d5f73e3-ccca-41f2-b315-50b3902186a4":{"id":"1d5f73e3-ccca-41f2-b315-50b3902186a4","code":"const formData = variables['86392f12-7b19-4a23-ab45-ffdc6c792ef0'];\n  \n  if (context.parameters['activeTab'] === 'absence') {\n    // Validate absence form\n    const absenceData = formData.absence;\n    return !!(\n      absenceData.studentId && \n      absenceData.startDate && \n      absenceData.endDate\n    );\n  } else if (context.parameters['activeTab'] === 'pickup') {\n    // Validate pickup form\n    const pickupData = formData.pickup;\n    return !!(\n      pickupData.studentId && \n      pickupData.pickupTime && \n      pickupData.pickupType\n    );\n  }\n  \n  return false;","next":null,"type":"custom-js"}},"firstAction":"1d5f73e3-ccca-41f2-b315-50b3902186a4","firstErrorAction":null},{"id":"e3e9d329-0a4b-41b0-a358-abe6ed77fec4","parameters":[{"name":"input_code","type":"string"},{"name":"relationship","type":"string"},{"name":"child_date_of_birth","type":"string"}],"actions":{"164422ce-af4b-4451-ac98-5bc43d8ad11b":{"id":"164422ce-af4b-4451-ac98-5bc43d8ad11b","args":{"url":{"code":"variables['1be2275a-ecca-410e-9bb7-83f4be0806dd']+\"/functions/v1/parent-student-verify-dob\"","__wwtype":"f"},"data":[{"key":"input_code","value":{"code":"context.parameters['input_code']","__wwtype":"f"}},{"key":"relationship","value":{"code":"context.parameters['relationship']","__wwtype":"f"}},{"key":"child_date_of_birth","value":{"code":"context.parameters['child_date_of_birth']","__wwtype":"f"}}],"method":"POST","headers":[{"key":"Authorization","value":{"code":"\"Bearer \"+pluginVariables['1fa0dd68-5069-436c-9a7d-3b54c340f1fa']['user']?.['_session']?.['access_token']","__wwtype":"f"}}],"isWithCredentials":false},"name":"Call parent-student-verify-dob edge function","next":"eded778f-c0a6-45fc-b6a7-32b06ffa1cf1","type":"2bd1c688-31c5-443e-ae25-59aa5b6431fb-apiRequest"},"e821c5cf-ea76-4920-8fe1-0bf913a60528":{"id":"e821c5cf-ea76-4920-8fe1-0bf913a60528","next":"164422ce-af4b-4451-ac98-5bc43d8ad11b","type":"variable","varId":"b124b4f5-0f77-4f92-b4cf-874d71967c20","internal":false,"varValue":""},"eded778f-c0a6-45fc-b6a7-32b06ffa1cf1":{"id":"eded778f-c0a6-45fc-b6a7-32b06ffa1cf1","name":"Go to parent dashboard","next":null,"type":"change-page","pageId":"aa9bc985-63ed-4aea-84c1-56259e85c983","parameters":{},"description":"Navigate to parent dashboard","navigateMode":"internal","__wwdescription":"Navigate to parent dashboard"},"f7bccd78-47c3-43d0-a156-54120f625eea":{"id":"f7bccd78-47c3-43d0-a156-54120f625eea","next":null,"type":"variable","varId":"b124b4f5-0f77-4f92-b4cf-874d71967c20","internal":false,"varValue":{"code":"context.workflow.error?.['response']?.['data']?.['error']","__wwtype":"f"}}},"firstAction":"e821c5cf-ea76-4920-8fe1-0bf913a60528","firstErrorAction":"f7bccd78-47c3-43d0-a156-54120f625eea"}],"formulas":[{"id":"044f006f-a0c2-4883-b031-8ede0491a67d","code":"return variables['672b885c-0661-4adb-97f9-82b1a7562784'] === sectionName;","parameters":[{"name":"sectionName","type":"string","defaultValue":""}],"isAsync":false,"type":"js","filter":[],"sort":[]},{"id":"bafc1ac5-77d2-4281-bcf3-c88752ffab58","code":"// WeWeb JavaScript Data: scheduleOverview\r\n// Builds the overview object for the Student Schedule Overview component.\r\n// - Per-day pickup text is generic (no names).\r\n// - Global authorizedContacts list is resolved from:\r\n//   1) heimweg.contacts in the interview\r\n//   2) The Student Profile collection's parents[] for this student\r\n//   3) Any other loaded collections that contain matching IDs (fallback)\r\n// - Supports \"Falls nicht m√∂glich\" (pickup_fallback) rendering at the correct rank.\r\n\r\nconst lang = 'de'; // or read from a site/app setting if you have one\r\nconst actions = {\r\n  canEditWishes: true,\r\n  canEditHeimweg: true,\r\n  // editWishesLink: '/edit-wishes',\r\n  // editHeimwegLink: '/edit-pickup'\r\n};\r\n\r\n// ID of the Student Profile collection you showed\r\nconst STUDENT_PROFILE_COLL_ID = 'd62b8548-7f35-4a50-a1b3-fd77bb8879a2';\r\n\r\nfunction transformStudentSchedule(options) {\r\n  const {\r\n    variables: vars = typeof variables !== 'undefined' ? variables : {},\r\n    collections: colls = typeof collections !== 'undefined' ? collections : {},\r\n    lang = 'de',\r\n    actions = { canEditWishes: false, canEditHeimweg: false }\r\n  } = options || {};\r\n\r\n  // 1) Interview data\r\n  const interview = vars['dbb33dce-f242-4fe9-8aa9-1712edef6c62'] || {};\r\n  const student = interview.student || {};\r\n  const courseChoices = Array.isArray(interview.course_choices) ? interview.course_choices : [];\r\n  const heimweg = interview.heimweg || {};\r\n\r\n  // 2) Collections\r\n  const daysRaw = colls['18b475b5-a69a-4000-8dfe-1cb5558734f5']?.data || [];\r\n  const windows = colls['a2df9501-1d71-4d48-bfc2-9609d7e76dd6']?.data || [];\r\n\r\n  // Helpers\r\n  const norm = (s) => (s || '').toString().trim().toLowerCase();\r\n  const trim = (s) => (s || '').toString().trim();\r\n\r\n  // Filter days to student's school if present\r\n  const daysFiltered = student.school_id\r\n    ? daysRaw.filter(d => !d.school_id || d.school_id === student.school_id)\r\n    : daysRaw.slice();\r\n\r\n  // Fallback if empty\r\n  let daysSource = daysFiltered.length ? daysFiltered : [\r\n    { day_id: 2, day_number: 1, name_de: 'Montag',     name_en: 'Monday' },\r\n    { day_id: 3, day_number: 2, name_de: 'Dienstag',   name_en: 'Tuesday' },\r\n    { day_id: 4, day_number: 3, name_de: 'Mittwoch',   name_en: 'Wednesday' },\r\n    { day_id: 5, day_number: 4, name_de: 'Donnerstag', name_en: 'Thursday' },\r\n    { day_id: 6, day_number: 5, name_de: 'Freitag',    name_en: 'Friday' }\r\n  ];\r\n\r\n  // Sort and build mapping: any of {name_de, name_en} -> canonical German key (name_de)\r\n  daysSource = daysSource.slice().sort((a, b) => (a.day_number || 0) - (b.day_number || 0));\r\n  const nameToDeKey = {};\r\n  for (const d of daysSource) {\r\n    const de = d.name_de || '';\r\n    const en = d.name_en || '';\r\n    if (de) nameToDeKey[norm(de)] = de;\r\n    if (en) nameToDeKey[norm(en)] = de;\r\n  }\r\n\r\n  // Days for UI\r\n  const days = daysSource.map(d => ({\r\n    id: d.day_id ?? d.day_number ?? d.name_de ?? d.name_en ?? Math.random().toString(36).slice(2),\r\n    key: d.name_de || '',\r\n    label: lang === 'de' ? (d.name_de || '') : (d.name_en || d.name_de || '')\r\n  }));\r\n\r\n  // Window lookup\r\n  const windowLookup = {};\r\n  for (const w of windows) {\r\n    if (w?.window_id) windowLookup[w.window_id] = { course_name: w.course_name || '‚Äî' };\r\n  }\r\n\r\n  // Group choices by day\r\n  const choicesByDay = {};\r\n  for (const d of days) choicesByDay[d.key] = [];\r\n  for (const choice of courseChoices) {\r\n    const raw = choice?.day || '';\r\n    const deKey = nameToDeKey[norm(raw)];\r\n    if (deKey && choicesByDay[deKey]) choicesByDay[deKey].push(choice);\r\n  }\r\n  for (const k of Object.keys(choicesByDay)) {\r\n    choicesByDay[k].sort((a, b) => (a.rank ?? 0) - (b.rank ?? 0));\r\n  }\r\n\r\n  // Extract fallback info per day (ignore fallback if day is explicitly no_offer at rank 1)\r\n  const fallbackByDay = {};\r\n  const fallbackRankByDay = {};\r\n  for (const dayKey of Object.keys(choicesByDay)) {\r\n    const list = choicesByDay[dayKey] || [];\r\n    if (list.length && list[0].no_offer === true) continue;\r\n\r\n    const fallbackItem = list.find(ch => ch && ch.pickup_fallback === true);\r\n    if (fallbackItem) {\r\n      fallbackByDay[dayKey] = true;\r\n      const maxRank = Math.max(0, ...list.map(ch => ch?.rank ?? 0));\r\n      fallbackRankByDay[dayKey] = (Number.isFinite(fallbackItem.rank) && fallbackItem.rank > 0)\r\n        ? fallbackItem.rank\r\n        : (maxRank || 3);\r\n    }\r\n  }\r\n\r\n  // Max rows must cover fallback rank too\r\n  let maxWishesRows = 1;\r\n  for (const dayKey of Object.keys(choicesByDay)) {\r\n    const list = choicesByDay[dayKey] || [];\r\n    const first = list[0];\r\n\r\n    // Count real selections only (exclude fallback)\r\n    const real = (first && first.no_offer === true)\r\n      ? 1 // show \"Kein Modul\" in row 1 when no_offer\r\n      : list.filter(ch => ch?.window_id && ch.no_offer !== true && !ch.pickup_fallback).length;\r\n\r\n    const fallbackRank = fallbackRankByDay[dayKey] || 0;\r\n    maxWishesRows = Math.max(maxWishesRows, real, fallbackRank, 1);\r\n  }\r\n\r\n  // Wishes by day (respect no_offer as rank 1; exclude fallback entries)\r\n  const wishesByDay = {};\r\n  for (const d of days) {\r\n    const list = choicesByDay[d.key] || [];\r\n    if (list.length && list[0].no_offer === true) {\r\n      wishesByDay[d.key] = [{ rank: 1, title: lang === 'de' ? 'Kein Modul' : 'No module' }];\r\n    } else {\r\n      const realChoices = list.filter(ch => ch?.window_id && !ch.pickup_fallback);\r\n      wishesByDay[d.key] = realChoices.map(ch => {\r\n        const title = windowLookup[ch.window_id]?.course_name || '‚Äî';\r\n        return { rank: ch.rank ?? 0, title };\r\n      });\r\n    }\r\n  }\r\n\r\n  // Has module\r\n  const hasModule = {};\r\n  for (const d of days) {\r\n    const list = choicesByDay[d.key] || [];\r\n    hasModule[d.key] = list.some(ch => ch.window_id != null && ch.no_offer !== true);\r\n  }\r\n\r\n  // Pickup per day (generic, no names)\r\n  const pickupByDay = {};\r\n  const methodText = (methodId) => {\r\n    const de = {\r\n      goes_alone: 'geht allein nach Hause',\r\n      authorized_pickup: 'wird abgeholt',\r\n      public_transport: 'f√§hrt mit √∂ffentlichen Verkehrsmitteln nach Hause',\r\n      school_bus: 'f√§hrt mit dem Schulbus / Shuttle nach Hause',\r\n      none: '‚Äî'\r\n    };\r\n    const en = {\r\n      goes_alone: 'goes home alone',\r\n      authorized_pickup: 'is picked up',\r\n      public_transport: 'takes public transport home',\r\n      school_bus: 'takes the school bus/shuttle home',\r\n      none: '‚Äî'\r\n    };\r\n    const dict = lang === 'de' ? de : en;\r\n    return dict[methodId] || dict.none;\r\n  };\r\n  for (const d of days) {\r\n    const time = hasModule[d.key] ? '16:00' : '14:30';\r\n    let method = heimweg.method || 'none';\r\n    if (heimweg.method === 'varies_daily' && heimweg.byDay?.[d.key]) {\r\n      method = heimweg.byDay[d.key].method || 'none';\r\n    }\r\n    const text = methodText(method);\r\n    const note = (heimweg.method === 'varies_daily' && heimweg.byDay?.[d.key]?.notes) ? heimweg.byDay[d.key].notes : '';\r\n    pickupByDay[d.key] = { time, method, text, warning: '', note };\r\n  }\r\n\r\n  // Authorized contacts resolution\r\n\r\n  // Start with interview contacts\r\n  const contactMap = {};\r\n  const contactsArr = Array.isArray(heimweg.contacts) ? heimweg.contacts : [];\r\n  for (const c of contactsArr) {\r\n    if (!c?.id) continue;\r\n    const name = trim(`${trim(c.first_name)} ${trim(c.last_name)}`);\r\n    if (name) contactMap[c.id] = name;\r\n  }\r\n\r\n  const authorizedIds = Array.isArray(heimweg.authorizedIds) ? heimweg.authorizedIds : [];\r\n  const primaryId = heimweg.primaryContactId;\r\n  const authorizedIdSet = new Set(authorizedIds);\r\n\r\n  // 1) Augment from Student Profile => parents[]\r\n  const profiles = colls[STUDENT_PROFILE_COLL_ID]?.data || [];\r\n  const studentProfile = profiles.find(p => p?.profile_id === student?.student_id);\r\n  if (studentProfile && Array.isArray(studentProfile.parents)) {\r\n    for (const p of studentProfile.parents) {\r\n      const pid = p?.profile_id;\r\n      if (!pid || !authorizedIdSet.has(pid)) continue; // only index those actually authorized\r\n      const name = trim(`${trim(p.first_name)} ${trim(p.last_name)}`);\r\n      if (name && !contactMap[pid]) contactMap[pid] = name;\r\n    }\r\n  }\r\n\r\n  // 2) Fallback: scan all loaded collections for matching IDs (broad safety net)\r\n  const idFields = ['id', 'profile_id', 'contact_id', 'person_id', 'guardian_id', 'parent_id', 'user_id'];\r\n  const nameFields = ['name', 'full_name', 'display_name'];\r\n  const firstFields = ['first_name', 'firstname', 'given_name'];\r\n  const lastFields = ['last_name', 'lastname', 'family_name'];\r\n\r\n  for (const c of Object.values(colls || {})) {\r\n    const arr = Array.isArray(c?.data) ? c.data : [];\r\n    for (const row of arr) {\r\n      if (!row || typeof row !== 'object') continue;\r\n      let rowId;\r\n      for (const f of idFields) {\r\n        if (row[f] && authorizedIdSet.has(row[f])) { rowId = row[f]; break; }\r\n      }\r\n      if (!rowId || contactMap[rowId]) continue;\r\n\r\n      // Build a display name\r\n      let display = '';\r\n      for (const nf of nameFields) {\r\n        if (trim(row[nf])) { display = trim(row[nf]); break; }\r\n      }\r\n      if (!display) {\r\n        let first = '';\r\n        let last = '';\r\n        for (const ff of firstFields) if (!first && trim(row[ff])) first = trim(row[ff]);\r\n        for (const lf of lastFields) if (!last && trim(row[lf])) last = trim(row[lf]);\r\n        display = trim(`${first} ${last}`) || first || last || '';\r\n      }\r\n      if (display) contactMap[rowId] = display;\r\n    }\r\n  }\r\n\r\n  // Build global authorized list in the order of authorizedIds\r\n  const rows = [];\r\n  for (const id of authorizedIds) {\r\n    const name = contactMap[id];\r\n    if (!name) continue;\r\n    rows.push({ id, name, isPrimary: id === primaryId });\r\n  }\r\n\r\n  // Deduplicate while preserving order\r\n  const seen = new Set();\r\n  const dedupedRows = [];\r\n  for (const r of rows) {\r\n    if (seen.has(r.id)) continue;\r\n    seen.add(r.id);\r\n    dedupedRows.push(r);\r\n  }\r\n\r\n  const unresolvedIds = authorizedIds.filter(id => !contactMap[id]);\r\n  const namesList = dedupedRows.map(r =>\r\n    r.isPrimary ? `${r.name} (${lang === 'de' ? 'Prim√§r' : 'Primary'})` : r.name\r\n  ).join(', ');\r\n\r\n  const authorizedContacts = {\r\n    rows: dedupedRows,           // [{ id, name, isPrimary }]\r\n    names: namesList,            // \"Anna M√ºller (Prim√§r), Ben Wagner\"\r\n    count: dedupedRows.length,\r\n    unresolvedIds,               // IDs that could not be matched anywhere\r\n    warning: dedupedRows.length\r\n      ? (unresolvedIds.length ? `${unresolvedIds.length} ${lang === 'de' ? 'Kontakt(e) nicht gefunden' : 'contact(s) not found'}` : '')\r\n      : (lang === 'de' ? 'Keine abholberechtigten Kontakte gesetzt' : 'No authorized contacts set')\r\n  };\r\n\r\n  return {\r\n    lang,\r\n    studentName: `${student.first_name || ''} ${student.last_name || ''}`.trim() || '‚Äî',\r\n    studentId: student.student_id || '',\r\n    days,\r\n    maxWishesRows,\r\n    wishesByDay,\r\n    // New: fallback info for rendering \"Falls nicht m√∂glich\" at the correct rank\r\n    fallbackByDay,\r\n    fallbackRankByDay,\r\n    pickupByDay,\r\n    authorizedContacts,\r\n    actions\r\n  };\r\n}\r\n\r\n// Return the computed overview object for bindings\r\nreturn transformStudentSchedule({ variables, collections, lang, actions });","parameters":[],"isAsync":false,"type":"js","filter":[],"sort":[]}],"libraryComponents":[{"id":"094c58e8-37e1-4c50-82d9-4f1a9f9bb16b","configuration":{"editor":{"customStylePropertiesOrder":["bd0dd207-1578-4aac-a94a-0dddabaee70b"]},"properties":{"bd0dd207-1578-4aac-a94a-0dddabaee70b":{"id":"bd0dd207-1578-4aac-a94a-0dddabaee70b","type":"Text","label":"start date","section":"styles","bindable":true,"fallbackToDefault":true}}},"inner":{"variables":{"5a384279-14a4-49d8-a236-ba57d8b89b3c":{"id":"5a384279-14a4-49d8-a236-ba57d8b89b3c","name":"Reoccurance","type":"object","isExternal":true,"defaultValue":{"endDate":null,"weekDays":[],"startDate":null,"monthlyText":"","repeatEveryUnit":"day","repeatEveryNumber":1}},"75059e19-83e2-42b0-a9a5-8aef8e3bd8dc":{"id":"75059e19-83e2-42b0-a9a5-8aef8e3bd8dc","name":"Days","type":"array","defaultValue":[]}},"workflows":{"0c8844ec-1199-44de-9db4-7b4adb3d8b44":{"id":"0c8844ec-1199-44de-9db4-7b4adb3d8b44","name":"Set edit variable recurrance","actions":{"dfd65f69-99f7-4512-85e4-bfc297924cec":{"id":"dfd65f69-99f7-4512-85e4-bfc297924cec","type":"variable","varId":"5a384279-14a4-49d8-a236-ba57d8b89b3c","internal":true,"varValue":{"code":"context.component?.props?.['bd0dd207-1578-4aac-a94a-0dddabaee70b']","__wwtype":"f"}}},"isExternal":true,"firstAction":"dfd65f69-99f7-4512-85e4-bfc297924cec","isDropzoneAvailable":true},"87b6377d-c878-4b01-bda7-9935fb443284":{"id":"87b6377d-c878-4b01-bda7-9935fb443284","name":"set start date","actions":{"2648dac6-59cd-452d-9e02-3889aacfd1d3":{"id":"2648dac6-59cd-452d-9e02-3889aacfd1d3","path":"startDate","type":"variable","varId":"5a384279-14a4-49d8-a236-ba57d8b89b3c","usePath":true,"internal":true,"varValue":{"code":"context.parameters['date']","__wwtype":"f"}}},"isExternal":true,"parameters":[{"name":"date","type":"string"}],"firstAction":"2648dac6-59cd-452d-9e02-3889aacfd1d3"}}},"rootElementId":"ead22cc2-07fe-47a6-adb9-65b46078b586","type":null},{"id":"1d005943-01c6-49c5-8a4e-71dde5c02a42","configuration":{},"inner":{},"rootElementId":"8a0d8ed4-275f-40fb-a106-62a6e4dcec29","type":"modal"},{"id":"e6cbe8d0-7924-426d-b481-36d28125d935","configuration":{"properties":{"mode_arg":{"id":"mode_arg","type":"Text","label":"mode","defaultValue":"absence"}}},"inner":{"formulas":{"03f556ae-f67e-44ce-ae13-c1af56b493fe":{"id":"03f556ae-f67e-44ce-ae13-c1af56b493fe","code":"return context.component.variables['isPartialDay'];","name":"showPeriods","sort":[],"type":"js","filter":[],"isAsync":false,"parameters":[],"description":"Returns true if partial day is enabled"},"578bb099-9de4-4f4b-9f0d-b605b98f874e":{"id":"578bb099-9de4-4f4b-9f0d-b605b98f874e","code":"return context.component.variables['isMultiDay'];","name":"showEndDate","sort":[],"type":"js","filter":[],"isAsync":false,"parameters":[],"description":"Returns true if multi-day is enabled"}},"variables":{"isValid":{"id":"isValid","name":"isValid","type":"boolean","defaultValue":""},"isMultiDay":{"id":"isMultiDay","name":"isMultiDay","type":"boolean","defaultValue":""},"isPartialDay":{"id":"isPartialDay","name":"isPartialDay","type":"boolean","defaultValue":""}},"workflows":{"ac6b2747-f30f-4745-a288-e85cfc348a6c":{"id":"ac6b2747-f30f-4745-a288-e85cfc348a6c","name":"handleSubmit","folder":"","actions":{"24d08ed6-e442-40d3-ba25-14465b7c86ae":{"id":"24d08ed6-e442-40d3-ba25-14465b7c86ae","code":"// Get the active tab\n  const activeTab = variables['81e4928e-1d7e-45d5-91e7-d7d658a4836a'];\n  \n  // Validate the form\n  const isValid = utilsFunctions.executeGlobalFunction['22917b4e-628e-45cf-98ca-319053a5cfad'](activeTab);\n  \n  if (!isValid) {\n    // Show validation error\n    alert('Please fill in all required fields correctly');\n    return;\n  }\n  \n  // Get the form data\n  const formData = variables['840b0dde-721f-4173-a6bb-83b4a67a977f'];\n  \n  // Here you would typically call an API to save the data\n  console.log('Submitting form data:', formData);\n  \n  // Close the popup and return the data\n  utilsFunctions.closePopup(context, {\n    success: true,\n    data: formData[activeTab],\n    activeTab: activeTab\n  });","next":null,"type":"custom-js"}},"parameters":[],"description":"Validates form and submits data to API","firstAction":"24d08ed6-e442-40d3-ba25-14465b7c86ae","firstErrorAction":null},"fbb71b6a-5260-4830-90b5-a26a7227c269":{"id":"fbb71b6a-5260-4830-90b5-a26a7227c269","name":"handleCancel","folder":"","actions":{"ff45f6f5-8bc3-479e-9793-6528e5243e4c":{"id":"ff45f6f5-8bc3-479e-9793-6528e5243e4c","code":"// Close the popup without saving\n  utilsFunctions.closePopup(context, {\n    success: false\n  });","next":null,"type":"custom-js"}},"parameters":[],"description":"Closes popup without saving","firstAction":"ff45f6f5-8bc3-479e-9793-6528e5243e4c","firstErrorAction":null}}},"rootElementId":"4f08385c-af46-4df5-a719-a47d5c677b03","type":"modal"}]}